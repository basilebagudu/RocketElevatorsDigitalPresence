!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("FrontEndModules",[],e):"object"==typeof exports?exports.FrontEndModules=e():t.FrontEndModules=e()}(window,function(){return function(t){function e(e){for(var n,o,i=e[0],a=e[1],s=0,u=[];s<i.length;s++)o=i[s],r[o]&&u.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(c&&c(e);u.length;)u.shift()()}var n={},r={0:0};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,o){n=r[t]=[e,o]});e.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(t){return o.p+"chunks/"+{2:"f3dbcb8042245250550a",3:"d6987be428fe353d6757",4:"37a22231e1bf4a4622d7",5:"86dca2ba46b208ff28d9"}[t]+".js"}(t),a=function(e){s.onerror=s.onload=null,clearTimeout(c);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[t]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://d395dw5zk780j2.cloudfront.net/v16.0/",o.oe=function(t){throw t};var i=window.webpackJsonpFrontEndModules=window.webpackJsonpFrontEndModules||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var c=a;return o(o.s=119)}([function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return c});var r,o,i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},s={ie11:!!window.MSInputMethodContext&&!!document.documentMode};!function(t){t.CHANGE="change",t.click="click",t.domContentLoaded="DOMContentLoaded",t.load="load",t.message="message",t.scroll="scroll",t.SUBMIT="submit",t.VISIBILITY="visibilitychange"}(r||(r={})),function(t){t.MOBILE="mobile",t.TABLET="tablet",t.DESKTOP="desktop"}(o||(o={}));var c={attrs:{background:"background",class:"class",height:"height",hidden:"hidden",id:"id",src:"src",style:"style"},ready:new Promise(function(t){return"loading"===document.readyState?document.addEventListener(r.domContentLoaded,function(){return t()}):t()}),tagNames:{iFrame:"iframe",script:"script"},addStyles:function(t){var e=document.createElement("style");return e.innerText=t,document.head.appendChild(e),e},nodes:function(t){return Array.prototype.slice.call(t instanceof Element?[t]:t)},setVis:function(t,e){void 0===e&&(e=!0),this.nodes(t).forEach(function(t){var n=(t.getAttribute(c.attrs.style)||"").replace(/;?display:[^;]+/,"");t.setAttribute(c.attrs.style,n+(e?"":";display:none")),e?t.removeAttribute(c.attrs.hidden):t.setAttribute(c.attrs.hidden,"")})},addClass:function(t,e){t.classList.add(e)},removeClass:function(t,e){t.classList.remove(e)},checkClass:function(t,e){return!!t.classList.contains(e)},replaceClass:function(t,e,n){c.addClass(t,n),c.removeClass(t,e)},swapClass:function(t,e,n){c.checkClass(t,e)?(c.removeClass(t,e),c.addClass(t,n)):c.checkClass(t,n)&&(c.removeClass(t,n),c.addClass(t,e))},updateTabs:function(t,e){var n=this;this.nodes(t).forEach(function(t){e?e>=0?n.setTabIndex(t,e):n.hideTabIndex(t):n.removeTabIndex(t)})},setTabIndex:function(t,e){t.setAttribute("tabindex",e)},hideTabIndex:function(t){this.setTabIndex(t,"-1")},idElementExists:function(t){return null!==document.querySelector("#"+t)},removeTabIndex:function(t){t.removeAttribute("tabindex")},style:function(t,e,n){var r=this;this.nodes(t).forEach(function(t){var o=r.getStylesObj(t);n?o[e]=n:delete o[e],r.setStylesObj(t,o)})},getStylesObj:function(t){var e={};return t.hasAttribute(c.attrs.style)&&t.getAttribute(c.attrs.style).split(";").map(function(t){return t.split(":").map(function(t){return t.trim()})}).forEach(function(t){var n=i(t,2),r=n[0],o=n[1];return r&&o&&(e[r]=o)}),e},setStylesObj:function(t,e){t.setAttribute(c.attrs.style,Object.entries(e).map(function(t){var e=i(t,2);return e[0]+":"+e[1]}).join(";"))},removeStyleParam:function(t,e){var n=this.getStylesObj(t);delete n[e],this.setStylesObj(t,n)},replaceStyleValues:function(t,e,n){var r,o,i=this.getStylesObj(t),s=new RegExp(""+e,"g");try{for(var c=a(Object.keys(i)),u=c.next();!u.done;u=c.next()){var l=u.value;i[l]=i[l].replace(s,n)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}this.setStylesObj(t,i)},groupKeyValues:function(t){var e=[];return t.forEach(function(t){e.includes(t)||e.push(t)}),e},loadScript:function(t,e){var n=document.createElement(c.tagNames.script);return n.async=!0,n.src=t.replace(/^(?:https?:)?(.+)$/,"https:$1"),e&&e.forEach(function(t){n.setAttribute(t.key,t.value)}),document.head.appendChild(n),n},isTablet:function(){return!1},isMobile:function(){var t=window.matchMedia("(min-width:0px) and (max-width: 767px)");return(void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile"))&&t.matches},deviceType:function(){return this.isTablet()?o.TABLET:this.isMobile()?o.MOBILE:o.DESKTOP},getRelUrl:function(t){return document.querySelector("link[rel='"+t+"']").getAttribute("href")}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return l});var r,o=n(15),i=n(7),a=n(27),s=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},c=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){t[t.secToMs=1e3]="secToMs",t[t.decPrecision=2]="decPrecision"}(r||(r={}));var l={anim:function(t,e,n){return void 0===n&&(n=!1),s(this,void 0,void 0,function(){var o;return c(this,function(i){return o=Date.now(),[2,new Promise(function(i){var a=function(){return n?setTimeout(function(){return s()},83):requestAnimationFrame(function(){return s()})},s=function(){var n=Math.min(1,(Date.now()-o)/(e||r.secToMs)),s=t(n);n<1&&!1!==s?a():i()};a()})]})})},deCamelCase:function(t,e){if(void 0===e&&(e=" "),t)return t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2")},deCamelCaseKeys:function(t){var e=this;if(t){var n={};return Object.keys(t).forEach(function(r){return n[e.deCamelCase(r)]=t[r]}),n}},urlParams:function(t){return new URL(String(t)).searchParams},decodeHtmlEntity:function(t){return(new DOMParser).parseFromString(t,"text/html").body.textContent},event:function(t,e){return new CustomEvent(String(t),{bubbles:!0,detail:e})},hashCode:o.a,interpolateLin:function(t,e,n){return t+(e-t)*n},isEmptyObject:function(t){return!Object.entries(t).length},objectValuesToStrings:function(t){if(t){var e={};return Object.keys(t).forEach(function(n){return e[n]=String(t[n])}),e}},params:function(t){var e={};return location.search.slice(1).split("&").map(function(t){return t.split("=").map(function(t){return t.trim()})}).forEach(function(t){var n=u(t,2),r=n[0],o=n[1];return e[r]=decodeURIComponent(o)}),t?e[t]:e},promiseTimeout:function(t,e){return void 0===e&&(e=r.secToMs),s(this,void 0,void 0,function(){return c(this,function(n){return[2,Promise.race([t,new Promise(function(t,n){return setTimeout(function(){return n(new Error("Promise timed out after "+e+" ms."))},e)})])]})})},prune:i.a,query:function(t){return Object.entries(t).map(function(t){var e=u(t,2),n=e[0],r=e[1];return n+"="+encodeURIComponent(String(r))}).join("&")},retry:function(t,e,n,r){return void 0===e&&(e=3),void 0===n&&(n=1e3),void 0===r&&(r=1e3),s(this,void 0,void 0,function(){var o=this;return c(this,function(i){return[2,new Promise(function(i,a){return s(o,void 0,void 0,function(){var o,u,l=this;return c(this,function(f){switch(f.label){case 0:o=function(o){return c(this,function(a){switch(a.label){case 0:return[4,new Promise(function(i,a){return s(l,void 0,void 0,function(){var s;return c(this,function(c){switch(c.label){case 0:return[4,this.promiseTimeout(t(),r).catch(a)];case 1:return!(s=c.sent())&&o<e-1?setTimeout(i,n):i(s),[2]}})})}).catch(console.log)];case 1:return a.sent()?(i(),[2,"break"]):[2]}})},u=0,f.label=1;case 1:return u<e?[5,o(u)]:[3,4];case 2:if("break"===f.sent())return[3,4];f.label=3;case 3:return u+=1,[3,1];case 4:return a(),[2]}})})})]})})},shortId:a.a}},function(t,e,n){(function(e){var n="object",r=function(t){return t&&t.Math==Math&&t};t.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof e==n&&e)||Function("return this")()}).call(this,n(81))},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.EMAIL_VERIFIED="idEmailVerified",t.IDENTITY_CHANGE="idChange",t.IDENTITY_INIT="idInit",t.SESSION_INIT="idSession",t.PROVIDER_ID_ASSIGNED="providerIdAssigned",t.LOGIN_MODAL_READY="loginModalReady",t.MP_READY="mpReady"}(r||(r={}))},function(t,e,n){"use strict";var r=function(){function t(){}return t.jsonDecode=function(e,n,r){for(var o in void 0===r&&(r=!1),n)if(n.hasOwnProperty(o)){var i=n[o];if("object"==typeof i&&!(i instanceof Array))continue;if(i instanceof Array&&i.length>0&&"object"==typeof i[0])continue;e[r?t.toCamel(o):o]=i}return e},t.toCamel=function(t){var e=t.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""});return e.substr(0,1).toLowerCase()+e.substr(1)},t}();n.d(e,"a",function(){return o});var o=function(){function t(){}return t.prototype.fromJson=function(t,e){return void 0===e&&(e=!1),r.jsonDecode(this,t,e)},t}()},function(t,e,n){var r=n(2),o=n(25),i=n(56),a=n(90),s=r.Symbol,c=o("wks");t.exports=function(t){return c[t]||(c[t]=a&&s[t]||(a?s:i)("Symbol."+t))}},function(t,e,n){var r=n(2),o=n(45).f,i=n(14),a=n(32),s=n(36),c=n(83),u=n(67);t.exports=function(t,e){var n,l,f,p,d,h=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=o(n,l))&&d.value:n[l],!u(y?l:h+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,t)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=JSON.parse(JSON.stringify(t||"null"));return Object.keys(e).forEach(function(t){return(null===e[t]||void 0===e[t]||e[t]instanceof Function)&&delete e[t]}),e}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.buildOne=function(t,e,n){void 0===n&&(n=!1);var r=new t;return r.fromJson(e,n),r},t.buildMany=function(t,e,n){var r=this;return void 0===n&&(n=!1),e.map(function(e){return r.buildOne(t,e,n)})},t}()},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(13);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(12),o=n(22),i=n(31);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=0;if(void 0===t)return e;for(var n=JSON.stringify(t),r=0;r<n.length;r++){e=(e<<5)-e+n.charCodeAt(r),e&=e}return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.listeners={}}return t.prototype.addEventListener=function(t,e){return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),this},t.prototype.dispatchEvent=function(t){try{return(this.listeners[t.type]||[]).forEach(function(e){return"handleEvent"in e?e.handleEvent(t):e(t)}),!0}catch(t){return!1}},t.prototype.removeEventListener=function(t,e){var n=(this.listeners[t]||[]).indexOf(e);n>=0&&this.listeners[t].splice(n,1)},t}()},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t[t.ACK=0]="ACK",t[t.DELETE=1]="DELETE",t[t.GET=2]="GET",t[t.SET=3]="SET"}(r||(r={}))},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.ID="x-id",t.OPT_OUT_POL="political-ad-opt-out"}(r||(r={}))},function(t,e,n){"use strict";var r,o=n(8),i=n(4),a=n(15),s=n(7),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},l=function(t){function e(n,r,o,i){void 0===r&&(r=e.defaultExpireMs),void 0===o&&(o=Date.now());var a=t.call(this)||this;return a.data=n,a.exp=r,a.ts=o,a.mac=i,i||a.updateHash(),a}return c(e,t),e.prototype.fromJson=function(e){t.prototype.fromJson.call(this,e),e&&e.data&&(this.data=e.data,this.mac||this.updateHash())},e.prototype.isValid=function(){var t=Object(s.a)(this),e=(t.mac,u(t,["mac"]));return this.mac===Object(a.a)(e)&&(0===this.exp||Date.now()-this.ts<this.exp)},e.prototype.toString=function(){return JSON.stringify(Object(s.a)(this))},e.prototype.updateHash=function(){var t=Object(s.a)(this),e=(t.mac,u(t,["mac"]));this.mac=Object(a.a)(e)},e.defaultExpireMs=6048e5,e}(i.a);n.d(e,"a",function(){return d});var f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t},d=new(function(){function t(){this.cookie={delim:";",keys:{expires:"expires",path:"path",samesite:"SameSite",secure:"Secure"},path:"/",samesite:{lax:"Lax",none:"None",strict:"Strict"},sep:"=",delete:function(t){document.cookie=[" "+t+this.sep," "+this.keys.expires+this.sep+new Date(0).toUTCString()," "+this.keys.path+this.sep+this.path," "+this.keys.secure," "+this.keys.samesite+this.sep+this.samesite.none].join(this.delim)},get:function(t){var e=this,n=JSON.parse((document.cookie.split(this.delim).find(function(n){return n.trim().startsWith(""+t+e.sep)})||"").trim().split(this.sep).pop()||"null"),r=o.a.buildOne(l,n);return r.isValid()?r:this.delete(t)},set:function(t,e,n){document.cookie=[" "+t+this.sep+e," "+this.keys.expires+this.sep+new Date(Date.now()+n).toUTCString()," "+this.keys.path+this.sep+this.path," "+this.keys.secure," "+this.keys.samesite+this.sep+this.samesite.none].join(this.delim)}},this.local={delete:function(t){localStorage.removeItem(t)},get:function(t){var e=o.a.buildOne(l,JSON.parse(localStorage.getItem(t)||"null"));return e.isValid()?e:this.delete(t)},set:function(t,e){localStorage.setItem(t,e.toString())}}}return t.prototype.delete=function(t){try{return this.cookie.delete(t),this.local.delete(t),!0}catch(t){return!1}},t.prototype.get=function(t){var e=p([].concat(this.cookie.get(t)),[].concat(this.local.get(t))).reduce(function(t,e){return e&&t&&t.ts>e.ts||!e?t:e});if(e)return e.data},t.prototype.set=function(t,e,n){try{var r=new l(e,n);return this.cookie.set(t,r.toString(),r.exp),this.local.set(t,r.toString()),!0}catch(t){return!1}},t}())},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(12),o=n(54),i=n(11),a=n(47),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(39),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(46),o=n(21);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(2),o=n(36),i=n(37),a=r["__core-js_shared__"]||o("__core-js_shared__",{});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:i?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(34);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){void 0===t&&(t=6);for(var e="";e.length<t;)e+=Math.random().toString(36).slice(2).slice(-Math.min(11,t));return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,o=n(4),i=n(15),a=n(7),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},u=function(t){function e(e,n,r,o){void 0===r&&(r=Date.now());var i=t.call(this)||this;return i.action=e,i.data=n,i.ts=r,i.updateHash(o),i}return s(e,t),e.prototype.fromJson=function(e){return t.prototype.fromJson.call(this,e),e&&e.data&&(this.data=e.data),this},e.prototype.send=function(){return Object(a.a)(this)},e.prototype.validate=function(){var t=Object(a.a)(this),n=t.hash,r=c(t,["hash"]);return n===Object(i.a)(r)&&Date.now()-this.ts<e.lifespanMs},e.prototype.updateHash=function(t){var e=Object(a.a)(this),n=(e.hash,c(e,["hash"]));this.hash=t||Object(i.a)(n)},e.lifespanMs=3e4,e}(o.a)},function(t,e,n){"use strict";var r,o,i=n(0),a=n(16),s=n(41),c=n(19),u=n(20),l=n(75),f=n(4),p=n(1),d=n(77),h=n(44),y=(n(170),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},g=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t},m=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};!function(t){t.HTML="html",t.VIDEO="video"}(o||(o={}));var b={attr:{highImpact:{key:"data-ad-high-impact"},location:{key:"data-ad-loc"},mobileSize:{key:"data-ad-mobile"},outOfPage:{key:"data-ad-oop"},size:{key:"data-ad"},tabletSize:{key:"data-ad-tablet"},target:{key:"data-ad-target"},type:{key:"data-ad-type",value:{html:o.HTML,video:o.VIDEO}},width:{key:"data-ad-width"}}},_=function(t){function e(n,r,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var a=t.call(this)||this;return a.el=n,a.targeting=r,a.refresh=o,a.adLight=i,a.adClasses={centerRefreshAd:"ad-refresh",refreshBkgd:"ad-refresh-bkgd",stickyWidget:"sticky-widget",widgetSticky:"widget-sticky"},!a.refresh||a.adLight||a.isNative()||a.isHighImpact()||a.hasRefreshEnable()||a.calculateRefreshSizes(a.el),n.hasAttribute("id")||n.setAttribute("id","ad-"+p.b.shortId()),a.id=n.getAttribute("id"),a.width=n.getBoundingClientRect().width,a.isOutOfPage()||(a.sizes=e.normalizeSizes(JSON.parse(n.getAttribute(b.attr.size.key)||"null")||e.defaultConf.size)),r&&(a.targets=a.targeting(JSON.parse(n.getAttribute(b.attr.target.key)||"null"),n.getAttribute(b.attr.location.key))),a.type=n.getAttribute(b.attr.type.key)||e.defaultConf.type,a}return y(e,t),e.getAdElements=function(){return i.c.nodes(document.querySelectorAll("["+b.attr.size.key+"]"))},e.normalizeSizes=function(t){if(t&&t.length)return Array.isArray(t[0])?t:[t]},e.prototype.calculateRefreshSizes=function(t){if(this.refresh){var e=!t.hasAttribute(I.DOM.attrs.sticky),n=this.getAdDeviceTypeSizes().map(function(t){return t.length>1&&!isNaN(t[1])?parseInt(t[1],10):0}),r=n.length>0?Math.max.apply(Math,g(n)):0;isFinite(r)&&r>=20&&(e&&t.classList.add(this.adClasses.refreshBkgd),this.reflowHeight=r+"px !important",i.c.style(t,i.c.attrs.height,this.reflowHeight),this.centerRefreshAds(t))}},e.prototype.destroy=function(){},e.prototype.display=function(t,e){this.advertiser=e,this.sizeRendered=t},e.prototype.fallBack=function(t){this.el.innerHTML=t},e.prototype.isOutOfPage=function(){return this.el.hasAttribute(b.attr.outOfPage.key)},e.prototype.isHighImpact=function(){return this.el.hasAttribute(b.attr.highImpact.key)},e.prototype.isWallpaper=function(){return JSON.stringify(this.sizes)===JSON.stringify([I.Wallpaper.size])},e.prototype.isLeaderBoard=function(){return this.el.id.search("leaderboard")>-1},e.prototype.isInterscroller=function(){var t,e;try{for(var n=m(I.Interscroller.sizes),r=n.next();!r.done;r=n.next()){var o=r.value;if(JSON.stringify(this.el.getAttribute(b.attr.size.key)).indexOf(JSON.stringify(o))>-1)return!0}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return!1},e.prototype.isNative=function(){return JSON.stringify(this.el.getAttribute(b.attr.size.key)).indexOf(""+I.Native.size)>-1},e.prototype.hasRefreshEnable=function(){return this.el.hasAttribute(d.a.attr.state.key)},e.prototype.hasMobileSize=function(){return this.el.hasAttribute(b.attr.mobileSize.key)},e.prototype.hasTabletSize=function(){return this.el.hasAttribute(b.attr.tabletSize.key)},e.prototype.loaded=function(){this.el.setAttribute(b.attr.width.key,""+this.el.getBoundingClientRect().width),this.el.dispatchEvent(p.b.event(h.a.DISPLAY,this))},e.prototype.validSizes=function(){var t=this;if(this.isWallpaper())return this.sizes;if(this.isLeaderBoard())return this.sizes;var e=this.el.getBoundingClientRect().width,n=this.el.getAttribute(b.attr.width.key),r=n?parseInt(n):0,o=e>0?e:r;return this.mobileSizes=this.getMobileSizes(),this.tabletSizes=this.getTabletSizes(),(this.getAdDeviceTypeSizes()||[]).filter(function(e){return e[0]<=(t.isBigBox()?o+1:o)})},e.prototype.getAdDeviceTypeSizes=function(){var t=[];switch(i.c.deviceType()){case i.d.MOBILE:t=this.getMobileSizes();break;case i.d.TABLET:t=this.getTabletSizes()}return 0===t.length?this.getDesktopSizes():t},e.prototype.getDesktopSizes=function(){var t=e.normalizeSizes(JSON.parse(this.el.getAttribute(b.attr.size.key)));return void 0===t?[]:t},e.prototype.getMobileSizes=function(){var t=e.normalizeSizes(JSON.parse(this.el.getAttribute(b.attr.mobileSize.key)));return void 0===t?[]:t},e.prototype.getTabletSizes=function(){var t=e.normalizeSizes(JSON.parse(this.el.getAttribute(b.attr.tabletSize.key)));return void 0===t?[]:t},e.prototype.isBigBox=function(){return this.el.id.search("bigbox")>-1},e.prototype.centerRefreshAds=function(t){var e=null!==document.querySelector("."+this.adClasses.stickyWidget),n=null!==document.querySelector("."+this.adClasses.widgetSticky);this.isLeaderBoard()||!e&&!n?t.classList.add(this.adClasses.centerRefreshAd):n?t.classList.add(this.adClasses.widgetSticky):e&&t.classList.add(this.adClasses.stickyWidget)},e.defaultConf={size:[300,250],type:o.HTML},e}(f.a);n.d(e,"a",function(){return I});var w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},S=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},I=function(t){function e(e,n,r){var o=t.call(this)||this;return o.adapter=e,o.formatter=n,o.targeting=r,o.adLight=!1,o.optOutPoliticalAds=!0,o.registered=!1,o.pageAgeGated=!1,o.synchronizeStores(),o}return w(e,t),e.destroyOOP=function(t){t.filter(function(t){return t.sizeRendered&&t.isWallpaper()}).forEach(function(){document.body.classList.remove(e.Wallpaper.bodyClass);var t=document.getElementById(e.Wallpaper.containerId);t&&t.remove()})},e.removeSpecialCharacters=function(t){return void 0!==t?t.map(function(t){return t.replace(/[!'()*]/g,"")}):[]},e.prototype.initialize=function(t){return E(this,void 0,void 0,function(){return S(this,function(n){switch(n.label){case 0:return this.adapter.adURI=this.formatter(t.provider.account,t.siteId,e.removeSpecialCharacters(t.ancestry),t.page),this.adapter.initializeBidding(t.bidding),this.adapter.initializeVerifier(t.verifier),this.adapter.initializeTagManagers(t.tagManagers,t.pageConfig,t.analyticsConfig),t.pageConfig&&t.pageConfig.ageGate&&t.pageConfig.ageGate.enabled&&(this.pageAgeGated=!0),this.adapter.target(this.targeting.page({ancestry:t.ancestry,articleId:t.articleId,negative:t.negative,network:t.network,optOutPoliticalAds:this.optOutPoliticalAds,originId:t.originId,property:t.property,sensitive:t.sensitive,type:t.page,writers:t.writers})),this.setRefreshAd(t.refresh),[4,this.update(t.adLight)];case 1:return n.sent(),[2]}})})},e.prototype.getTargeting=function(t){return{adUnit:this.formatter(t.provider.account,t.siteId,e.removeSpecialCharacters(t.ancestry),t.page),adTargetingParams:this.getTargetURI(this.targeting.page({ancestry:t.ancestry,articleId:t.articleId,negative:t.negative,network:t.network,optOutPoliticalAds:this.optOutPoliticalAds,originId:t.originId,property:t.property,sensitive:t.sensitive,type:t.page,writers:t.writers}))}},e.prototype.setRefreshAd=function(t){this.refreshAd=t},e.prototype.update=function(t){return E(this,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return this.adLight=t,this.adLight&&!this.registered||!this.adLight&&this.registered?[2]:this.pageAgeGated?[4,l.a.verified]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.registerAds().catch(console.log),[2]}})})},e.prototype.getAds=function(){var t=this;return _.getAdElements().map(function(n){return new(n.hasAttribute(e.DOM.attrs.sticky)?t.adSticky:_)(n,t.targeting.ad.bind(t.targeting),t.refreshAd,t.adLight)})},e.prototype.registerAds=function(t){return E(this,void 0,void 0,function(){var r,o=this;return S(this,function(a){switch(a.label){case 0:return[4,i.c.ready];case 1:return a.sent(),this.adLight?(this.registered&&(e.destroyOOP(this.adapter.ads),this.adapter.destroy(),this.registered=!1),[2]):this.registered?[2]:(this.registered=!0,this.adSticky||!document.querySelector("["+e.DOM.attrs.sticky+"]")?[3,3]:[4,n.e(4).then(n.bind(null,207))]);case 2:r=a.sent().WithSticky,this.adSticky=r(_),a.label=3;case 3:return(t||this.getAds()).forEach(function(t){return o.adapter.registerAd(t)}),this.adapter.requestAds(t),[2]}})})},e.prototype.getTargetURI=function(t){return encodeURIComponent([].concat(t).map(function(t){return t.key+"="+t.value}).join("&"))},e.prototype.synchronizeStores=function(){var t=this,e=u.a.get(c.a.OPT_OUT_POL);this.optOutPoliticalAds=void 0===e||!!e,s.a.get(c.a.OPT_OUT_POL).then(function(n){t.optOutPoliticalAds=!!n,t.optOutPoliticalAds!==e&&u.a.set(c.a.OPT_OUT_POL,t.optOutPoliticalAds)}).catch(console.log)},e.DOM={attrs:{sticky:"data-ad-sticky",stickyOffset:"data-ad-sticky-offset",stickySec:"data-ad-sticky-sec"},classes:{highImpact:"ad__high-impact"}},e.Wallpaper={bodyClass:"wallpaper",containerId:"wallpaper-wrapper",readyId:"wallpaper-spot-left",selector:"#wallpaper-wrapper a",size:[4,4]},e.Native={size:[5,5]},e.Interscroller={sizes:[[6,6],[7,7]]},e}(a.a)},function(t,e,n){"use strict";var r,o;n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),function(t){t.VERIFIED="ageVerified"}(r||(r={})),function(t){t.VERIFIED="PageAgeGateVerified",t.VERIFYING="PageAgeGateVerifying",t.FAILED="PageAgeGateFailed"}(o||(o={}))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(2),o=n(25),i=n(14),a=n(10),s=n(36),c=n(55),u=n(33),l=u.get,f=u.enforce,p=String(c).split("toString");o("inspectSource",function(t){return c.call(t)}),(t.exports=function(t,e,n,o){var c=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||i(n,"name",e),f(n).source=p.join("string"==typeof e?e:"")),t!==r?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||c.call(this)})},function(t,e,n){var r,o,i,a=n(82),s=n(2),c=n(9),u=n(14),l=n(10),f=n(49),p=n(38),d=s.WeakMap;if(a){var h=new d,y=h.get,v=h.has,g=h.set;r=function(t,e){return g.call(h,t,e),e},o=function(t){return y.call(h,t)||{}},i=function(t){return v.call(h,t)}}else{var m=f("state");p[m]=!0,r=function(t,e){return u(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},i=function(t){return l(t,m)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(2),o=n(26),i=Function.call;t.exports=function(t,e,n){return o(i,r[t].prototype[e],n)}},function(t,e,n){var r=n(2),o=n(14);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){"use strict";var r,o=n(17),i=n(8),a=n(1),s=n(0),c=function(){function t(){this.stack=[],this.forEach=this.stack.forEach}return t.prototype.find=function(t){return this.stack.find(t)},t.prototype.peek=function(){return this.stack[0]||void 0},t.prototype.push=function(t){var e=this;return[].concat(t).forEach(function(t){return e.stack.push(t)}),this.stack.length},t.prototype.remove=function(t){this.stack.splice(this.stack.indexOf(t),1)},t.prototype.shift=function(){return this.stack.shift()},t.prototype.take=function(t){return t>1?this.stack.splice(0,t):this.stack.shift()},t}(),u=n(43),l=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},f=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=function(){function t(t){this.xdSrc=t,this.queue=new c,this.initIFrame(),this.xdOrigin=new URL(this.xdSrc).origin}return t.prototype.request=function(e,n){return void 0===n&&(n=t.timeoutMs),l(this,void 0,void 0,function(){var t,r,o,i=this;return f(this,function(s){switch(s.label){case 0:return t={id:e.id},[4,this.ready];case 1:s.sent(),r=a.b.promiseTimeout(new Promise(function(n,r){return l(i,void 0,void 0,function(){return f(this,function(o){t.resolve=n;try{this.iFrame.postMessage(e.send(),this.xdOrigin)}catch(t){r(t)}return[2]})})}),n),this.queue.push(t),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,r];case 3:return[2,s.sent()];case 4:throw o=s.sent(),this.queue.remove(t),o;case 5:return[2]}})})},t.prototype.initIFrame=function(){var e=this;this.ready=new Promise(function(n){return l(e,void 0,void 0,function(){var e,r,o=this;return f(this,function(i){switch(i.label){case 0:return[4,s.c.ready];case 1:i.sent(),(e=document.getElementById(t.iFrameId))||((e=document.createElement(s.c.tagNames.iFrame)).id=t.iFrameId,e.src=new URL(this.xdSrc).protocol+"//"+this.xdSrc.replace(/^(?:.*\/\/)?([^\/]+.*)$/,"$1")+"#"+encodeURIComponent(document.location.href.replace(/^(.*\/\/[^\/]+).*$/,"$1")),s.c.setVis(e,!1),document.body.appendChild(e)),r=!1;try{r="complete"===e.contentWindow.document.readyState&&"about:blank"!==e.contentWindow.location.href}catch(t){}return r?(this.iFrame=e.contentWindow,n()):e.addEventListener(s.b.load,function(){o.iFrame=e.contentWindow,n()}),window.addEventListener(s.b.message,this.onMessage.bind(this)),[2]}})})})},t.prototype.onMessage=function(t){if(t.origin===this.xdOrigin){var e=i.a.buildOne(u.a,t.data);if(e.validate())if(this.queue.peek()&&e.replyTo===this.queue.peek().id)for(this.queue.shift().resolve(e.data);this.queue.peek()&&void 0!==this.queue.peek().data;){var n=this.queue.shift();n.resolve(n.data||void 0)}else{var r=this.queue.find(function(t){return e.replyTo===t.id});r&&(r.data=e.data||"")}}},t.iFrameId="fem-xd",t.timeoutMs=a.a.secToMs,t}(),d=n(64),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=function(t){function e(e,n,r,o,i,a){void 0===i&&(i=Date.now());var s=t.call(this,e,r,i,a)||this;return s.action=e,s.key=n,s.data=r,s.exp=o,s.ts=i,s.updateHash(a),s}return h(e,t),e}(d.a);n.d(e,"a",function(){return m});var v=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},g=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=new(function(){function t(t){this.xd=new p(t)}return t.prototype.delete=function(t,e){return v(this,void 0,void 0,function(){return g(this,function(n){return[2,this.xd.request(new y(o.a.DELETE,t),e)]})})},t.prototype.get=function(t,e){return v(this,void 0,void 0,function(){return g(this,function(n){return[2,this.xd.request(new y(o.a.GET,t),e)]})})},t.prototype.set=function(t,e,n,r){return v(this,void 0,void 0,function(){return g(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.xd.request(new y(o.a.SET,t,e,n),r)];case 1:return i.sent(),[2,!0];case 2:return i.sent(),[2,!1];case 3:return[2]}})})},t}())(n.p+"xd.html")},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={initPageYcord:function(){return Math.round((window.innerHeight+window.pageYOffset)/document.body.scrollHeight*100)},crntPageYcord:function(){var t=this.initPageYcord(),e=0;return t>e&&(t>=100?e=100:t>=75?e=75:t>=50?e=50:t>=25&&(e=25)),e},inView:function(t,e){void 0===e&&(e=0);var n=t.getBoundingClientRect(),r=n.top+n.height*(1-e)+window.pageYOffset,o=n.top+n.height*e+window.pageYOffset,i=window.innerHeight+window.pageYOffset,a=window.pageYOffset;return r>=a&&r<=i||o>=a&&o<=i}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,o=n(28),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r,o,i){void 0===o&&(o=Date.now());var a=t.call(this,e,r,o,i)||this;return a.action=e,a.replyTo=n,a.data=r,a.ts=o,a.updateHash(i),a}return i(e,t),e}(o.a)},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.DISPLAY="adDisplay"}(r||(r={}))},function(t,e,n){var r=n(12),o=n(53),i=n(31),a=n(24),s=n(47),c=n(10),u=n(54),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(13),o=n(18),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(9);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(2),o=n(9),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(25),o=n(56),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(21);t.exports=function(t){return Object(r(t))}},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r,o,i=n(4),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t.SIGN_IN="signIn",t.SIGN_OUT="signOut"}(o||(o={}));var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(i.a)},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(12),o=n(13),i=n(48);t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(25);t.exports=r("native-function-to-string",Function.toString)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(10),o=n(24),i=n(65),a=n(38),s=i(!1);t.exports=function(t,e){var n,i=o(t),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&u.push(n);for(;e.length>c;)r(i,n=e[c++])&&(~s(u,n)||u.push(n));return u}},function(t,e,n){var r=n(5),o=n(59),i=n(14),a=r("unscopables"),s=Array.prototype;null==s[a]&&i(s,a,o(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r=n(11),o=n(68),i=n(40),a=n(38),s=n(69),c=n(48),u=n(49)("IE_PROTO"),l=function(){},f=function(){var t,e=c("iframe"),n=i.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f.prototype[i[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[u]=t):n=f(),void 0===e?n:o(n,e)},a[u]=!0},function(t,e,n){var r=n(57),o=n(40);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(22).f,o=n(10),i=n(5)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(34),o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,o=n(27),i=n(28),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,r,i){void 0===r&&(r=Date.now());var a=t.call(this,e,n,r,i)||this;return a.action=e,a.data=n,a.ts=r,a.id=Object(o.a)(),a.updateHash(i),a}return a(e,t),e}(i.a)},function(t,e,n){var r=n(24),o=n(23),i=n(86);t.exports=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(13),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(12),o=n(22),i=n(11),a=n(60);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(11),o=n(112),i=n(23),a=n(26),s=n(71),c=n(113),u={};(t.exports=function(t,e,n,l,f){var p,d,h,y,v,g=a(e,n,l?2:1);if(f)p=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(o(d)){for(h=0,y=i(t.length);y>h;h++)if((l?g(r(v=t[h])[0],v[1]):g(t[h]))===u)return u;return}p=d.call(t)}for(;!(v=p.next()).done;)if(c(p,g,v.value,l)===u)return u}).BREAK=u},function(t,e,n){var r=n(103),o=n(62),i=n(5)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=n(95),o=n(21);t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(o(t))}},function(t,e,n){var r=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,o=n(1),i=n(16),a=n(76),s=n(30),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ageVerificationRequired=!1,e.ageGateDelay=5e3,e.kruxPixelId=void 0,e.nextDisplayTs=void 0,e}return c(e,t),e.prototype.getAgeGateElement=function(){return document.querySelector("."+e.DOM.className.pageAgeGate)},e.prototype.getAgeGateFormElement=function(){return document.querySelector("."+e.DOM.className.pageGateForm)},e.prototype.showAgeGate=function(){document.dispatchEvent(o.b.event(s.b.VERIFYING)),this.getAgeGateFormElement().addEventListener("submit",this.ageGateVerify.bind(this),!1),window.scrollTo(0,0),document.querySelector("body").classList.add(e.DOM.className.pageGateBodyEnable)},e.prototype.hideAgeGate=function(){document.querySelector("body").classList.remove(e.DOM.className.pageGateBodyEnable)},e.prototype.markFailedAgeGate=function(){this.getAgeGateElement().classList.add(e.DOM.className.ageVerificationFailed)},e.prototype.markInvalidDate=function(){this.getAgeGateElement().classList.add(e.DOM.className.invalidDateInput)},e.prototype.resetAgeGate=function(){this.getAgeGateElement().classList.remove(e.DOM.className.ageVerificationFailed),this.getAgeGateElement().classList.remove(e.DOM.className.invalidDateInput)},e.prototype.initialize=function(t,n){void 0===n&&(n=!1);var r=this;if(t){r.ageVerificationRequired=t.enabled,r.ageGateDelay=t.delayMs,r.kruxPixelId=t.kruxPixelId;var o=window.location.href.indexOf(e.DOM.urlParams.ageGatePassthru+"=true")>-1,i=window.localStorage.getItem(e.DOM.localStorage.verifiedKey);i||(i=r.convertLegacyCookie()?"true":void 0),r.nextDisplayTs=window.localStorage.getItem(e.DOM.localStorage.nextDisplay);var a=!r.nextDisplayTs||Date.now()>parseInt(r.nextDisplayTs,10);r.ageVerificationRequired&&(o||n||i&&!a?r.onAgeVerified():setTimeout(function(){r.showAgeGate()},r.ageGateDelay))}},e.prototype.convertLegacyCookie=function(){var t=new RegExp(/(age_gate=)(\d+)/).exec(document.cookie),n=t&&t.length>2?parseInt(t[2],10):void 0;return!!(n&&n>=e.requiredAge)&&(this.onAgeVerified(),this.setNextAgeGateDiplayTime(!0),!0)},e.prototype.ageGateVerify=function(t){t.preventDefault(),this.resetAgeGate();var n=new Date,r=n.getFullYear()-e.requiredAge,o=n.getMonth(),i=n.getDay(),a=new Date(r,i,o),s=parseInt(document.querySelector("#"+e.DOM.ids.inputMonth).value,10),c=parseInt(document.querySelector("#"+e.DOM.ids.inputDay).value,10),u=parseInt(document.querySelector("#"+e.DOM.ids.inputYear).value,10);if(!this.dateIsValid(u,s,c))return this.markInvalidDate();var l=new Date(u,s-1,c),f=null!==document.querySelector("#"+e.DOM.ids.inputRemember+":checked");return l<=a&&u>=e.minYearInput?(this.hideAgeGate(),this.onAgeVerified(),this.setNextAgeGateDiplayTime(f)):this.markFailedAgeGate(),!1},e.prototype.dateIsValid=function(t,n,r){return!(isNaN(t)||isNaN(n)||isNaN(r))&&(!(t<e.minYearInput)&&(!(n<1||n>12)&&!(r<1||r>31)))},e.prototype.setNextAgeGateDiplayTime=function(t){var n=Date.now();n+=t?e.rememberMeShowIntervalMs:e.defaultShowIntervalMs,this.nextDisplayTs=n.toString(),localStorage.setItem(e.DOM.localStorage.nextDisplay,this.nextDisplayTs)},e.prototype.onAgeVerified=function(){localStorage.setItem(e.DOM.localStorage.verifiedKey,"true"),document.dispatchEvent(o.b.event(s.b.VERIFIED)),this.nextDisplayTs||this.setNextAgeGateDiplayTime(!1),this.kruxPixelId&&dispatchEvent(new CustomEvent(a.a.FIRE_EVENT_PIXEL,{detail:{kruxPixelId:this.kruxPixelId}}))},e.DOM={className:{ageVerificationFailed:"failed",invalidDateInput:"invalid",pageAgeGate:"age-gate",pageGateBodyEnable:"show-age-gate",pageGateForm:"pn-age-gate"},ids:{inputDay:"age-gate-d",inputMonth:"age-gate-m",inputRemember:"age-gate-remember-me",inputYear:"age-gate-y"},localStorage:{nextDisplay:"page-age-get-next-shown-timestamp",verifiedKey:"page-age-gate-verified"},urlParams:{ageGatePassthru:"utm_agegate"}},e.requiredAge=19,e.minYearInput=1900,e.defaultShowIntervalMs=864e5,e.rememberMeShowIntervalMs=31536e6,e.verified=new Promise(function(t){document.addEventListener(s.b.VERIFIED,function(){return t()})}),e}(i.a)},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.FIRE_EVENT_PIXEL="kruxFireEventPixel"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return y}),n.d(e,"b",function(){return v});var r,o=n(29),i=n(1),a=n(0),s=n(42),c=n(44),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},f=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},p=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t},y={attr:{state:{key:"data-ad-ref",value:{off:"off"}}}},v=function(t){var e;return(e=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,h(e))||this;return r.refreshCount=0,r.refreshElapsedSec=0,r.refreshListenerAdLoaded=r.refreshOnAdLoaded.bind(r),r.refreshListenerIdle=r.refreshOnIdle.bind(r),r.refreshListenerVisible=r.refreshOnVisible.bind(r),r}return u(e,t),e.prototype.initialize=function(n){return f(this,void 0,void 0,function(){return p(this,function(r){return!0===n.refresh?this.refreshConf=e.defaultConf:!1!==n.refresh&&void 0!==n.refresh&&(this.refreshConf=l({},e.defaultConf,n.refresh)),[2,t.prototype.initialize.call(this,n)]})})},e.prototype.update=function(e){return f(this,void 0,void 0,function(){return p(this,function(n){switch(n.label){case 0:return[4,t.prototype.update.call(this,e)];case 1:return n.sent(),this.refreshConf&&(e?this.refreshDisable():this.refreshCount<this.refreshConf.max&&this.refreshEnable()),[2]}})})},e.prototype.shouldRefresh=function(t){return this.refreshConf&&t.getAttribute(y.attr.state.key)!==y.attr.state.value.off},e.prototype.refresh=function(){var t=this,e=this.adapter.ads.filter(function(e){return t.shouldRefresh(e.el)});this.refreshActive={},this.refreshElapsedSec=0,delete this.refreshLastMs,o.a.destroyOOP(e),this.adapter.destroy(e),this.refreshCount+=1,this.adapter.target(this.targeting.page({refreshCount:this.refreshCount})),this.refreshCount>=this.refreshConf.max&&this.refreshDisable(),this.registered=!1,this.registerAds(e).catch(console.error)},e.prototype.refreshDisable=function(){document.removeEventListener(c.a.DISPLAY,this.refreshListenerAdLoaded),document.removeEventListener(a.b.VISIBILITY,this.refreshListenerVisible),this.refreshObserver&&this.refreshObserver.disconnect(),delete this.refreshActive,delete this.refreshObserver},e.prototype.refreshEnable=function(){this.refreshObserver=new IntersectionObserver(this.refreshObserve.bind(this),{threshold:e.threshold}),document.addEventListener(c.a.DISPLAY,this.refreshListenerAdLoaded),document.addEventListener(a.b.VISIBILITY,this.refreshListenerVisible)},e.prototype.refreshObserve=function(t){var e=this;t.forEach(function(t){return e.refreshTimerEnable(t.target.id,t.isIntersecting)})},e.prototype.refreshOnAdLoaded=function(t){var n=t.detail;this.shouldRefresh(n.el)&&(this.refreshObserver.observe(n.el),this.refreshTimerEnable(n.id,s.a.inView(n.el,e.threshold)))},e.prototype.refreshOnIdle=function(){var t=Date.now();if(this.refreshLastMs&&(this.refreshElapsedSec+=(t-this.refreshLastMs)/i.a.secToMs),this.refreshElapsedSec>=this.refreshConf.s)return this.refresh();this.refreshLastMs=t,!document.hidden&&this.refreshActive&&Object.values(this.refreshActive).filter(function(t){return t}).length&&window.requestAnimationFrame(this.refreshListenerIdle)},e.prototype.refreshOnVisible=function(){"visible"===document.visibilityState?window.requestAnimationFrame(this.refreshListenerIdle):delete this.refreshLastMs},e.prototype.refreshTimerEnable=function(t,e){this.refreshActive=this.refreshActive||{};var n=Object.values(this.refreshActive).filter(function(t){return t}).length;this.refreshActive[t]=e,e&&!n&&window.requestAnimationFrame(this.refreshListenerIdle)},e}(t)).defaultConf={max:5,s:30},e.threshold=.3,e}},function(t,e,n){t.exports=n(79)},function(t,e,n){n(80);var r=n(35);t.exports=r("Array","find")},function(t,e,n){"use strict";var r=n(6),o=n(87),i=n(58),a=o(5),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(2),o=n(55),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o.call(i))},function(t,e,n){var r=n(10),o=n(84),i=n(45),a=n(22);t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},function(t,e,n){var r=n(2),o=n(85),i=n(66),a=n(11),s=r.Reflect;t.exports=s&&s.ownKeys||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(57),o=n(40).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(39),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r=n(26),o=n(46),i=n(50),a=n(23),s=n(88);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,p=5==t||f,d=e||s;return function(e,s,h){for(var y,v,g=i(e),m=o(g),b=r(s,h,3),_=a(m.length),w=0,E=n?d(e,_):c?d(e,0):void 0;_>w;w++)if((p||w in m)&&(v=b(y=m[w],w,g),t))if(n)E[w]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:E.push(y)}else if(l)return!1;return f?-1:u||l?l:E}}},function(t,e,n){var r=n(9),o=n(89),i=n(5)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(18);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(13);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r=n(10),o=n(50),i=n(49),a=n(133),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(51),o=n(2),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(2).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(9),o=n(18),i=n(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){t.exports=n(97)},function(t,e,n){n(98);var r=n(35);t.exports=r("String","startsWith")},function(t,e,n){"use strict";var r=n(6),o=n(23),i=n(73),a=n(74),s="".startsWith;r({target:"String",proto:!0,forced:!a("startsWith")},{startsWith:function(t){var e=i(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,u=0,l=[],f=n(172);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return g(e,t.attrs),h(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=u++;n=c||(c=v(e)),r=w.bind(null,n,a,!1),o=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return p(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&p(d(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var b,_=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e,n){"use strict";var r,o=n(1),i=n(0),a=n(16),s=n(41),c=n(19),u=n(20),l=n(3),f=n(4),p=n(8),d=n(27),h=n(52),y=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=32,g=function(t){function e(e){var n=t.call(this)||this;return n.email=e,n.id=Object(d.a)(v),n.updated=Date.now(),n}return y(e,t),e.prototype.fromJson=function(e){t.prototype.fromJson.call(this,e),e.created&&(this.created=new Date(Date.parse(e.created))),e.subscriptions&&(this.subscriptions=p.a.buildMany(h.b,e.subscriptions))},e}(f.a);n.d(e,"a",function(){return I});var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},w=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},E=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},S=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(E(arguments[e]));return t},I=function(t){function e(e){var n=t.call(this)||this;n.adapter=e;var r=u.a.get(c.a.ID);return n.update(r||new g).catch(console.log),s.a.get(c.a.ID).then(function(t){t&&t.email===n.profile.email&&n.update({ageOfMajority:t.ageOfMajority,id:t.id}).catch(console.log)}).catch(console.log),n}return m(e,t),e.prototype.initialize=function(t,n,r,i,a,s,c,u){var f=this;return void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===c&&(c=""),e.DOM.links=r,e.DOM.logo=i,e.DOM.property=c,this.hasSubscriptions=!!n,this.isOneDigital=!!this.hasSubscriptions&&!!n.registrantTermId,this.subscriptionClientId=this.hasSubscriptions?n.registrantTermId:"",t&&this.adapter.addEventListener(l.a.EMAIL_VERIFIED,this.emailVerified.bind(this)).addEventListener(l.a.LOGIN_MODAL_READY,this.loginModalReady.bind(this)).addEventListener(l.a.IDENTITY_CHANGE,function(t){return f.update(t.detail)}).addEventListener(l.a.SESSION_INIT,function(t){return f.session(t.detail)}).initialize(n,t,a,s,u),this.dispatchEvent(o.b.event(l.a.IDENTITY_INIT,this.profile)),this},e.prototype.emailVerified=function(t){this.dispatchEvent(t)},e.prototype.update=function(t,e){return void 0===e&&(e=!0),_(this,void 0,void 0,function(){return w(this,function(n){switch(n.label){case 0:return t.updated&&this.profile&&t.updated<this.profile.updated?[2]:(this.profile=b({},this.profile,t),this.hashCode&&o.b.hashCode(o.b.prune(this.profile))===this.hashCode?[2]:(!this.hashCode&&this.profile.updated||(this.profile.updated=Date.now()),this.hashCode=o.b.hashCode(o.b.prune(this.profile)),[4,this.updateSubscriptions()]));case 1:return n.sent(),[4,this.updateConversions()];case 2:return n.sent(),this.profile.updated=Date.now(),this.hashCode=o.b.hashCode(o.b.prune(this.profile)),e&&this.dispatchEvent(o.b.event(l.a.IDENTITY_CHANGE,this.profile)),this.updateUI().catch(console.log),this.storeProfile(),[2]}})})},e.prototype.loginModalReady=function(){return _(this,void 0,void 0,function(){var t,n;return w(this,function(r){switch(r.label){case 0:return[4,i.c.ready];case 1:return r.sent(),this.addListeners(),(t=document.querySelectorAll("["+e.DOM.attrs.signIn+"]")).length&&t.length>0&&(t[0].removeAttribute("style"),t[0].className="signin-button--modal-ready",t[0].setAttribute("aria-disabled","false"),(n=document.getElementsByClassName("signInLoader")).length&&n.length>0&&t[0].removeChild(n[0])),[2]}})})},e.prototype.session=function(t){return _(this,void 0,void 0,function(){var e;return w(this,function(n){switch(n.label){case 0:return e=this.profile,(t&&!e.email||!t&&e.email)&&(e=b({},e,this.adapter.fetch())),this.dispatchEvent(o.b.event(l.a.SESSION_INIT,e)),[4,this.update(e)];case 1:return n.sent(),[2]}})})},e.prototype.addListeners=function(){var t=this;document.addEventListener("click",function(n){var r=n.target;r.hasAttribute(e.DOM.attrs.signIn)?t.adapter.signIn():r.hasAttribute(e.DOM.attrs.signOut)?t.adapter.signOut():r.hasAttribute(e.DOM.attrs.close)&&t.adapter.closeModal()})},e.prototype.setName=function(t){return _(this,void 0,void 0,function(){return w(this,function(n){switch(n.label){case 0:return[4,i.c.ready];case 1:return n.sent(),i.c.nodes(document.querySelectorAll("["+e.DOM.attrs.name+"]")).forEach(function(e){i.c.setVis(e,!!t),e.innerHTML=t}),[2]}})})},e.prototype.updateConversions=function(){return _(this,void 0,void 0,function(){var t;return w(this,function(e){switch(e.label){case 0:return this.profile.email?void 0===this.profile.conversions&&this.isOneDigital?[4,this.adapter.getConversions()]:[3,3]:[3,4];case 1:return t=e.sent(),this.profile.conversions=t,-1!==this.profile.conversions.indexOf(this.subscriptionClientId)?[3,3]:[4,this.adapter.registerForOneDigital().catch(console.log)];case 2:e.sent(),this.profile.conversions=S(this.profile.conversions,[this.subscriptionClientId]),e.label=3;case 3:return[3,5];case 4:this.profile.conversions=void 0,e.label=5;case 5:return[2]}})})},e.prototype.updateSubscriptions=function(){return _(this,void 0,void 0,function(){var t;return w(this,function(e){switch(e.label){case 0:return this.profile.email?void 0===this.profile.subscriptions&&this.hasSubscriptions?[4,this.adapter.getAccess()]:[3,2]:[3,3];case 1:t=e.sent(),this.profile.subscriptions=t,e.label=2;case 2:return[3,4];case 3:this.profile.subscriptions=void 0,e.label=4;case 4:return[2]}})})},e.prototype.storeProfile=function(){var t=o.b.prune(this.profile);delete t.adLight,u.a.set(c.a.ID,t),delete t.subscriptions,s.a.set(c.a.ID,t).catch(console.log)},e.prototype.signedIn=function(){return!!this.profile.email||void 0},e.prototype.updateUI=function(){return _(this,void 0,void 0,function(){var t,n,r=this;return w(this,function(o){switch(o.label){case 0:return[4,i.c.ready];case 1:return o.sent(),this.profile.adLight&&this.removeAdSlotElements(),this.setName(this.profile.email?this.profile.name:void 0).catch(console.log),this.signedIn()?(t=this.profile.subscriptions.length>0,n=this.isOneDigital&&this.profile.conversions.length>0,(t||n)&&this.removeArticleCounter(),i.c.updateTabs(document.querySelectorAll("["+e.DOM.attrs.signIn+"]"),-1),i.c.updateTabs(document.querySelectorAll("["+e.DOM.attrs.signOut+"]")),i.c.updateTabs(document.querySelectorAll("."+e.DOM.class.myAccount))):(i.c.updateTabs(document.querySelectorAll("["+e.DOM.attrs.signIn+"]")),i.c.updateTabs(document.querySelectorAll("["+e.DOM.attrs.signOut+"]"),-1),i.c.updateTabs(document.querySelectorAll("."+e.DOM.class.myAccount),-1)),document.querySelectorAll("["+e.DOM.attrs.marker+"]").length?i.c.nodes(document.querySelectorAll("["+e.DOM.attrs.marker+"], body")).forEach(function(t){r.signedIn()?r.signedIn()&&i.c.replaceClass(t,e.DOM.class.signedOut,e.DOM.class.signedIn):i.c.replaceClass(t,e.DOM.class.signedIn,e.DOM.class.signedOut)}):(i.c.setVis(document.querySelectorAll("["+e.DOM.attrs.signIn+"]"),!this.signedIn()),i.c.setVis(document.querySelectorAll("["+e.DOM.attrs.signOut+"]"),!!this.signedIn()),i.c.setVis(document.querySelectorAll("."+e.DOM.class.myAccount),!!this.signedIn())),[2]}})})},e.prototype.removeAdSlotElements=function(){i.c.nodes(document.querySelectorAll("."+e.DOM.class.adContainer)).forEach(function(t){return t.remove()})},e.prototype.removeArticleCounter=function(){document.body.classList.contains("article-counter--visible")&&(document.querySelector("."+e.DOM.class.articleCounter).remove(),document.body.classList.remove("article-counter--visible"),window.dispatchEvent(new CustomEvent("articleLimitAlertEvent",{detail:{limit:!1}})))},e.DOM={attrs:{btns:"data-sso-btns",close:"data-id-close",marker:"data-sso-marker",name:"data-id-name",signIn:"data-id-login",signOut:"data-id-logout"},class:{accountMenu:"my-account__menu",active:"active",adContainer:"ad__container",articleCounter:"tp-container-inner",myAccount:"my-account__container",signedIn:"sso-signedIn",signedOut:"sso-signedOut"},links:{},logo:"",property:""},e}(a.a)},function(t,e,n){var r=n(12),o=n(60),i=n(24),a=n(53).f;t.exports=function(t,e){for(var n,s=i(t),c=o(s),u=c.length,l=0,f=[];u>l;)n=c[l++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}},function(t,e,n){var r=n(18),o=n(5)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var r=n(105),o=n(33),i=n(106),a=o.set,s=o.getterFor("String Iterator");i(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o,!0),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(39),o=n(21);t.exports=function(t,e,n){var i,a,s=String(o(t)),c=r(e),u=s.length;return c<0||c>=u?n?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?n?s.charAt(c):i:n?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}},function(t,e,n){"use strict";var r=n(6),o=n(107),i=n(91),a=n(109),s=n(61),c=n(14),u=n(32),l=n(5),f=n(37),p=n(62),d=n(108),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),g=function(){return this};t.exports=function(t,e,n,l,d,m,b){o(n,e,l);var _,w,E,S=function(t){if(t===d&&P)return P;if(!y&&t in T)return T[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},I=e+" Iterator",O=!1,T=t.prototype,A=T[v]||T["@@iterator"]||d&&T[d],P=!y&&A||S(d),D="Array"==e&&T.entries||A;if(D&&(_=i(D.call(new t)),h!==Object.prototype&&_.next&&(f||i(_)===h||(a?a(_,h):"function"!=typeof _[v]&&c(_,v,g)),s(_,I,!0,!0),f&&(p[I]=g))),"values"==d&&A&&"values"!==A.name&&(O=!0,P=function(){return A.call(this)}),f&&!b||T[v]===P||c(T,v,P),p[e]=P,d)if(w={values:S("values"),keys:m?P:S("keys"),entries:S("entries")},b)for(E in w)!y&&!O&&E in T||u(T,E,w[E]);else r({target:e,proto:!0,forced:y||O},w);return w}},function(t,e,n){"use strict";var r=n(108).IteratorPrototype,o=n(59),i=n(31),a=n(61),s=n(62),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=c,t}},function(t,e,n){"use strict";var r,o,i,a=n(91),s=n(14),c=n(10),u=n(5),l=n(37),f=u("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),l||c(r,f)||s(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(134);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n,o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){"use strict";var r=n(24),o=n(58),i=n(62),a=n(33),s=n(106),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(32);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(5),o=n(62),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(11);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(11),o=n(34),i=n(5)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a=n(2),s=n(13),c=n(18),u=n(26),l=n(69),f=n(48),p=a.location,d=a.setImmediate,h=a.clearImmediate,y=a.process,v=a.MessageChannel,g=a.Dispatch,m=0,b={},_=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},w=function(t){return function(){_(t)}},E=function(t){_(t.data)},S=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(m),m},h=function(t){delete b[t]},"process"==c(y)?r=function(t){y.nextTick(w(t))}:g&&g.now?r=function(t){g.now(w(t))}:v?(i=(o=new v).port2,o.port1.onmessage=E,r=u(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(S)?r="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),_(t)}}:function(t){setTimeout(w(t),0)}:(r=S,a.addEventListener("message",E,!1))),t.exports={set:d,clear:h}},function(t,e,n){var r=n(11),o=n(9),i=n(63);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(13),o=n(5),i=n(37),a=o("iterator");t.exports=!r(function(){var t=new URL("b?e=1","http://a"),e=t.searchParams;return t.pathname="c%20d",i&&!t.toJSON||!e.sort||"http://a/c%20d?e=1"!==t.href||"1"!==e.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash})},function(t,e,n){"use strict";n(110);var r=n(6),o=n(117),i=n(32),a=n(111),s=n(61),c=n(107),u=n(33),l=n(93),f=n(10),p=n(26),d=n(11),h=n(9),y=n(164),v=n(71),g=n(5)("iterator"),m=u.set,b=u.getterFor("URLSearchParams"),_=u.getterFor("URLSearchParamsIterator"),w=/\+/g,E=Array(4),S=function(t){return E[t-1]||(E[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},I=function(t){try{return decodeURIComponent(t)}catch(e){return t}},O=function(t){var e=t.replace(w," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(S(n--),I);return e}},T=/[!'()~]|%20/g,A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(t){return A[t]},D=function(t){return encodeURIComponent(t).replace(T,P)},C=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:O(r.shift()),value:O(r.join("="))}));return t},R=function(t){this.entries.length=0,C(this.entries,t)},L=function(t,e){if(t<e)throw TypeError("Not enough arguments")},N=c(function(t,e){m(this,{type:"URLSearchParamsIterator",iterator:y(b(t).entries),kind:e})},"Iterator",function(){var t=_(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),M=function(){l(this,M,"URLSearchParams");var t,e,n,r,o,i,a,s=arguments.length>0?arguments[0]:void 0,c=[];if(m(this,{type:"URLSearchParams",entries:c,updateURL:null,updateSearchParams:R}),void 0!==s)if(h(s))if("function"==typeof(t=v(s)))for(e=t.call(s);!(n=e.next()).done;){if((o=(r=y(d(n.value))).next()).done||(i=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");c.push({key:o.value+"",value:i.value+""})}else for(a in s)f(s,a)&&c.push({key:a,value:s[a]+""});else C(c,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},k=M.prototype;a(k,{append:function(t,e){L(arguments.length,2);var n=b(this);n.entries.push({key:t+"",value:e+""}),n.updateURL&&n.updateURL()},delete:function(t){L(arguments.length,1);for(var e=b(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL&&e.updateURL()},get:function(t){L(arguments.length,1);for(var e=b(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){L(arguments.length,1);for(var e=b(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){L(arguments.length,1);for(var e=b(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){L(arguments.length,1);for(var n,r=b(this),o=r.entries,i=!1,a=t+"",s=e+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL&&r.updateURL()},sort:function(){var t,e,n,r=b(this),o=r.entries,i=o.slice();for(o.length=0,e=0;e<i.length;e++){for(t=i[e],n=0;n<e;n++)if(o[n].key>t.key){o.splice(n,0,t);break}n===e&&o.push(t)}r.updateURL&&r.updateURL()},forEach:function(t){for(var e,n=b(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),i(k,g,k.entries),i(k,"toString",function(){for(var t,e=b(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(D(t.key)+"="+D(t.value));return n.join("&")},{enumerable:!0}),s(M,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:M}),t.exports={URLSearchParams:M,getState:b}},function(t,e,n){n(78),n(120),n(123),n(126),n(129),n(147),n(150),n(96),n(156),n(166),n(167),n(168),n(169),t.exports=n(177)},function(t,e,n){t.exports=n(121)},function(t,e,n){n(122);var r=n(35);t.exports=r("Array","includes")},function(t,e,n){"use strict";var r=n(6),o=n(65),i=n(58),a=o(!0);r({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){t.exports=n(124)},function(t,e,n){n(125);var r=n(51);t.exports=r.Object.entries},function(t,e,n){var r=n(6),o=n(102);r({target:"Object",stat:!0},{entries:function(t){return o(t,!0)}})},function(t,e,n){t.exports=n(127)},function(t,e,n){n(128);var r=n(51);t.exports=r.Object.values},function(t,e,n){var r=n(6),o=n(102);r({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){t.exports=n(130),n(143),n(144),n(145),n(146)},function(t,e,n){n(131),n(104),n(135),n(137),n(142);var r=n(51);t.exports=r.Promise},function(t,e,n){var r=n(32),o=n(132),i=Object.prototype;o!==i.toString&&r(i,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";var r=n(103),o={};o[n(5)("toStringTag")]="z",t.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},function(t,e,n){var r=n(13);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(9),o=n(11);t.exports=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},function(t,e,n){var r=n(2),o=n(136),i=n(110),a=n(14),s=n(5),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var p=r[f],d=p&&p.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(t){d[c]=l}if(d[u]||a(d,u,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(t){d[h]=i[h]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r,o,i,a=n(6),s=n(37),c=n(2),u=n(51),l=n(111),f=n(61),p=n(138),d=n(9),h=n(34),y=n(93),v=n(18),g=n(70),m=n(139),b=n(114),_=n(115).set,w=n(140),E=n(116),S=n(141),I=n(63),O=n(72),T=n(94),A=n(33),P=n(67),D=n(5)("species"),C="Promise",R=A.get,L=A.set,N=A.getterFor(C),M=c.Promise,k=c.TypeError,j=c.document,x=c.process,V=c.fetch,G=x&&x.versions,U=G&&G.v8||"",F=I.f,B=F,W="process"==v(x),Y=!!(j&&j.createEvent&&c.dispatchEvent),H=P(C,function(){var t=M.resolve(1),e=function(){},n=(t.constructor={})[D]=function(t){t(e,e)};return!((W||"function"==typeof PromiseRejectionEvent)&&(!s||t.finally)&&t.then(e)instanceof n&&0!==U.indexOf("6.6")&&-1===T.indexOf("Chrome/66"))}),q=H||!m(function(t){M.all(t).catch(function(){})}),z=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},K=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;w(function(){for(var o=e.value,i=1==e.state,a=0,s=function(n){var r,a,s,c=i?n.ok:n.fail,u=n.resolve,l=n.reject,f=n.domain;try{c?(i||(2===e.rejection&&Q(t,e),e.rejection=1),!0===c?r=o:(f&&f.enter(),r=c(o),f&&(f.exit(),s=!0)),r===n.promise?l(k("Promise-chain cycle")):(a=z(r))?a.call(r,u,l):u(r)):l(o)}catch(t){f&&!s&&f.exit(),l(t)}};r.length>a;)s(r[a++]);e.reactions=[],e.notified=!1,n&&!e.rejection&&X(t,e)})}},J=function(t,e,n){var r,o;Y?((r=j.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(o=c["on"+t])?o(r):"unhandledrejection"===t&&S("Unhandled promise rejection",n)},X=function(t,e){_.call(c,function(){var n,r=e.value;if($(e)&&(n=O(function(){W?x.emit("unhandledRejection",r,t):J("unhandledrejection",t,r)}),e.rejection=W||$(e)?2:1,n.error))throw n.value})},$=function(t){return 1!==t.rejection&&!t.parent},Q=function(t,e){_.call(c,function(){W?x.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)})},Z=function(t,e,n,r){return function(o){t(e,n,o,r)}},tt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,K(t,e,!0))},et=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw k("Promise can't be resolved itself");var o=z(n);o?w(function(){var r={done:!1};try{o.call(n,Z(et,t,r,e),Z(tt,t,r,e))}catch(n){tt(t,r,n,e)}}):(e.value=n,e.state=1,K(t,e,!1))}catch(n){tt(t,{done:!1},n,e)}}};H&&(M=function(t){y(this,M,C),h(t),r.call(this);var e=R(this);try{t(Z(et,this,e),Z(tt,this,e))}catch(t){tt(this,e,t)}},(r=function(t){L(this,{type:C,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=l(M.prototype,{then:function(t,e){var n=N(this),r=F(b(this,M));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=W?x.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=R(t);this.promise=t,this.resolve=Z(et,t,e),this.reject=Z(tt,t,e)},I.f=F=function(t){return t===M||t===i?new o(t):B(t)},s||"function"!=typeof V||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(M,V.apply(c,arguments))}})),a({global:!0,wrap:!0,forced:H},{Promise:M}),f(M,C,!1,!0),p(C),i=u.Promise,a({target:C,stat:!0,forced:H},{reject:function(t){var e=F(this);return e.reject.call(void 0,t),e.promise}}),a({target:C,stat:!0,forced:s||H},{resolve:function(t){return E(s&&this===i?M:this,t)}}),a({target:C,stat:!0,forced:q},{all:function(t){var e=this,n=F(e),r=n.resolve,o=n.reject,i=O(function(){var n=h(e.resolve),i=[],a=0,s=1;g(t,function(t){var c=a++,u=!1;i.push(void 0),s++,n.call(e,t).then(function(t){u||(u=!0,i[c]=t,--s||r(i))},o)}),--s||r(i)});return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=F(e),r=n.reject,o=O(function(){var o=h(e.resolve);g(t,function(t){o.call(e,t).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}})},function(t,e,n){"use strict";var r=n(92),o=n(22),i=n(5),a=n(12),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(5)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r,o,i,a,s,c,u,l=n(2),f=n(45).f,p=n(18),d=n(115).set,h=n(94),y=l.MutationObserver||l.WebKitMutationObserver,v=l.process,g=l.Promise,m="process"==p(v),b=f(l,"queueMicrotask"),_=b&&b.value;_||(r=function(){var t,e;for(m&&(t=v.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},m?a=function(){v.nextTick(r)}:y&&!/(iphone|ipod|ipad).*applewebkit/i.test(h)?(s=!0,c=document.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):g&&g.resolve?(u=g.resolve(void 0),a=function(){u.then(r)}):a=function(){d.call(l,r)}),t.exports=_||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(6),o=n(92),i=n(114),a=n(116);r({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=i(this,o("Promise")),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){var r=n(6),o=n(91),i=n(109),a=n(59),s=n(31),c=n(70),u=n(14),l=function(t,e){var n=this;if(!(n instanceof l))return new l(t,e);i&&(n=i(new Error(e),o(n)));var r=[];return c(t,r.push,r),n.errors=r,void 0!==e&&u(n,"message",String(e)),n};l.prototype=a(Error.prototype,{constructor:s(5,l),name:s(5,"AggregateError")}),r({global:!0},{AggregateError:l})},function(t,e,n){"use strict";var r=n(6),o=n(34),i=n(63),a=n(72),s=n(70);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=i.f(e),r=n.resolve,c=n.reject,u=a(function(){var n=o(e.resolve),i=[],a=0,c=1;s(t,function(t){var o=a++,s=!1;i.push(void 0),c++,n.call(e,t).then(function(t){s||(s=!0,i[o]={status:"fulfilled",value:t},--c||r(i))},function(t){s||(s=!0,i[o]={status:"rejected",reason:t},--c||r(i))})}),--c||r(i)});return u.error&&c(u.value),n.promise}})},function(t,e,n){"use strict";var r=n(6),o=n(63),i=n(72);r({target:"Promise",stat:!0},{try:function(t){var e=o.f(this),n=i(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){"use strict";var r=n(6),o=n(34),i=n(92),a=n(63),s=n(72),c=n(70);r({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,l=s(function(){var n=o(e.resolve),a=[],s=0,l=1,f=!1;c(t,function(t){var o=s++,c=!1;a.push(void 0),l++,n.call(e,t).then(function(t){c||f||(f=!0,r(t))},function(t){c||f||(c=!0,a[o]=t,--l||u(new(i("AggregateError"))(a,"No one promise resolved")))})}),--l||u(new(i("AggregateError"))(a,"No one promise resolved"))});return l.error&&u(l.value),n.promise}})},function(t,e,n){t.exports=n(148)},function(t,e,n){n(149);var r=n(35);t.exports=r("String","includes")},function(t,e,n){"use strict";var r=n(6),o=n(73);r({target:"String",proto:!0,forced:!n(74)("includes")},{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){t.exports=n(151)},function(t,e,n){n(152);var r=n(35);t.exports=r("String","padStart")},function(t,e,n){"use strict";var r=n(6),o=n(153);r({target:"String",proto:!0,forced:n(155)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var r=n(23),o=n(154),i=n(21);t.exports=function(t,e,n,a){var s,c,u=String(i(t)),l=u.length,f=void 0===n?" ":String(n),p=r(e);return p<=l||""==f?u:(s=p-l,(c=o.call(f,Math.ceil(s/f.length))).length>s&&(c=c.slice(0,s)),a?c+u:u+c)}},function(t,e,n){"use strict";var r=n(39),o=n(21);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(94);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){t.exports=n(157)},function(t,e,n){t.exports=n(158)},function(t,e,n){n(159),n(165),n(118);var r=n(51);t.exports=r.URL},function(t,e,n){"use strict";n(104);var r,o=n(6),i=n(12),a=n(117),s=n(2),c=n(68),u=n(32),l=n(93),f=n(10),p=n(160),d=n(161),h=n(105),y=n(163),v=n(61),g=n(118),m=n(33),b=s.URL,_=g.URLSearchParams,w=g.getState,E=m.set,S=m.getterFor("URL"),I=Math.pow,O=/[A-Za-z]/,T=/[\d+\-.A-Za-z]/,A=/\d/,P=/^(0x|0X)/,D=/^[0-7]+$/,C=/^\d+$/,R=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%\/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #\/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,k=/[\u0009\u000A\u000D]/g,j=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=V(e.slice(1,-1))))return"Invalid host";t.host=n}else if(q(t)){if(e=y(e),L.test(e))return"Invalid host";if(null===(n=x(e)))return"Invalid host";t.host=n}else{if(N.test(e))return"Invalid host";for(n="",r=d(e),o=0;o<r.length;o++)n+=Y(r[o],U);t.host=n}},x=function(t){var e,n,r,o,i,a,s,c=t.split(".");if(""==c[c.length-1]&&c.length&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=P.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?C:8==i?D:R).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=I(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*I(256,3-r);return s},V=function(t){var e,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,p=function(){return t.charAt(f)};if(":"==p()){if(":"!=t.charAt(1))return;f+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(e=n=0;n<4&&R.test(p());)e=16*e+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,u>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;f++}if(!A.test(p()))return;for(;A.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},G=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=Math.floor(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},U={},F=p({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),B=p({},F,{"#":1,"?":1,"{":1,"}":1}),W=p({},B,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(t,e){var n=h(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},H={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},q=function(t){return f(H,t.scheme)},z=function(t){return""!=t.username||""!=t.password},K=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var n;return 2==t.length&&O.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},X=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},$=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&J(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},Z={},tt={},et={},nt={},rt={},ot={},it={},at={},st={},ct={},ut={},lt={},ft={},pt={},dt={},ht={},yt={},vt={},gt={},mt={},bt={},_t=function(t,e,n,o){var i,a,s,c,u,l=n||Z,p=0,h="",y=!1,v=!1,g=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(M,"")),e=e.replace(k,""),i=d(e);p<=i.length;){switch(a=i[p],l){case Z:if(!a||!O.test(a)){if(n)return"Invalid scheme";l=et;continue}h+=a.toLowerCase(),l=tt;break;case tt:if(a&&(T.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";h="",l=et,p=0;continue}if(n&&(q(t)!=f(H,h)||"file"==h&&(z(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(q(t)&&H[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?l=pt:q(t)&&o&&o.scheme==t.scheme?l=nt:q(t)?l=at:"/"==i[p+1]?(l=rt,p++):(t.cannotBeABaseURL=!0,t.path.push(""),l=gt)}break;case et:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,l=bt;break}l="file"==o.scheme?pt:ot;continue;case nt:if("/"!=a||"/"!=i[p+1]){l=ot;continue}l=st,p++;break;case rt:if("/"==a){l=ct;break}l=vt;continue;case ot:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&q(t))l=it;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",l=mt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),l=vt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=bt}break;case it:if(!q(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,l=vt;continue}l=ct}else l=st;break;case at:if(l=st,"/"!=a||"/"!=h.charAt(p+1))continue;p++;break;case st:if("/"!=a&&"\\"!=a){l=ct;continue}break;case ct:if("@"==a){y&&(h="%40"+h),y=!0,s=d(h);for(var m=0;m<s.length;m++){var b=s[m];if(":"!=b||g){var _=Y(b,W);g?t.password+=_:t.username+=_}else g=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(y&&""==h)return"Invalid authority";p-=d(h).length+1,h="",l=ut}else h+=a;break;case ut:case lt:if(n&&"file"==t.scheme){l=ht;continue}if(":"!=a||v){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(q(t)&&""==h)return"Invalid host";if(n&&""==h&&(z(t)||null!==t.port))return;if(c=j(t,h))return c;if(h="",l=yt,n)return;continue}"["==a?v=!0:"]"==a&&(v=!1),h+=a}else{if(""==h)return"Invalid host";if(c=j(t,h))return c;if(h="",l=ft,n==lt)return}break;case ft:if(!A.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)||n){if(""!=h){var w=parseInt(h,10);if(w>65535)return"Invalid port";t.port=q(t)&&w===H[t.scheme]?null:w,h=""}if(n)return;l=yt;continue}return"Invalid port"}h+=a;break;case pt:if(t.scheme="file","/"==a||"\\"==a)l=dt;else{if(!o||"file"!=o.scheme){l=vt;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",l=mt;else{if("#"!=a){X(i.slice(p).join(""))||(t.host=o.host,t.path=o.path.slice(),$(t)),l=vt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=bt}}break;case dt:if("/"==a||"\\"==a){l=ht;break}o&&"file"==o.scheme&&!X(i.slice(p).join(""))&&(J(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),l=vt;continue;case ht:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&J(h))l=vt;else if(""==h){if(t.host="",n)return;l=yt}else{if(c=j(t,h))return c;if("localhost"==t.host&&(t.host=""),n)return;h="",l=yt}continue}h+=a;break;case yt:if(q(t)){if(l=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=vt,"/"!=a))continue}else t.fragment="",l=bt;else t.query="",l=mt;break;case vt:if(a==r||"/"==a||"\\"==a&&q(t)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=h).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?($(t),"/"==a||"\\"==a&&q(t)||t.path.push("")):Q(h)?"/"==a||"\\"==a&&q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=mt):"#"==a&&(t.fragment="",l=bt)}else h+=Y(a,B);break;case gt:"?"==a?(t.query="",l=mt):"#"==a?(t.fragment="",l=bt):a!=r&&(t.path[0]+=Y(a,U));break;case mt:n||"#"!=a?a!=r&&("'"==a&&q(t)?t.query+="%27":t.query+="#"==a?"%23":Y(a,U)):(t.fragment="",l=bt);break;case bt:a!=r&&(t.fragment+=Y(a,F))}p++}},wt=function(t){var e,n,r=l(this,wt,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=E(r,{type:"URL"});if(void 0!==o)if(o instanceof wt)e=S(o);else if(n=_t(e={},String(o)))throw TypeError(n);if(n=_t(s,a,null,e))throw TypeError(n);var c=s.searchParams=new _,u=w(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(r.href=St.call(r),r.origin=It.call(r),r.protocol=Ot.call(r),r.username=Tt.call(r),r.password=At.call(r),r.host=Pt.call(r),r.hostname=Dt.call(r),r.port=Ct.call(r),r.pathname=Rt.call(r),r.search=Lt.call(r),r.searchParams=Nt.call(r),r.hash=Mt.call(r))},Et=wt.prototype,St=function(){var t=S(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",z(t)&&(u+=n+(r?":"+r:"")+"@"),u+=G(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},It=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&q(t)?e+"://"+G(t.host)+(null!==n?":"+n:""):"null"},Ot=function(){return S(this).scheme+":"},Tt=function(){return S(this).username},At=function(){return S(this).password},Pt=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?G(e):G(e)+":"+n},Dt=function(){var t=S(this).host;return null===t?"":G(t)},Ct=function(){var t=S(this).port;return null===t?"":String(t)},Rt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Lt=function(){var t=S(this).query;return t?"?"+t:""},Nt=function(){return S(this).searchParams},Mt=function(){var t=S(this).fragment;return t?"#"+t:""},kt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&c(Et,{href:kt(St,function(t){var e=S(this),n=String(t),r=_t(e,n);if(r)throw TypeError(r);w(e.searchParams).updateSearchParams(e.query)}),origin:kt(It),protocol:kt(Ot,function(t){var e=S(this);_t(e,String(t)+":",Z)}),username:kt(Tt,function(t){var e=S(this),n=d(String(t));if(!K(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Y(n[r],W)}}),password:kt(At,function(t){var e=S(this),n=d(String(t));if(!K(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Y(n[r],W)}}),host:kt(Pt,function(t){var e=S(this);e.cannotBeABaseURL||_t(e,String(t),ut)}),hostname:kt(Dt,function(t){var e=S(this);e.cannotBeABaseURL||_t(e,String(t),lt)}),port:kt(Ct,function(t){var e=S(this);K(e)||(""==(t=String(t))?e.port=null:_t(e,t,ft))}),pathname:kt(Rt,function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],_t(e,t+"",yt))}),search:kt(Lt,function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",_t(e,t,mt)),w(e.searchParams).updateSearchParams(e.query)}),searchParams:kt(Nt),hash:kt(Mt,function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",_t(e,t,bt)):e.fragment=null})}),u(Et,"toJSON",function(){return St.call(this)},{enumerable:!0}),u(Et,"toString",function(){return St.call(this)},{enumerable:!0}),b){var jt=b.createObjectURL,xt=b.revokeObjectURL;jt&&u(wt,"createObjectURL",function(t){return jt.apply(b,arguments)}),xt&&u(wt,"revokeObjectURL",function(t){return xt.apply(b,arguments)})}v(wt,"URL"),o({global:!0,forced:!a,sham:!i},{URL:wt})},function(t,e,n){"use strict";var r=n(12),o=n(13),i=n(60),a=n(66),s=n(53),c=n(50),u=n(46),l=Object.assign;t.exports=!l||o(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")})?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,p=s.f;o>l;)for(var d,h=u(arguments[l++]),y=f?i(h).concat(f(h)):i(h),v=y.length,g=0;v>g;)d=y[g++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:l},function(t,e,n){"use strict";var r=n(26),o=n(50),i=n(113),a=n(112),s=n(23),c=n(162),u=n(71);t.exports=function(t){var e,n,l,f,p=o(t),d="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,v=void 0!==y,g=0,m=u(p);if(v&&(y=r(y,h>2?arguments[2]:void 0,2)),null==m||d==Array&&a(m))for(n=new d(e=s(p.length));e>g;g++)c(n,g,v?y(p[g],g):p[g]);else for(f=m.call(p),n=new d;!(l=f.next()).done;g++)c(n,g,v?i(f,y,[l.value,g],!0):l.value);return n.length=g,n}},function(t,e,n){"use strict";var r=n(47),o=n(22),i=n(31);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(t){return t+22+75*(t<26)},u=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},l=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,l=128,f=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var d=r.length,h=d;for(d&&r.push("-");h<o;){var y=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<y&&(y=n);var v=h+1;if(y-l>a((2147483647-f)/v))throw RangeError(i);for(f+=(y-l)*v,l=y,e=0;e<t.length;e++){if((n=t[e])<l&&++f>2147483647)throw RangeError(i);if(n==l){for(var g=f,m=36;;m+=36){var b=m<=p?1:m>=p+26?26:m-p;if(g<b)break;var _=g-b,w=36-b;r.push(s(c(b+_%w))),g=a(_/w)}r.push(s(c(g))),p=u(f,v,h==d),f=0,++h}}++f,++l}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(t,e,n){var r=n(11),o=n(71);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";n(6)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e){!function(){if("undefined"!=typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var e=function(t,e){var n,r;return(e=e||{}).bubbles=!!e.bubbles,e.cancelable=!!e.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};e.prototype=window.Event.prototype,window.CustomEvent=e}}()},function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(window,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(r){var o=r.element,i=a(o),s=this._rootContainsTarget(o),c=r.entry,u=t&&s&&this._computeTargetAndRootIntersection(o,e),l=r.entry=new n({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:e,intersectionRect:u});c?t&&s?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var r,o,i,s,u,l,f,p,d=a(e),h=c(e),y=!1;!y;){var v=null,g=1==h.nodeType?window.getComputedStyle(h):{};if("none"==g.display)return;if(h==this.root||h==t?(y=!0,v=n):h!=t.body&&h!=t.documentElement&&"visible"!=g.overflow&&(v=a(h)),v&&(r=v,o=d,i=void 0,s=void 0,u=void 0,l=void 0,f=void 0,p=void 0,i=Math.max(r.top,o.top),s=Math.min(r.bottom,o.bottom),u=Math.max(r.left,o.left),l=Math.min(r.right,o.right),p=s-i,!(d=(f=l-u)>=0&&p>=0&&{top:i,bottom:s,left:u,right:l,width:f,height:p})))break;h=c(h)}return d}},r.prototype._getRootRect=function(){var e;if(this.root)e=a(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},r.prototype._rootIsInDom=function(){return!this.root||s(t,this.root)},r.prototype._rootContainsTarget=function(e){return s(this.root||t,e)},r.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},r.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=r,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function r(t,e){var n,r,o,i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function o(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(t,e){for(var n=e;n;){if(n==t)return!0;n=c(n)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},function(t,e){"prepend"in Element.prototype||(Element.prototype.prepend=function(){var t=this;arguments.length&&Array.prototype.slice.call(arguments).forEach(function(e){t.insertBefore(e,t.childNodes[0])})})},function(t,e){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})},function(t,e,n){var r=n(171);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(100)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(99)(!1)).push([t.i,".ad-refresh{align-items:center !important;display:flex !important;flex-direction:column;justify-content:center}.ad-refresh-bkgd{background-color:#F7F7F7 !important}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){var r=n(174);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(100)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(99)(!1)).push([t.i,".agegate{position:relative}.agegate>*{display:flex;height:auto !important;justify-content:center}.agegate-msg{font-size:8px;font-weight:700;line-height:8px;text-align:center;text-transform:uppercase;margin-top:5px !important}.agegate-veil{background:rgba(51,51,51,0.95);color:#fff;display:flex;flex-flow:column;font-family:helvetica;justify-content:center;position:absolute;padding:0 2em;box-sizing:border-box;text-align:center}.agegate-veil form{align-items:center;display:flex;flex-flow:wrap}.agegate-veil form button{color:#fff;cursor:pointer;background-color:#53A500;border:none;border-radius:0.25em;font-size:12px;font-weight:inherit;margin:0.5em auto;padding:10px 40px;text-transform:uppercase;transition:all .25s ease-out}.agegate-veil form button:disabled{background-color:#B9B9B9;pointer-events:none}.agegate-veil form>*:first-child{font-size:16px;flex:1 1 50%;line-height:20px}.agegate-veil form>*:last-child{display:inline-flex;flex:1 1 10em;flex-flow:column;font-size:14px;font-weight:700}.agegate-veil form input{margin-right:0.7em}.agegate-veil form p{margin:1em}\n",""])},,,function(t,e,n){"use strict";n.r(e);var r,o,i,a=n(4),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.fromJson=function(e){return t.prototype.fromJson.call(this,e),this.provider=e.provider,e.tags&&(this.tags=e.tags),this},e}(a.a),u=n(8);!function(t){t.AMAZON="amazon",t.DISTRICT_M="districtm",t.INDEX_EXCHANGE="ix",t.SORTABLE="sortable"}(o||(o={})),function(t){t.KRUX="krux"}(i||(i={}));var l,f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.fromJson=function(e){return t.prototype.fromJson.call(this,e),this.provider=e.provider,e.bidding&&(this.bidding=e.bidding),e.tags&&(this.tags=e.tags),e.verifier&&(this.verifier=e.verifier),e.refresh&&(this.refresh=e.refresh),e.vendor&&(this.tags=this.tags||[],this.tags.find(function(t){return t.client===i.KRUX})||this.tags.push({account:e.vendor.krux,client:i.KRUX})),e.commentAdConfiguration&&(this.commentAdConfiguration=e.commentAdConfiguration),this},e}(a.a),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.fromJson=function(e){return t.prototype.fromJson.call(this,e),e.links&&(this.links=e.links),e.sso&&(this.sso=e.sso),e.subscriber&&(this.subscriber=e.subscriber),this},e}(a.a),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.fromJson=function(e){if(t.prototype.fromJson.call(this,e),e.authors){var n=e.authors.map(function(t){return"object"==typeof t?t:{name:t}});this.writers={main:n}}return e.writers&&(this.writers=e.writers),e.date&&(this.date={},e.date.mod&&(this.date.mod=new Date(Date.parse(e.date.mod))),e.date.pub&&(this.date.pub=new Date(Date.parse(e.date.pub)))),e.klangoo&&(this.klangoo=e.klangoo),e.title&&(this.title=e.title),e.video&&(this.video=e.video),e.otherAncestry&&(this.otherAncestry=e.otherAncestry),e.ageGate&&(this.ageGate=e.ageGate),this},e}(a.a),g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e){var n=t.call(this)||this;return e&&e.ads&&(n.ads=u.a.buildOne(p,e.ads)),e&&e.analytics&&(n.analytics=u.a.buildOne(c,e.analytics)),e&&e.identity&&(n.identity=u.a.buildOne(h,e.identity)),n.page=u.a.buildOne(v,e.page||{}),n}return g(e,t),e}(a.a),b=n(30),_=n(0),w=n(16),E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},O=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},T=function(t){function e(e,n,r){var o=t.call(this)||this;return o.adapter=e,o.formatter=n,o.tagManager=r,o}return E(e,t),e.prototype.initialize=function(t){return I(this,void 0,void 0,function(){var e,n,r;return O(this,function(o){switch(o.label){case 0:return this.conf=t,this.meta=this.formatter.meta(this.conf),n=(e=this.adapter).initialize,r=[t.provider,t.profile],[4,this.getDocEvents()];case 1:return n.apply(e,r.concat([o.sent(),this.meta])),t.tags&&this.tagManager.init(t.tags),[4,this.assignMutationObservers()];case 2:return o.sent(),[2]}})})},e.prototype.update=function(t){this.meta=this.formatter.meta(S({},this.conf,{profile:t})),this.adapter.update(t,this.meta)},e.prototype.getDocEvents=function(t){return I(this,void 0,void 0,function(){var n,r=this;return O(this,function(o){switch(o.label){case 0:return[4,_.c.ready];case 1:return o.sent(),n=(t||document).querySelectorAll("["+e.DOM.attrs.action+"]"),[2,_.c.nodes(n).map(function(t){return r.adapter.getEventByType(t.getAttribute(e.DOM.attrs.type)||"event",t.getAttribute(e.DOM.attrs.data)||"",t.getAttribute(e.DOM.attrs.action)||"click",t)})]}})})},e.prototype.assignMutationObservers=function(){return I(this,void 0,void 0,function(){var t=this;return O(this,function(n){switch(n.label){case 0:return[4,_.c.ready];case 1:return n.sent(),[2,_.c.nodes(document.querySelectorAll("["+e.DOM.attrs.async+"]")).map(function(e){var n=new MutationObserver(function(e,n){return I(t,void 0,void 0,function(){var t=this;return O(this,function(r){return e.forEach(function(e){t.getDocEvents(e.target).then(function(e){0!==e.length&&(t.adapter.bindEvents(e,t.meta),n.disconnect())}).catch(console.error)}),[2]})})});return n.observe(e,{childList:!0,subtree:!0}),n})]}})})},e.ACTION_PAGE_LOAD="page-load",e.DOM={attrs:{action:"data-evt",async:"data-async",data:"data-evt-val",type:"data-evt-typ"}},e.pageLoadEventTypes={accountConfirmed:"account-confirmed",campaign:"campaign",creditCardInfo:"crdit-card-info",embeddedVideoLoadStory:"embedded-video-load-story",errorMessageDisplayed:"error-message-displayed",newReg:"new-registration",outfitVideoPlayerLoad:"outfit-video-player-load",pageData:"pagedata",regThankScreen:"reg-thanks-screen",search:"search",signin:"signin",verificationScreen:"verification-screen",videoCenter:"video-center",viewArticle:"view-article",viewCategory:"view-category",viewPage:"page-view",widgetPlaylistLoad:"widget-playlist-load",widgetPlaylistPlayer:"widget-playlist-player",widgetVideoLoad:"widget-video-load"},e.clickEventTypes={accountModal:"account-modal",button:"button",consent:"consent",internalPromotionClick:"internal-promotion-click",navigation:"navigation",photoGallery:"photo-gallery",signinRegModule:"signin-reg-module",signout:"signout",socialShare:"social-share",subscribeNewsletter:"subscribe-newsletter",subscriptionButton:"subscription-button-click",videoFullScreen:"video-full-screen",videoPause:"video-pause",videoPlay:"video-play",widget:"widget"},e.scrollEventTypes={percentPageview:"percent-pageview",widgetInview:"widget-inview"},e}(w.a);!function(t){t.AD_SITE="Ad Site",t.BRAND="Brand",t.DOMAIN="Domain",t.VENDOR="Vendor",t.DIVISION="Division",t.DEBUG="Analytics Debug info",t.SERVER="Server",t.AD_LIGHT="AdLight User",t.ALL_SUB_SEC="All Sub Sections",t.ARTICLE_ID="Article ID",t.AUTHORS="Authors",t.BYLINE="Writer Byline",t.BTN_LOC="Button Location",t.CANONICAL_PATH="Canonical Page Path",t.CATEGORY="Category",t.CUR_PAGE="Current Page",t.DISTRIBUTOR="Distributor",t.KLNGO_ENTITY="Entity",t.KLNGO_CATEGORY="NLP Category",t.ERROR="404",t.EXCERPT="Excerpt",t.FORMAT="Article Format",t.GLOBAL_ID="Global Post ID",t.HEADLINE="Alternate Headline",t.IS_ORIGINAL="Originating Property",t.IS_WIRE="Wire Content",t.MAIN_CATEGORY="Main Category",t.META_ROBOT="Meta Robots Tag",t.META_DESC="Meta Description",t.META_TAG="Article Tags",t.METERED_CONTENT_TYPE="Metered Content Type",t.MOD_DATE="Modification Date",t.MOD_TIME="Modification time of day",t.MP_ID="MPID",t.NAME="Page Name",t.NEWS_KEYWRD="Google News Keywords",t.NLP_ENTITY="NLP Entity",t.NLP_TOPIC="NLP Topic",t.ORIGINAL_ID="Original ID",t.PAGE_RES_TIME="Page Response Time",t.PAGE_RES_TYPE="Page Response Type",t.PAYWALL="Paywall Whitelist",t.PUB_DATE="Publish Date",t.PUB_TIME="Publish Time of Day",t.REF_DETAILS="Referral Details",t.SESSION_UUID="Session UUID",t.SLUG="Global Slug",t.SPONSOR="Sponsor",t.SUB_SEC="Sub Section",t.SUB_SEC_2="Sub Section 2",t.SUB_SEC_3="Sub Section 3",t.TAG="Tags",t.TITLE="Article Title",t.TYPE="Page Type",t.URL="URL",t.USER_LOGGEDIN="Login Status",t.VID_IN_PAGE="Video In Page",t.VERSION="Version",t.WRD_CNT="Word Count",t.WIRE_AUTHORS="Wire Authors",t.WIRE_ID="Wire ID",t.WRITERS="Authors",t.URL_PARAMS="URL Parameters",t.VID_ID_FRM_PLYLST="Video ID From Playlist Widget",t.VID_NAME="Video Name",t.VID_PLATFORM="Video Platform",t.VID_AUTHOR="Video Author",t.VID_ID="Video ID",t.VID_CENTER="Video Center",t.VID_QUALITY="Video Quality",t.VID_PUB_DATE="Video Publish Date",t.VID_NAME_PATH="Video Name Path",t.VID_PLAYER_NAME="Video Player Name",t.VID_CONT_TYPE="Video Content Type",t.VID_ERROR_MSG="Video Error Message",t.VID_FEATURED="Featured Video",t.PAGEVIEW_PRCNT="Percentage of Page Viewed",t.PAGEVIEW_INIT_PRCNT="Initial Percentage of Page Viewed",t.WDGT_NAME="Widget Name",t.WDGT_POS="Widget Position",t.WDGT_TYPE="Widget Type",t.WDGT_FEED="Feed",t.WDGT_FEED_TYPE="Feed Type",t.WDGT_FEED_ID="Feed ID",t.WDGT_FEED_NAME="Feed Name",t.WDGT_FEED_POS="Feed Position",t.WDGT_STORY_POS="Story Position",t.WDGT_CLCKD_STORY_ID="Clicked Story ID",t.WDGT_CLCKD_STORY_TITLE="Clicked Story Title",t.WDGT_CLCKD_STORY_URL="Clicked Target URL",t.WDGT_VID_PLYLST_ID="Playlist ID",t.WDGT_VID_PLYLST_WDGT_ID="Playlist Widget ID",t.WDGT_VID_PLTFRM="Widget Video Platform",t.WDGT_VID_ID="Widget Video ID",t.NAV_NAME="Name",t.NAV_LOC="Navigation Location",t.NAV_CLICK="Navigation Click",t.VIA_TOTAL_CMNTS="Total Comments",t.VIA_DATE_CRETED="Date Created",t.VIA_TOTAL_CMNTS_MADE="Total Comments Made",t.VIA_TOTAL_CMNTS_RCVD="Total Comments Received (replies)",t.VIA_RNK_CMNTS_MADE="Rank Comments Made",t.VIA_RNK_CMNTS_RCVD="Rank Comments Received",t.VIA_RNK_CMNTS_OVRAL="Comments Rank Overall",t.VIA_RNK_SUB_CNT="Comments Rank Subscriber Count",t.VIA_CMNTS_RTNG="Comments Rating",t.VIA_CMNTS_LVL="Comment level",t.VIA_CMNTS_TYP="Comment type",t.VIA_SCL_LGIN_ID="Social Login ID",t.VIA_SCL_LGIN_PRDR="Social Login Provider",t.VIA_USR_PRVLG="User Privilege",t.VIA_DISLK_RCVD="Dislike (Received)",t.VIA_DISLK_MADE="Dislike (Made)",t.VIA_LIKE_MADE="Like (Made)",t.VIA_LIKE_RCVD="Like (Received)",t.SCL_SHARE_CHANNEL="Share Channel",t.SCL_SHARE_LOC="Share Location On Page",t.SRCH_KEY_WORDS="Search Terms",t.SRCH_RSLT_CNT="Search Result Count",t.CMPGN_ID="Campaign ID",t.CMPGN_TYPE="Campaign Type",t.INTRNL_PROM_NAME="Promotion Name",t.SUB_BTN_ACTN="Action",t.SUB_BTN_NEWS="Newsletters",t.SUB_BTN_SRC="Source",t.SUB_BTN_TOPIC="Topics subscribed",t.OUTFIT="Outfit",t.OUTFIT_POS="Outfit Position",t.USER_EMAIL="email",t.USER_JANRAIN_ID="janrainId",t.USER_GLBL_COOKIE="globalCookieId",t.USER_CLAIMED_19_PLUS="Claimed 19+",t.USER_PROVINCE="$State",t.USER_PST_CDE="$Zip",t.USER_MPID="MPID",t.USER_VIEW_SIGN_REG_MODULE="Registration/Sign In Module Trigger",t.USER_ACNT_STATUS="Status",t.USER_SIGNIN_MTHD="Sign In Method",t.TRUE_FALSE="T/F",t.BTN_NAME="Button Name",t.BTN_TEXT="Button Text",t.BTN_URL="Button URL",t.PHOTO_NAME="Photo Name",t.ERROR_MSG="Error Message"}(l||(l={}));var A,P=n(3),D=function(){function t(t,e){this.el=t,this.adLight=e,this.el=t,!0===this.adLight?this.removeWidgetContainer():this.loadData()}return t.prototype.removeWidgetContainer=function(){this.el.remove()},t}(),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e.prototype.loadData=function(){var t=this.el.getAttribute(e.DOM.attrs.key),n=_.c.idElementExists(A.DISTROSCALE),r="//c.jsrdn.com/s/cs.js?p="+t;t&&!n&&_.c.loadScript(r,[{key:_.c.attrs.id,value:A.DISTROSCALE}])},e.prototype.removeWidgetContainer=function(){_.c.nodes(document.querySelectorAll(".js-widget-"+A.DISTROSCALE)).forEach(function(t){return t.remove()})},e.DOM={attrs:{key:"data-distroscale-htmlid"}},e}(D),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e,n)||this;return r.el=e,r.adLight=n,r}return L(e,t),e.prototype.loadData=function(){var t=this.el.getAttribute(e.DOM.attrs.modId),n="https://api.flyertown.ca/"+this.el.getAttribute(e.DOM.attrs.urlParam)+"/flyertown_module.js";this.el.id=""+t,t&&_.c.loadScript(n)},e.prototype.removeWidgetContainer=function(){_.c.nodes(document.querySelectorAll(".js-widget-"+A.FLYERCITY)).forEach(function(t){return t.remove()})},e.DOM={attrs:{modId:"data-mod-id",urlParam:"data-url-param"}},e}(D),M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e,n)||this;return r.el=e,r.adLight=n,r}return M(e,t),e.prototype.loadData=function(){var t=this.el.getAttribute(e.DOM.attrs.adSize),n=this.el.getAttribute(e.DOM.attrs.partnerId);if(this.el.id="origami-ad-container",n){var r=[{key:"id",value:"origami-ad-widget"},{key:"data-partner-id",value:n}];t&&r.push({key:"data-ad-size",value:t}),_.c.loadScript("https://origami.secure.ownlocal.com/origami-widget.js",r)}},e.DOM={attrs:{adSize:"data-ad-size",partnerId:"data-partner-id"}},e}(D),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e,n)||this;return r.el=e,r.adLight=n,r}return j(e,t),e.prototype.loadData=function(){var t=this.el.getAttribute(e.DOM.attrs.adSize),n=this.el.getAttribute(e.DOM.attrs.partnerId),r="https://widget.secure.ownlocal.com/embed.js?uuid="+n+"?h="+t+"&min_featured_level=0&category=all&subcategory=all&days_ago=30";if(this.el.id="ownlocal",n){_.c.loadScript(r,[{key:"id",value:"ownlocal-script"},{key:"data-active",value:"businesses"}])}},e.prototype.removeWidgetContainer=function(){_.c.nodes(document.querySelectorAll(".js-widget-"+A.OWNLOCAL)).forEach(function(t){return t.remove()})},e.DOM={attrs:{adSize:"data-ad-size",partnerId:"data-uuid"}},e}(D),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e,n)||this;return r.el=e,r.adLight=n,r}return V(e,t),e.prototype.loadData=function(){var t=this.el.getAttribute(e.DOM.attrs.publisherId),n="https://static.freeskreen.com/publisher/"+t+"/freeskreen.min.js";t&&_.c.loadScript(n)},e.DOM={attrs:{publisherId:"data-htmlid"}},e}(D),U=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},F=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},B=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};!function(t){t.DISTROSCALE="distroscale",t.FLYERCITY="flyercity",t.OWNLOCAL="ownlocal",t.ORIGAMI="origami",t.SLIMCUT="slimcut"}(A||(A={}));var W,Y=function(){function t(){this.widgets=[]}return t.prototype.initialize=function(e){return U(this,void 0,void 0,function(){var n=this;return F(this,function(r){switch(r.label){case 0:return[4,_.c.ready];case 1:return r.sent(),_.c.nodes(document.querySelectorAll("["+t.DOM.attrs.widget+"]")).forEach(function(r){var o=void 0;switch(r.getAttribute(t.DOM.attrs.widget)){case A.DISTROSCALE:o=new R(r,e);break;case A.FLYERCITY:o=new N(r,e);break;case A.ORIGAMI:o=new k(r,e);break;case A.OWNLOCAL:o=new x(r,e);break;case A.SLIMCUT:o=new G(r,e)}return o&&n.widgets.push(o),o}),[2]}})})},t.prototype.update=function(t){return U(this,void 0,void 0,function(){var e,n,r,o;return F(this,function(i){if(t)try{for(r=B(this.widgets),o=r.next();!o.done;o=r.next())o.value.removeWidgetContainer()}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return[2]})})},t.DOM={attrs:{widget:"data-widget"}},t}(),H=n(1),q=n(42),z=function(){return(z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},K=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},J=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},X=function(){function t(){}return t.dom=function(){var t,e=((t={})[l.NAME]=location.href.split(location.host)[1],t[l.CUR_PAGE]=location.href,t);return document.querySelector("meta[name='description']")&&(e[l.META_DESC]=H.b.decodeHtmlEntity(document.querySelector("meta[name='description']").getAttribute("content"))),document.querySelector("meta[name='robots']")&&(e[l.META_ROBOT]=H.b.decodeHtmlEntity(document.querySelector("meta[name='robots']").getAttribute("content"))),document.querySelector("link[rel='canonical']")&&(e[l.CANONICAL_PATH]=_.c.getRelUrl("canonical")),e},t.prototype.format=function(e,n,r){if(e.length<1)return{};var o={};if(n){var i=z({},n,t.dom());e.forEach(function(t){r&&Object.keys(r).indexOf(t)>-1&&Object.keys(i).indexOf(t)>-1?o[r[t]]=String(i[t]):Object.keys(i).indexOf(t)>-1&&(o[t]=String(i[t]))})}return z({},o,this.refDetails(e),this.staticValues(e,n,r),this.formatVideoAttr(e,n))},t.prototype.staticValues=function(t,e,n){var r={};return t.length>0&&(n&&Object.keys(n).indexOf(l.FORMAT)>-1?r[n[l.FORMAT]]="HTML5":t.indexOf(l.FORMAT)>-1&&(r[l.FORMAT]="HTML5"),n&&Object.keys(n).indexOf(l.GLOBAL_ID)>-1?r[n[l.GLOBAL_ID]]=e[l.ARTICLE_ID]+", "+e[l.ORIGINAL_ID]:t.indexOf(l.GLOBAL_ID)>-1&&(r[l.GLOBAL_ID]=e[l.ARTICLE_ID]+", "+e[l.ORIGINAL_ID]),t.indexOf(l.PAGEVIEW_INIT_PRCNT)>-1&&(r[l.PAGEVIEW_INIT_PRCNT]=String(q.a.initPageYcord())),t.indexOf(l.PAGEVIEW_PRCNT)>-1&&(r[l.PAGEVIEW_PRCNT]=String(q.a.crntPageYcord())),n&&Object.keys(n).indexOf(l.VERSION)>-1?r[n[l.VERSION]]="Desktop":t.indexOf(l.VERSION)>-1&&(r[l.VERSION]="Desktop")),r},t.prototype.refDetails=function(t){var e={};if(t.indexOf(l.REF_DETAILS)>-1){var n=H.b.urlParams(document.location);n.has("utm_source")&&(e[l.REF_DETAILS]=n.get("utm_source"))}return e},t.prototype.formatVideoAttr=function(t,e){var n={};return t.indexOf(l.VID_NAME_PATH)>-1&&e[l.CATEGORY]&&(n[l.VID_NAME_PATH]=e[l.CATEGORY].replace(/, /g,">")),t.indexOf(l.VID_PUB_DATE)>-1&&(n[l.VID_PUB_DATE]=e[l.PUB_DATE]),n},t.prototype.formatSocialShareAttr=function(t){var e={};return t&&(t.chnl&&(e[l.SCL_SHARE_CHANNEL]=t.chnl),t.loc&&(e[l.SCL_SHARE_LOC]=t.loc)),e},t.prototype.searchAttrformat=function(t){var e={};return t&&(t.keys&&(e[l.SRCH_KEY_WORDS]=t.keys),t.rsltCnt>-1&&(e[l.SRCH_RSLT_CNT]=String(t.rsltCnt))),e},t.prototype.cmpgnAttrformat=function(t){var e={};return t&&(t.id&&(e[l.CMPGN_ID]=String(t.id)),t.type&&(e[l.CMPGN_TYPE]=String(t.type))),e},t.prototype.intrnlPromoClkAttrformat=function(t){var e={};return t&&(t.loc&&(e[l.BTN_LOC]=t.loc),t.name&&(e[l.INTRNL_PROM_NAME]=t.name)),e},t.prototype.subsBtnClkAttrformat=function(t){var e={};return t&&(t.action&&(e[l.SUB_BTN_ACTN]=t.action),t.newsltr&&(e[l.SUB_BTN_NEWS]=t.newsltr),t.src&&(e[l.SUB_BTN_SRC]=t.src),t.topic&&(e[l.SUB_BTN_TOPIC]=t.topic)),e},t.prototype.vidCenterAttrformat=function(t){var e={};return t&&(t.vidId&&(e[l.VID_ID]=t.vidId),t.url&&(e[l.URL]=t.url),t.outfit&&(e[l.OUTFIT]=t.outfit),t.outfitPos&&(e[l.OUTFIT_POS]=t.outfitPos)),e},t.prototype.btnClkAttrFormat=function(t){var e={};return t&&(t.name&&(e[l.BTN_NAME]=t.name),t.loc&&(e[l.BTN_LOC]=t.loc),t.text&&(e[l.BTN_TEXT]=t.text),t.url&&(e[l.BTN_URL]=t.url)),e},t.prototype.photoGalleryFormat=function(t){var e={};return t&&t.name&&(e[l.PHOTO_NAME]=t.name),e},t.prototype.errorFormat=function(t){var e={};return t&&t[l.ERROR]&&(e[l.ERROR_MSG]="404 Error"),e},t.prototype.mParticleId=function(){return K(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,e){window.mParticle.ready(function(){if(!window.mParticle.Identity.getCurrentUser())return e(new Error("mParticle Identity not initialized"));t(window.mParticle.Identity.getCurrentUser().getMPID())})})];case 1:return[2,t.sent()]}})})},t}(),$=function(){function t(){}return t.prototype.format=function(t){var e={};return t&&(t.loc&&(e[l.BTN_LOC]=String(t.loc)),t.viewSignRegMod&&(e[l.USER_VIEW_SIGN_REG_MODULE]=String(t.viewSignRegMod)),t.status&&(e[l.USER_ACNT_STATUS]=String(t.status)),t.method&&(e[l.USER_SIGNIN_MTHD]=String(t.method)),String(t.tOf)&&(e[l.TRUE_FALSE]=String(t.tOf))),e},t}();!function(t){t.ERROR="Error",t.EVENTNAME="Event"}(W||(W={}));var Q,Z=function(){function t(){}return t.prototype.error=function(t,e){var n;return(n={})[W.ERROR]=t,n[W.EVENTNAME]=e,n},t}(),tt="Empty object is not acceptable",et=function(){function t(){this.errorFormatter=new Z}return t.prototype.logPageView=function(t,e,n){try{if(H.b.isEmptyObject(e))return this.logCustomError(tt,"logPageView"),!1;var r=[t,e,n];return window.mParticle.ready(function(){window.mParticle.logPageView.apply(this,r)}),!0}catch(t){return!1}},t.prototype.logEvent=function(t,e,n,r){try{if(H.b.isEmptyObject(n))return this.logCustomError(tt,"logEvent"),!1;var o=[t,e,n,r];return window.mParticle.ready(function(){window.mParticle.logEvent.apply(this,o)}),!0}catch(t){return!1}},t.prototype.logCustomError=function(e,n){var r=this.errorFormatter.error(e,n);this.logEvent("Log error",t.mpEventType.Other,r)},t.prototype.logDefaultEvent=function(e){return this.logEvent(t.mpEventName.Default,t.mpEventType.Other,e)},t.mpEventType={Location:2,Navigation:1,Other:8,Search:3,Social:7,Transaction:4,UserContent:5,UserPreference:6},t.mpEventName={AccountConfirmed:"Verified Registration",AccountModal:"Create Account Modal",Button:"Button Click",ConsentBanner:"GDPR Consent Banner View",CreditCardInfo:"View Enter Credit Card Information Module",Default:"Default Event",Error:"Error Message Displayed",ExternalCampaign:"External Campaign",InternalCampaign:"Internal Campaign",InternalPromotionClick:"Internal Promotion Click",NavigationClick:"Navigation Click",NewReg:"New Registration",PageData:"Page Data",PercentPageview:"Percentage of Page Viewed",PhotoGallery:"Photo Gallery",RegThankScreen:"View Registration Thank You Screen",ScreenView:"Screen View",Search:"Search",Signin:"Sign In",SigninRegModule:"View Sign In/Registration Module",Signout:"Sign Out",SocialShare:"Share Article",SubscribeNewsletter:"Newsletter Subscribe",SubscriptionButton:"Subscription Button Click",VerificationScreen:"View Verification Request Screen",ViafouraComment:"Viafoura - User Comment",ViafouraDislike:"Viafoura - User Dislike",ViafouraLike:"Viafoura - User Like",ViafouraUserUpdate:"Viafoura - User Updated",VideoCenter:"Video Center",VideoEnded:"Video Ended",VideoFullScreen:"Video Full Screen Activated",VideoPaused:"Video Paused",VideoPlayerError:"Video Player Error",VideoStarted:"Video Clicked/Started",ViewArticle:"View Article",ViewCategory:"View Category",WidgetClicked:"Widget Click",WidgetInView:"Widget in View",WidgetVideoLoad:"Widget Video Load - Story"},t}(),nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.type=e,i.value=n,i.action=r,i.element=o,i}return nt(e,t),e.prototype.handle=function(){},e}(a.a),ot=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ot(e,t),e.prototype.setMetaProperties=function(t){this.metaProperties=t},e.prototype.getProperties=function(){if(this.value&&this.value.length&&JSON.parse(this.value))return JSON.parse(this.value)},e}(rt),at=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),st=function(){return(st=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ct=new et,ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.userAttrFormatter=new $,e}return at(e,t),e.prototype.handle=function(){var t,e=[l.DOMAIN];switch(this.type){case T.pageLoadEventTypes.signin:t=et.mpEventName.Signin,e.push(l.USER_SIGNIN_MTHD);break;case T.pageLoadEventTypes.newReg:t=et.mpEventName.NewReg,e.push(l.TRUE_FALSE);break;case T.pageLoadEventTypes.regThankScreen:t=et.mpEventName.RegThankScreen;break;case T.pageLoadEventTypes.verificationScreen:t=et.mpEventName.VerificationScreen;break;case T.pageLoadEventTypes.creditCardInfo:t=et.mpEventName.CreditCardInfo;break;case T.pageLoadEventTypes.accountConfirmed:t=et.mpEventName.AccountConfirmed,e.push(l.USER_ACNT_STATUS),e.push(l.TRUE_FALSE);break;case T.clickEventTypes.subscriptionButton:t=et.mpEventName.SubscriptionButton,e.push(l.BTN_LOC);break;case T.clickEventTypes.signinRegModule:t=et.mpEventName.SigninRegModule,e.push(l.USER_VIEW_SIGN_REG_MODULE);break;case T.clickEventTypes.signout:t=et.mpEventName.Signout,e.push(l.TRUE_FALSE);break;case T.clickEventTypes.accountModal:t=et.mpEventName.AccountModal}var n=this.attributeFormatter.format(e,st({},this.metaProperties,this.userAttrFormatter.format(this.getProperties())));ct.logEvent(String(t),et.mpEventType.UserPreference,n)},e}(it),lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ft=function(){function t(t,e,n,r,o,i,a){if(this.conf=t,this.adService=e,this.ageGateService=n,this.pageAgeGateService=r,this.consentBannerService=o,this.analyticsService=i,this.identityService=a,this.widgetService=new Y,this.conf.analytics&&this.analyticsService&&(this.analyticsConf={adSite:this.conf.ads.site,brand:this.conf.analytics.brand,debug:this.conf.analytics.debug,division:this.conf.analytics.division,domain:this.conf.analytics.domain,page:this.conf.page,profile:void 0,provider:this.conf.analytics.provider,tags:this.conf.analytics.tags,vendor:this.conf.analytics.vendor}),this.conf.identity){var s=void 0;this.conf.ads&&(s=this.conf.ads.commentAdConfiguration),this.identityService.addEventListener(P.a.EMAIL_VERIFIED,this.onEmailVerified.bind(this)).addEventListener(P.a.IDENTITY_INIT,this.onIdentityInit.bind(this)).addEventListener(P.a.IDENTITY_CHANGE,this.onIdentityChange.bind(this)).addEventListener(P.a.SESSION_INIT,this.onIdentitySession.bind(this)).initialize(lt({},t.identity.sso,{page:this.conf.page}),t.identity.subscriber,t.identity.links,t.identity.logo,t.page.isPremium,t.page.isPaywallWhitelisted,t.identity.property,s)}else this.identityService.addEventListener(P.a.IDENTITY_INIT,this.onIdentityInit.bind(this)).addEventListener(P.a.IDENTITY_CHANGE,this.onIdentityChange.bind(this)).initialize(void 0,void 0,void 0,void 0),this.onIdentitySession(H.b.event(P.a.SESSION_INIT,this.profile));this.pageAgeGateService.addEventListener(b.b.VERIFIED,this.onAgeVerified.bind(this)),this.ageGateService.addEventListener(b.a.VERIFIED,this.onAgeVerified.bind(this)),this.consentBannerService.initialize()}return t.prototype.onAgeVerified=function(){this.identityService.update({ageOfMajority:!0}).catch(console.log)},t.prototype.onEmailVerified=function(t){var e,n=new ut(T.pageLoadEventTypes.accountConfirmed,JSON.stringify({tOf:"true"}),T.ACTION_PAGE_LOAD);n.setMetaProperties(((e={})[l.DOMAIN]=this.conf.analytics.domain,e)),n.handle(),this.profile=t.detail,this.updateSubscriberDetails(),this.identityService.update(this.profile,!1).catch(console.log)},t.prototype.onIdentityChange=function(t){this.profile=t.detail,this.updateSubscriberDetails(),this.identityService.update(this.profile,!1).catch(console.log),this.adService.update(this.profile.adLight).catch(console.log),this.analyticsConf&&!this.analyticsConf.profile&&this.profile.email&&this.profile.subscriptions?(this.analyticsConf=lt({},this.analyticsConf,{profile:this.profile}),this.analyticsService.initialize(this.analyticsConf).catch(console.log)):this.analyticsConf&&this.analyticsConf.profile&&this.analyticsService.update(this.profile),this.widgetService.update(this.profile.adLight).catch(console.log)},t.prototype.onIdentityInit=function(t){this.profile=t.detail,this.updateSubscriberDetails(),this.identityService.update(this.profile,!1).catch(console.log),this.ageGateService.initialize(this.profile.ageOfMajority),this.pageAgeGateService.initialize(this.conf.page.ageGate,this.profile.ageOfMajority),this.conf.ads&&this.adService&&this.adService.initialize({adLight:this.profile.adLight,analyticsConfig:this.conf.analytics,ancestry:this.conf.page.ancestry,articleId:this.conf.page.articleId,bidding:this.conf.ads.bidding,negative:this.conf.page.klangoo?this.conf.page.klangoo.negativeKeywords:void 0,network:this.conf.ads.network,originId:this.conf.page.originId,page:this.conf.page.type,pageConfig:this.conf.page,property:this.conf.ads.property,provider:this.conf.ads.provider,refresh:this.conf.ads.refresh,sensitive:this.conf.page.klangoo?this.conf.page.klangoo.sensitiveContent:void 0,siteId:this.conf.ads.site,tagManagers:this.conf.ads.tags,verifier:this.conf.ads.verifier,writers:this.conf.page.writers}).catch(console.log),this.analyticsConf&&this.profile.email&&this.profile.subscriptions?(this.analyticsConf=lt({},this.analyticsConf,{profile:this.profile}),this.analyticsService.initialize(this.analyticsConf).catch(console.log)):this.onIdentitySession(H.b.event(P.a.SESSION_INIT,this.profile)),this.widgetService.initialize(this.profile.adLight).catch(console.log)},t.prototype.onIdentitySession=function(t){this.profile=t.detail,!this.analyticsConf||this.analyticsConf.profile||this.profile.email||(this.analyticsConf=lt({},this.analyticsConf,{profile:this.profile}),this.analyticsService.initialize(this.analyticsConf).catch(console.log))},t.prototype.updateSubscriberDetails=function(){var t=this;this.profile.adLight=(this.profile.subscriptions||[]).reduce(function(e,n){return e||(t.conf.identity.subscriber.resIds||[]).indexOf(n.id)>=0},!1)},t}(),pt=n(29),dt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.amazonEnabled=!1,e.biddingJsSrc="//c.amazon-adsystem.com/aax2/apstag.js",e.defaultAdServer="googletag",e.defaultTimeoutMs="2e3",e.oopSizes=[[1,1]],e.amazonInitd=!1,e}return dt(e,t),e.prototype.initializeBidding=function(t,e,n){void 0===e&&(e=this.defaultAdServer),void 0===n&&(n=this.defaultTimeoutMs);var r=t.find(function(t){return t.client===o.AMAZON});r&&(this.amazonEnabled=!0,window.apstag=window.apstag||{_Q:[],fetchBids:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return window.apstag._Q.push(["f",t])},init:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return window.apstag._Q.push(["i",t])},setDisplayBids:function(){}},window.apstag.init({adServer:e,bidTimeout:n,pubID:r.account}),_.c.loadScript(this.biddingJsSrc))},e.prototype.requestAds=function(e){var n=this;if(this.amazonEnabled){var r=(e||this.ads).map(function(t){return{sizes:t.isOutOfPage()?n.oopSizes:t.sizes,slotID:t.id}});this.amazonInitd||(this.amazonInitd=!0,this.sortableEnabled?window.googletag.cmd.push(function(){window.deployads.push(function(){window.deployads.gpt.pubadsDisableInitialLoad()})}):window.googletag.cmd.push(function(){return window.googletag.pubads().disableInitialLoad()})),r.length&&window.apstag.fetchBids({slots:r},function(){return window.googletag.cmd.push(function(){window.apstag.setDisplayBids(),t.prototype.requestAds.call(n,e)})})}else t.prototype.requestAds.call(this,e)},e}(t)},yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},gt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vt(arguments[e]));return t},mt=function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biddingDistrictMJsURL="//cdn.districtm.ca/merge/light.postmedia.js",e}return yt(e,t),e.prototype.initializeBidding=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t.prototype.initializeBidding.apply(this,gt([e],n)),_.a.ie11)||e.find(function(t){return t.client===o.DISTRICT_M})&&_.c.loadScript(""+this.biddingDistrictMJsURL)},e}(t)},bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},wt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_t(arguments[e]));return t},Et=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},St=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Et(arguments[e]));return t},It=function(){function t(t){var e=this;void 0===t&&(t=!0),this.ads=[],this.lazyLoadConf={fetchMarginPercent:50,mobileScaling:2,renderMarginPercent:25},this.jsSrc="//www.googletagservices.com/tag/js/gpt.js",_.c.loadScript(this.jsSrc),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.deployads=window.deployads||[],t&&window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotOnload",e.slotOnload.bind(e)),window.googletag.pubads().addEventListener("slotRenderEnded",e.slotRenderEnded.bind(e)),window.googletag.pubads().enableLazyLoad(e.lazyLoadConf),window.googletag.pubads().enableSingleRequest()})}return t.prototype.destroy=function(t){var e=this;void 0===t&&(t=this.ads),window.googletag.cmd.push(function(){e.sortableEnabled?window.deployads.push(function(){window.deployads.gpt.destroySlots(t.filter(function(t){return t.slot}).map(function(t){return t.slot}))}):window.googletag.destroySlots(t.filter(function(t){return t.slot}).map(function(t){return t.slot}))}),t.forEach(function(t){t.destroy(),e.ads=e.ads.filter(function(e){return e.id!==t.id})})},t.prototype.registerAd=function(t){var e=this,n=t.id;this.ads.push(t),window.googletag.cmd.push(function(){e.ads.find(function(t){return t.id===n})&&(t.isOutOfPage()?t.slot=window.googletag.defineOutOfPageSlot(e.adURI,t.id):t.slot=window.googletag.defineSlot(e.adURI,t.validSizes(),t.id),t.slot.addService(window.googletag.pubads()),t.targets&&St(t.targets).forEach(function(e){return t.slot.setTargeting(e.key,e.value)}))})},t.prototype.requestAds=function(t){var e=this;window.googletag.cmd.push(function(){var n=t||e.ads;n.length&&(e.sortableEnabled?e.sortableDisplay(n):(window.googletag.enableServices(),window.googletag.pubads().isInitialLoadDisabled()?window.googletag.pubads().refresh(n.map(function(t){return t.slot})):n.forEach(function(t){return window.googletag.display(t.id)})))})},t.prototype.sortableDisplay=function(t){window.deployads.push(function(){return window.deployads.gpt.enableServices()}),window.googletag.pubads().isInitialLoadDisabled()?window.deployads.push(function(){return window.deployads.gpt.pubadsRefresh(t.map(function(t){return t.slot}))}):t.forEach(function(t){return window.deployads.push(function(){return window.deployads.gpt.display(t.id)})})},t.prototype.target=function(t){window.googletag.cmd.push(function(){return[].concat(t).forEach(function(t){return window.googletag.pubads().setTargeting(t.key,t.value)})})},t.prototype.removeAdOnEmpty=function(t){var e=t.slot.getSlotId().getDomId(),n=this.ads.find(function(t){return t.id===e});t.isEmpty||n.calculateRefreshSizes(document.querySelector("#"+e))},t.prototype.slotOnload=function(t){var e=t.slot.getSlotId().getDomId();this.ads.find(function(t){return t.id===e}).loaded()},t.prototype.slotRenderEnded=function(t){var e=t.slot.getSlotId().getDomId();this.removeAdOnEmpty(t),this.ads.find(function(t){return t.id===e}).display(t.isEmpty?void 0:t.size,t.isEmpty?void 0:t.slot.getResponseInformation().advertiserId)},t}(),Ot=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},At=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tt(arguments[e]));return t},Pt=function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.biddingIXJsPath="//js-sec.indexww.com/ht/p/",e}return Ot(e,t),e.prototype.initializeBidding=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e.find(function(t){return t.client===o.INDEX_EXCHANGE});i&&_.c.loadScript(""+this.biddingIXJsPath+i.account+".js"),t.prototype.initializeBidding.apply(this,At([e],n))},e}(t)},Dt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Rt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ct(arguments[e]));return t},Lt=function(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Rt(e))||this;return r.iasJsSrc="//cdn.adsafeprotected.com/iasPET.1.js",document.querySelector('script[src $= "'+r.iasJsSrc+'"]')||_.c.loadScript(r.iasJsSrc),window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],r}return Dt(e,t),e.prototype.requestAds=function(e){var n=this;window.__iasPET.queue.push({adSlots:(e||this.ads).map(function(t){return{adSlotId:t.id,adUnitPath:n.adURI,size:t.sizes}}),dataHandler:function(){window.__iasPET.setTargetingForGPT(),t.prototype.requestAds.call(n,e)}})},e.prototype.initializeVerifier=function(t){window.__iasPET.pubId=t.account},e}(t)},Nt=n(76);!function(t){t[t.YYYY_MM_DD=0]="YYYY_MM_DD",t[t.HH_MM_SS=1]="HH_MM_SS"}(Q||(Q={}));var Mt,kt=function(t,e,n,r,o){void 0===n&&(n=2),void 0===r&&(r="/"),void 0===o&&(o=":");var i=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),c=t.getHours(),u=t.getMinutes(),l=t.getSeconds();return e===Q.YYYY_MM_DD?i+""+r+a.toString().padStart(n,"0")+r+s.toString().padStart(n,"0"):e===Q.HH_MM_SS?(+c%24).toString().padStart(n,"0")+""+o+u.toString().padStart(n,"0")+o+l.toString().padStart(n,"0"):t.toLocaleDateString()},jt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},xt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jt(arguments[e]));return t},Vt=function(t,e,n){return t?e&&n?t.filter(function(t){return e.indexOf(t.rank)>-1&&t.score>n}).map(function(t){return H.b.decodeHtmlEntity(t.token)}):t.map(function(t){return H.b.decodeHtmlEntity(t.type+">"+t.subtype+">"+t.token+","+t.score+","+t.rank)}):[]},Gt=function(t,e){return t?e?t.filter(function(t){return t.score>e}).map(function(t){return H.b.decodeHtmlEntity(t.text)}):t.map(function(t){return H.b.decodeHtmlEntity(t.text+","+t.score)}):[]},Ut=function(t,e){if(t){var n=t.filter(function(t){return t.score>e}).map(function(t){return H.b.decodeHtmlEntity(t.name)}),r=t.filter(function(t){return t.score}).map(function(t){return t.specificCategories?t.specificCategories.filter(function(t){return t.score}).map(function(t){return H.b.decodeHtmlEntity(t.name)}):[]});return xt(new Set(xt(n,r[0])))}return[]};!function(t){t.AUTHOR="author",t.CATEGORY="category",t.ERROR="error",t.INDEX="index",t.ONE_DIGITAL="one-digital",t.PAGE="page",t.SEARCH="search",t.STORY="story",t.TAG="tag"}(Mt||(Mt={}));var Ft,Bt=function(){return(Bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Wt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Yt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wt(arguments[e]));return t},Ht=["R","VR"],qt=function(){function t(){}return t.prototype.meta=function(t){var e,n=((e={})[l.USER_LOGGEDIN]=String(!!t.profile.email),e[l.AD_SITE]=t.adSite,e[l.AD_LIGHT]=String(t.profile.adLight),e[l.BRAND]=t.brand,e[l.DIVISION]=t.division,e[l.DOMAIN]=t.domain,e[l.VENDOR]=t.vendor,e[l.DEBUG]=t.debug,e[l.TYPE]=t.page.type,e[l.PAYWALL]=String(t.page.isPaywallWhitelisted),e[l.METERED_CONTENT_TYPE]=this.paywallText(t.page.paywall),e);return t.page.articleId&&(n[l.ARTICLE_ID]=t.page.articleId),t.page.originId&&(n[l.ORIGINAL_ID]=t.page.originId),t.page.dist&&(n[l.DISTRIBUTOR]=t.page.dist),t.page.error?(n[l.PAGE_RES_TYPE]=String(t.page.error),n[l.ERROR]=String(t.page.error).match(/20[01]/)?String(!1):String(!0)):(n[l.PAGE_RES_TYPE]=String(200),n[l.ERROR]=String(!1)),t.page.excerpt&&(n[l.EXCERPT]=t.page.excerpt),String(t.page.isOrigin)&&(n[l.IS_ORIGINAL]=String(t.page.isOrigin)),t.page.video&&String(t.page.video.inPage)&&(n[l.VID_IN_PAGE]=String(t.page.video.inPage)),t.page.wc&&(n[l.WRD_CNT]=String(t.page.wc)),t.page.writers&&t.page.writers.main&&t.page.writers.main.length>0&&(n[l.WRITERS]=t.page.writers.main.map(function(t){return"object"==typeof t?t.name:t}).join(", ")),t.page.sponsor&&(n[l.SPONSOR]=t.page.sponsor),Bt({},n,this.isWire(t.page),this.tag(t.page),this.title(t.page.title),this.category(t.page.ancestry,t.page.type),this.dateFormat(t.page.date),this.klangoo(t.page.klangoo),this.writers(t.page))},t.prototype.tag=function(t){var e={};return t.kw&&(e[l.NEWS_KEYWRD]=t.kw.join(", ")),t.tags&&(e[l.META_TAG]=t.tags.join(", ")),t.globalSlug&&(e[l.SLUG]=String(t.globalSlug)),e},t.prototype.writers=function(t){var e={};return t&&t.writers&&(t.writers.main&&t.writers.main.length>0&&(e[l.WRITERS]=t.writers.main.map(function(t){return"object"==typeof t?t.name:t}).join("|")),t.writers.wire&&t.writers.wire.length>0&&(e[l.WIRE_AUTHORS]=t.writers.wire.join("|")),t.writers.byline&&(e[l.BYLINE]=t.writers.byline)),e},t.prototype.isWire=function(t){var e={};return t&&(t.wireId&&(e[l.WIRE_ID]=t.wireId),t.writers&&t.writers.wire&&t.writers.wire.length>0||t.wireId?e[l.IS_WIRE]=String(!0):e[l.IS_WIRE]=String(!1)),e},t.prototype.title=function(t){var e={};return t&&(t.main&&(e[l.TITLE]=H.b.decodeHtmlEntity(t.main)),t.alt&&(e[l.HEADLINE]=H.b.decodeHtmlEntity(t.alt))),e},t.prototype.dateFormat=function(e){var n={};return e&&(e.pub&&(n[l.PUB_DATE]=kt(e.pub,t.dateFormat),n[l.PUB_TIME]=kt(e.pub,t.timeFormat)),e.mod&&(n[l.MOD_DATE]=kt(e.mod,t.dateFormat),n[l.MOD_TIME]=kt(e.mod,t.timeFormat))),n},t.prototype.category=function(t,e){var n=e!==Mt.INDEX||t&&t.length?Yt(t||[]):["index"],r={};return n.length&&(r[l.ALL_SUB_SEC]=n.join("/"),r[l.MAIN_CATEGORY]=n[n.length-1],r[l.CATEGORY]=n.shift(),n.length>0?r[l.SUB_SEC]=n.shift():r[l.SUB_SEC]="NULL",n.length>0?r[l.SUB_SEC_2]=n.shift():r[l.SUB_SEC_2]="NULL",n.length>0?r[l.SUB_SEC_3]=n.shift():r[l.SUB_SEC_3]="NULL"),r},t.prototype.klangoo=function(t){var e={};return t&&t.entities&&(e[l.KLNGO_ENTITY]=Yt(new Set(Yt(Vt(t.entities,Ht,.25),Gt(t.keyTopics,.25),Ut(t.categories,.25)))).join("| "),e[l.NLP_ENTITY]=Vt(t.entities).join("| "),e[l.NLP_TOPIC]=Gt(t.keyTopics).join("| ")),t&&t.categories&&(e[l.KLNGO_CATEGORY]=Ut(t.categories,.25).join("| ")),e},t.prototype.paywallText=function(t){if(t){if(t.length<1)return"";var e={ccate:"Commercial Category",exclusive:"Exclusive",fwpost:"Full Width Post",hflist:"Hide Post From List",nofollow:"No Follow",noindex:"No Index",subscriber:"Subscriber Only",whitelist:"Paywall Whitelist"},n=[];return t.split(", ").forEach(function(t){e[t]?n.push(e[t]):n.push("Metered Content")}),n.join(", ")}return""},t.dateFormat=Q.YYYY_MM_DD,t.timeFormat=Q.HH_MM_SS,t.supportedPageTypes=[Mt.CATEGORY,Mt.INDEX,Mt.STORY],t}(),zt=function(){return(zt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Kt=function(t,e){var n=new qt,r={};if(e&&(r[l.VENDOR]=e.vendor,r[l.BRAND]=e.brand,r[l.DIVISION]=e.division),t){if(r[l.DISTRIBUTOR]=t.dist,r[l.TYPE]=t.type,t.tags&&(r[l.TAG]=t.tags.join(", ")),t.captureUrlParams&&t.captureUrlParams.length>0){var o=new URLSearchParams(window.location.search);r[l.URL_PARAMS]={},t.captureUrlParams.forEach(function(t){r[l.URL_PARAMS][t]=o.get(t)})}if("story"===t.type)return t.writers&&t.writers.main&&t.writers.main.length>0&&(r[l.WRITERS]=t.writers.main.map(function(t){return"object"==typeof t?t.name:t}).join(", ")),r[l.ARTICLE_ID]=t.articleId,r[l.FORMAT]="HTML",zt({},r,n.title(t.title),n.klangoo(t.klangoo))}return r},Jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.kruxJsPath="//cdn.krxd.net/controltag/",e}return Jt(e,t),e.prototype.initializeTagManagers=function(t,e,n){var r=t&&t.find(function(t){return t.client===i.KRUX});r&&(window.Krux||(window.Krux=function(t){return window.Krux.q.push(t)},window.Krux.q=[]),window.KruxDataLayer||(window.KruxDataLayer={}),(e||n)&&(window.KruxDataLayer.data=Kt(e,n),addEventListener(P.a.PROVIDER_ID_ASSIGNED,function(t){t.detail.mpId?window.KruxDataLayer.data.MPID=t.detail.mpId:window.KruxDataLayer.data.MPID=void 0})),_.c.loadScript(""+this.kruxJsPath+r.account+".js")),this.initializeEventListeners()},e.prototype.initializeEventListeners=function(){addEventListener(Nt.a.FIRE_EVENT_PIXEL,function(t){if(t.detail.kruxPixelId){var e="https://beacon.krxd.net/event.gif?event_id="+t.detail.kruxPixelId+"&event_type=default",n=document.createElement("img");n.setAttribute("src",e),n.setAttribute("width","0"),n.setAttribute("height","0"),document.body.appendChild(n)}})},e}(t)},$t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Zt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qt(arguments[e]));return t},te=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ee=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(te(arguments[e]));return t},ne=function(){function t(t){void 0===t&&(t=[]),this.parts=t}return t.prototype.add=function(e){return new t(ee([].concat(this.parts),[].concat(e)))},t.prototype.addIf=function(t,e){return t?this.add(e):this},t.prototype.toString=function(t){void 0===t&&(t="/");var e=[].concat(this.parts).filter(function(t){return t});return e.length?t+e.join(t):""},t}(),re=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},oe=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(re(arguments[e]));return t},ie=function(t,e,n,r){return new ne(t).add(e).addIf(r===Mt.AUTHOR,"author").addIf([Mt.CATEGORY,Mt.INDEX,Mt.PAGE,Mt.STORY].indexOf(r)>=0,oe(n||[])).addIf(r===Mt.SEARCH,[]).addIf(r===Mt.TAG,oe(n||[]).shift()).add(r===Mt.STORY?"story":"index").toString()},ae=n(77),se={airdrieecho:"ade",bizmagazine:"",brantfordexpositor:"brx",businesslondon:"",calgaryherald:"ch",calgarysun:"csun",canada:"ccn",canoe:"canoe",carmanvalleyleader:"tvl",chathamdailynews:"cdn",chathamthisweek:"ctw",classifieds:"gc",clintonnewsrecord:"cnr",cochranetimes:"cct",cochranetimespost:"cbe",coldlakesun:"clk",communitypress:"cpa",countymarket:"ecm",countyweeklynews:"cwn",dailyheraldtribune:"dht",delhinewsrecord:"dnr",devondispatch:"dvd",draytonvalleywesternreview:"dvw",driving:"dr",edmontonexaminer:"edx",edmontonjournal:"elj",edmontonsun:"esun",edsonleader:"edl",elliotlakestandard:"els",faceoff:"",fairviewpost:"fvp",financialpost:"fp",foodandwineexpo:"",fortmcmurraytoday:"fmt",fortsaskatchewanrecord:"fsr",gananoquereporter:"gqr",goderichsignalstar:"gss",greybrucethisweek:"gbw",hamiltonhaltonweddings:"",hamiltonmagazine:"",hannaherald:"hnh",highrivertimes:"hrt",hintonparklander:"htp",homesanddesign:"",ingersolltimes:"igt",intelligencer:"bvi",interlakespectator:"tis",interlaketoday:"ils",intervin:"",kenoradailyminerandnews:"kdm",kincardinenews:"kcn",kingstonlife:"",kingstonthisweek:"ktw",lacombeglobe:"lmg",lakeshoreadvance:"lsa",leaderpost:"rlp",leducrep:"ldr",lfpress:"lfp",lucknowsentinel:"lus",mayerthorpefreelancer:"myf",melfortjournal:"mfj",midnorthmonitor:"emm",mitchelladvocate:"mta",moderntimes:"mts",montrealgazette:"mg",nantonnews:"nan",napaneeguide:"nap",nationalpost:"np",niagarafoodandwineexpo:"",nipawinjournal:"npj",northernnews:"kln",nugget:"nbn",ontariofarmer:"onf",ottawacitizen:"oc",ottawasun:"osun",owensoundsuntimes:"ows",parisstaronline:"prs",peacecountrysun:"pcs",pembinatoday:"pty",pinchercreekecho:"pce",portagedailygraphic:"ppg",prrecordgazette:"rcg",recorder:"bkr",redrivervalleyecho:"rre",sarniathisweek:"slw",saultstar:"ssw",saultthisweek:"ssm",seaforthhuronexpositor:"shx",selkirkjournal:"tsl",sherwoodparknews:"swp",shorelinebeacon:"slb",simcoelife:"",simcoereformer:"srf",sprucegroveexaminer:"sgx",stonewallargusteulontimes:"sat",stonyplainreporter:"syp",stratfordbeaconherald:"sbh",strathroyagedispatch:"sad",stthomastimesjournal:"stj",swervecalgary:"",thebeaumontnews:"bmn",thecragandcanyon:"bvc",thedailyobserver:"pem",thehomeshow:"",thelondoner:"tlo",theobserver:"sob",theprovince:"vp",thestarphoenix:"ssp",thesudburystar:"sus",thewhig:"kin",tillsonburgnews:"tbn",timminspress:"tdp",timminstimes:"tmt",todaysfarmer:"los",torontosun:"tsun",trentonian:"ttt",vancouversun:"vs",vermilionstandard:"vms",vinesmag:"",vulcanadvocate:"vla",wallaceburgcourierpress:"wcn",wetaskiwintimes:"wtt",whitecourtstar:"wcs",wiartonecho:"wie",windsorstar:"wsr",winklertimes:"twt",winnipegsun:"wsun",woodstocksentinelreview:"wsr",working:"wk"},ce=[{path:"legacy/celebration",shortcode:"cel"},{path:"legacy/obituaries",shortcode:"rem"},{path:"standard-freeholder",shortcode:"csf"},{path:"thechronicle-online",shortcode:"wlc"},{path:"thepost.on",shortcode:"hnp"}],ue=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},le=function(){function t(t,e){void 0===e&&(e="_kvs"),this.lookup=t,this.kvKey=e}return t.prototype.byHost=function(t,e){var n=t.replace("www.","").split(".").reverse().reduce(function(t,e){return t&&t[e]||void 0},this.lookup);if(e)try{return n[this.kvKey][e]}catch(t){return}return n},t.prototype.byShortcode=function(t){var e,n,r=t.replace("www.","").replace(/^https?:\/\//,"").split(".").shift();try{for(var o=ue(ce),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.includes(a.path))return a.shortcode}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return this.getIndexValue(se,r)},t.prototype.getIndexValue=function(t,e){return t[e]},t}(),fe=function(){return function(t,e){this.key=t,this.value=e}}(),pe=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},de=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pe(arguments[e]));return t};!function(t){t.ARTICLE="aid",t.ARTICLE_SOURCE="asrc",t.AUTHOR="author",t.CHANNEL="ck",t.COMMUNITY="comm",t.ENTITY="et",t.IMPRESSION="imp",t.LOCATION="loc",t.PAGE="page",t.PARTNER="prtn",t.OPT_OUT_POL="no_pol",t.PROPERTY="pr",t.REFERRER="r",t.REFRESH="rc",t.SENSITIVE="sensitive",t.SENSITIVE_BRAND="scb",t.SENSITIVE_TOPIC="sct",t.NEGATIVE="negative",t.NEGATIVE_BRAND="nkb",t.SHIELD="shield",t.SUBCHANNEL="sck",t.TAG="tag",t.TEST="test",t.TYPE="type"}(Ft||(Ft={}));var he,ye,ve,ge,me,be,_e=function(){function t(t){this.default={loc:"top",page:Mt.INDEX},this.pageTargets=[],this.lookup=new le(t)}return t.prototype.ad=function(t,e){var n=[];return t&&t[Ft.LOCATION]||n.push(new fe(Ft.LOCATION,e||this.default.loc)),Object.entries(t||{}).forEach(function(t){return n.push(new fe(t[0],t[1]))}),n},t.prototype.page=function(t){return this.pageTargets=[],this.firstConfig||(this.firstConfig=t),this.targetArticle(t.articleId||this.firstConfig.articleId,t.originId||this.firstConfig.originId),this.targetWriters(t.writers||this.firstConfig.writers),this.targetOptOut(t.optOutPoliticalAds||this.firstConfig.optOutPoliticalAds),this.targetPageType(t.type||this.firstConfig.type),this.targetProperty(t.property||this.firstConfig.property),this.targetRefresh(t.refreshCount||this.firstConfig.refreshCount),this.targetSensitive(t.sensitive||this.firstConfig.sensitive),this.targetNegative(t.negative||this.firstConfig.negative),this.targetArticleSource(),this.targetCommunity(),this.targetEntity(),this.targetPartner(),this.targetReferrer(),this.targetShield(),this.targetWithAncestry(t.ancestry||this.firstConfig.ancestry,t.type||this.firstConfig.type),this.pageTargets},t.prototype.resetPageTargets=function(){this.pageTargets=[],delete this.firstConfig},t.prototype.targetArticle=function(t,e){t&&this.pageTargets.push(new fe(Ft.ARTICLE,[t,e]))},t.prototype.targetArticleSource=function(){var t=document.querySelector("link[rel='canonical']")?_.c.getRelUrl("canonical"):"",e=this.lookup.byShortcode(t);""!==t&&e&&this.pageTargets.push(new fe(Ft.ARTICLE_SOURCE,e))},t.prototype.targetWriters=function(t){t&&t.main&&t.main.length&&this.pageTargets.push(new fe(Ft.AUTHOR,t.main.map(function(t){return"object"==typeof t?t.name:t})))},t.prototype.targetCommunity=function(){var t=this.lookup.byHost(location.host,Ft.COMMUNITY);t&&this.pageTargets.push(new fe(Ft.COMMUNITY,t))},t.prototype.targetEntity=function(){var t=this.lookup.byHost(location.host,Ft.ENTITY);t&&this.pageTargets.push(new fe(Ft.ENTITY,t))},t.prototype.targetPageType=function(t){t===Mt.CATEGORY?this.pageTargets.push(new fe(Ft.PAGE,Mt.INDEX)):this.pageTargets.push(new fe(Ft.PAGE,t||this.default.page))},t.prototype.targetProperty=function(t){t&&this.pageTargets.push(new fe(Ft.PROPERTY,t))},t.prototype.targetPartner=function(){var t=this.lookup.byHost(location.host,Ft.PARTNER);t&&this.pageTargets.push(new fe(Ft.PARTNER,t))},t.prototype.targetReferrer=function(){if(document.referrer){var t=document.referrer.replace(/^.*\/\/([^\/]+).*$/,"$1");this.pageTargets.push(new fe(Ft.REFERRER,t))}},t.prototype.targetRefresh=function(t){var e=void 0===t?0:t;this.pageTargets.push(new fe(Ft.REFRESH,String(e)))},t.prototype.targetSensitive=function(t){this.pageTargets.push(new fe(Ft.SENSITIVE,t?"y":"n")),t&&(t.brands&&t.brands.length&&this.pageTargets.push(new fe(Ft.SENSITIVE_BRAND,t.brands.map(function(t){return t.token.toLowerCase()}))),t.categories&&t.categories.length&&this.pageTargets.push(new fe(Ft.SENSITIVE_TOPIC,t.categories.map(function(t){return t.name.toLowerCase()}))))},t.prototype.targetNegative=function(t){if(this.pageTargets.push(new fe(Ft.NEGATIVE,t&&t.length>0?"y":"n")),t){var e=t.map(function(t){return t.brand&&t.brand.length?t.brand:""});e&&e.length&&this.pageTargets.push(new fe(Ft.NEGATIVE_BRAND,e))}},t.prototype.targetShield=function(){window.I10C&&window.I10C.Morph&&this.pageTargets.push(new fe(Ft.SHIELD,"1"))},t.prototype.targetWithAncestry=function(t,e){t&&t.length?(this.pageTargets.push(new fe(Ft.CHANNEL,t[0])),t.length>1&&this.pageTargets.push(new fe(Ft.SUBCHANNEL,t.slice(1))),e!==Mt.STORY&&this.pageTargets.push(new fe(Ft.IMPRESSION,de(t).pop()))):e===Mt.INDEX&&(this.pageTargets.push(new fe(Ft.CHANNEL,Mt.INDEX)),this.pageTargets.push(new fe(Ft.IMPRESSION,Mt.INDEX)))},t.prototype.targetOptOut=function(t){t&&this.pageTargets.push(new fe(Ft.OPT_OUT_POL,"true"))},t}(),we={advertiser:{ids:[118029421,129344461,4420631957,4445602465,4478460665,4513367905,4525362137,4528708924,4529087420,4538991029,4552172073,4559986059,4561803726,4567476945,4577987662,4582685415,4582887974,4584377759,4584711008,4585343252,4594447339,4609354044,4609356879,4609984445,4611428804,4611552924,4613163241,4613230769,4614148467,4615290658,4619578530,4621550146,4621580764,4621945085,4625629089,4633459918,4636168542,4636388061,4636912230,4636923820,4643528143,4646938443,4648366719,4651275336,4652408871,4657981817,4658771490,4660872853,4667466222,4677338118,4691792532,4695447086,4698166207,4699618287,4701834910,4704537056,4714482921,4715813734,4724060152,4728633963,4736573991,4740035682,4740986131,4741903881,4742541823,4752968130,4767150168,4771552983,4810107512]}},Ee=n(44),Se=(n(173),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ie=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},Oe=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gates={},e.verifying=!1,e}return Se(e,t),e.requiresVerification=function(t){return we.advertiser.ids.includes(t)},e.prototype.initialize=function(t){this.ageVerified=t,document.addEventListener(Ee.a.DISPLAY,this.onAdLoaded.bind(this)),!this.ageVerified&&H.b.params(e.DOM.param.verified)&&this.onAgeVerified()},e.prototype.applyMessaging=function(t){void 0===t&&(t=Object.values(this.gates).map(function(t){return t.ad})),t.filter(function(t){return t&&!(t.isOutOfPage()||t.isWallpaper())}).forEach(function(t){var n=document.createElement("div");t.el.classList.remove(e.DOM.className.gate),t.el.firstElementChild.appendChild(n),n.classList.add(e.DOM.className.msg),n.innerText=e.Message.verified,n.setAttribute("style","width:"+t.sizeRendered[0]+"px")})},e.prototype.onAdLoaded=function(t){return Ie(this,void 0,void 0,function(){var n,r,o,i=this;return Oe(this,function(a){switch(a.label){case 0:return n=t.detail,r=H.b.params(e.DOM.param.test)||e.requiresVerification(n.advertiser),n.isOutOfPage()||!r?[2]:n.isWallpaper()?this.ageVerified?[3,2]:[4,this.wallpaperReady()]:[3,3];case 1:a.sent(),_.c.nodes(document.body.querySelectorAll(pt.a.Wallpaper.selector)).forEach(function(t){i.gates[t.id]={ad:n,veil:i.veil("100%","100%",!1)},t.prepend(i.gates[t.id].veil)}),a.label=2;case 2:return[2];case 3:return this.ageVerified?[2,this.applyMessaging([n])]:(o=this.veil(n.sizeRendered[0]+"px",n.sizeRendered[1]+"px"),n.el.classList.add(e.DOM.className.gate),n.el.firstElementChild.prepend(o),this.gates[n.id]={ad:n,veil:o},[2])}})})},e.prototype.onAgeVerified=function(){this.ageVerified=!0,Object.values(this.gates).forEach(function(t){return t.veil.remove()}),this.applyMessaging(),this.dispatchEvent(H.b.event(b.a.VERIFIED))},e.prototype.onChange=function(t){var e=this;this.verifying=t.target.checked,Object.values(this.gates).forEach(function(t){var n=t.ad,r=t.veil;n.isWallpaper()||n.isOutOfPage()||(r.querySelector("input").checked=e.verifying,r.querySelector("button").disabled=!e.verifying)})},e.prototype.veil=function(t,n,r){void 0===r&&(r=!0);var o=document.createElement("div");if(o.classList.add(e.DOM.className.veil),o.setAttribute(_.c.attrs.style,"height:"+n+";width:"+t),r){var i=document.createElement("button"),a=document.createElement("input"),s=document.createElement("form"),c=document.createElement("p"),u=document.createElement("label"),l=document.createElement("p");i.innerText=e.Message.confirm,i.disabled=!this.verifying,a.addEventListener(_.b.CHANGE,this.onChange.bind(this)),a.checked=this.verifying,a.type="checkbox",s.addEventListener(_.b.SUBMIT,this.onAgeVerified.bind(this)),s.appendChild(l),s.appendChild(c),c.appendChild(u),c.appendChild(i),u.innerText=e.Message.prompt,u.prepend(a),l.innerText=e.Message.gated,o.appendChild(s)}return o},e.prototype.wallpaperReady=function(){return Ie(this,void 0,void 0,function(){return Oe(this,function(t){return[2,new Promise(function(t){if(document.body.querySelector(pt.a.Wallpaper.selector))return t();new MutationObserver(function(e,n){e.forEach(function(e){"childList"===e.type&&_.c.nodes(e.addedNodes).forEach(function(e){e.id===pt.a.Wallpaper.readyId&&(n.disconnect(),t())})})}).observe(document.body,{childList:!0,subtree:!0})})]})})},e.DOM={className:{gate:"agegate",msg:"agegate-msg",veil:"agegate-veil"},param:{test:"agegate",verified:"utm_agegate"}},e.Message={confirm:"Verify",gated:"This content is intended for audiences over the age of 19+. Please verify you are legal age of majority in your province.",prompt:"I am 19+ years of age",verified:"You are seeing this ad because you are 19+ of age."},e}(w.a),Ae=n(75);!function(t){t.ARTICLE_ID="WCM ID",t.AUTHORS="Writer Byline",t.CATEGORY="Article Category",t.ORIGINAL_ID="WP Post ID",t.TITLE="Article Name",t.SUB_SEC="Article Sub Section",t.WRITERS="Writer Byline"}(he||(he={})),function(t){t.FORMAT="Markup Language",t.PAYWALL="Metered Content Type"}(ye||(ye={})),function(t){t.TITLE="Video Article Name",t.GLOBAL_ID="Global Post/Content ID (Video)",t.CATEGORY="Video Article Category"}(ve||(ve={})),function(t){t.ARTICLE_ID="WCM ID",t.AUTHORS="Article Authors",t.ORIGINAL_ID="WP Post ID",t.GLOBAL_ID="Global Post/Content ID",t.TITLE="Article Name ",t.SUB_SEC="Article Sub-Category/Section",t.CATEGORY="Article Category",t.WRITERS="Article Authors"}(ge||(ge={})),function(t){t.AUTHORS="Author Text",t.CATEGORY="Category Name",t.TITLE="Parent Story Title",t.ARTICLE_ID="Story ID",t.CUR_PAGE="Referring URL",t.WRITERS="Author Text"}(me||(me={})),function(t){t.TITLE="Article Name"}(be||(be={}));var Pe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),De=function(){return(De=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ce=new et,Re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Pe(e,t),e.prototype.handle=function(){var t,e=[l.BTN_NAME,l.BTN_LOC,l.BTN_TEXT,l.BTN_URL,l.DOMAIN,l.TITLE],n=((t={})[l.TITLE]=be.TITLE,t),r=this.attributeFormatter.format(e,De({},this.metaProperties,this.attributeFormatter.btnClkAttrFormat(this.getProperties())),n);Ce.logEvent(et.mpEventName.Button,et.mpEventType.Navigation,r)},e}(it),Le=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=new et,Me=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Le(e,t),e.prototype.handle=function(){var t=[l.DOMAIN],e=this.attributeFormatter.format(t,this.metaProperties);Ne.logEvent(et.mpEventName.ConsentBanner,et.mpEventType.UserContent,e,{"Google.NonInteraction":!0})},e}(it),ke=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),je=function(){return(je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xe=new et,Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return ke(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.BTN_LOC,l.INTRNL_PROM_NAME],e=this.attributeFormatter.format(t,je({},this.metaProperties,this.attributeFormatter.intrnlPromoClkAttrformat(this.getProperties())));xe.logEvent(et.mpEventName.InternalPromotionClick,et.mpEventType.Navigation,e)},e}(it),Ge=function(){function t(){}return t.prototype.format=function(t,e){if(t.length<1)return{};var n={};return e.name&&(n[l.NAV_NAME]=e.name),e.loc&&(n[l.NAV_LOC]=e.loc),e.navClick&&(n[l.NAV_CLICK]=e.navClick),e&&t.forEach(function(t){Object.keys(e).indexOf(t)>-1&&(n[t]=String(e[t]))}),n},t}(),Ue=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=function(){return(Fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Be=new et,We=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.navigationFormatter=new Ge,e}return Ue(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.BRAND,l.NAV_NAME,l.NAV_LOC,l.NAV_CLICK],e=this.navigationFormatter.format(t,Fe({},this.metaProperties,this.getProperties()));Be.logEvent(et.mpEventName.NavigationClick,et.mpEventType.Navigation,e)},e}(it),Ye=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),He=function(){return(He=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},qe=new et,ze=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Ye(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.PHOTO_NAME],e=this.attributeFormatter.format(t,He({},this.metaProperties,this.attributeFormatter.photoGalleryFormat(this.getProperties())));qe.logEvent(et.mpEventName.PhotoGallery,et.mpEventType.Navigation,e)},e}(it),Ke=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=function(){return(Je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Xe=new et,$e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Ke(e,t),e.prototype.handle=function(){var t,e=[l.ARTICLE_ID,l.AUTHORS,l.CATEGORY,l.DOMAIN,l.GLOBAL_ID,l.ORIGINAL_ID,l.SCL_SHARE_CHANNEL,l.SCL_SHARE_LOC,l.SUB_SEC,l.TITLE],n=((t={})[l.ARTICLE_ID]=ge.ARTICLE_ID,t[l.ORIGINAL_ID]=ge.ORIGINAL_ID,t[l.GLOBAL_ID]=ge.GLOBAL_ID,t[l.TITLE]=ge.TITLE,t[l.SUB_SEC]=ge.SUB_SEC,t[l.CATEGORY]=ge.CATEGORY,t[l.AUTHORS]=ge.AUTHORS,t),r=this.attributeFormatter.format(e,Je({},this.metaProperties,this.attributeFormatter.formatSocialShareAttr(this.getProperties())),n);Xe.logEvent(et.mpEventName.SocialShare,et.mpEventType.Social,r)},e}(it),Qe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(){return(Ze=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},tn=new et,en=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Qe(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.SUB_BTN_ACTN,l.SUB_BTN_NEWS,l.SUB_BTN_SRC,l.SUB_BTN_TOPIC],e=this.attributeFormatter.format(t,Ze({},this.metaProperties,this.attributeFormatter.subsBtnClkAttrformat(this.getProperties())));tn.logEvent(et.mpEventName.SubscribeNewsletter,et.mpEventType.UserPreference,e)},e}(it),nn=function(){return(nn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rn=function(){function t(){}return t.prototype.format=function(t){var e={};return t&&t.storyPos&&(e[l.WDGT_STORY_POS]=String(t.storyPos)),nn({},e,this.formatStory(t.story),this.formatWdgt(t.wdgt),this.formatFeed(t.feed),this.formatVideo(t.video))},t.prototype.formatStory=function(t){var e={};return t&&(t.id&&(e[l.WDGT_CLCKD_STORY_ID]=String(t.id)),t.title&&(e[l.WDGT_CLCKD_STORY_TITLE]=String(t.title)),t.url&&(e[l.WDGT_CLCKD_STORY_URL]=String(t.url))),e},t.prototype.formatVideo=function(t){var e={};return t&&(t.id&&(e[l.WDGT_VID_ID]=String(t.id)),t.type&&(e[l.WDGT_VID_PLTFRM]=String(t.type)),t.playlistId&&(e[l.WDGT_VID_PLYLST_ID]=String(t.playlistId)),t.playlistWdgtId&&(e[l.WDGT_VID_PLYLST_WDGT_ID]=String(t.playlistWdgtId))),e},t.prototype.formatWdgt=function(t){var e={};return t&&(t.name&&(e[l.WDGT_NAME]=String(t.name)),t.pos&&(e[l.WDGT_POS]=String(t.pos)),t.type&&(e[l.WDGT_TYPE]=String(t.type)),t.feed&&(e[l.WDGT_FEED]=String(t.feed))),e},t.prototype.formatFeed=function(t){var e={};return t&&(e[l.WDGT_FEED_NAME]=t.filter(function(t){return t.name}).map(function(t){return t.name}).join(", "),e[l.WDGT_FEED_ID]=t.filter(function(t){return t.id}).map(function(t){return t.id}).join(", "),e[l.WDGT_FEED_TYPE]=t.filter(function(t){return t.type}).map(function(t){return t.type}).join(", "),e[l.WDGT_FEED_POS]=t.filter(function(t){return t.pos}).map(function(t){return t.pos}).join(", ")),e},t}(),on=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),an=function(){return(an=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},sn=new et,cn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.widgetFormatter=new rn,e}return on(e,t),e.prototype.handle=function(){var t,e=[l.DOMAIN,l.WDGT_NAME,l.CATEGORY,l.WDGT_POS,l.WDGT_FEED,l.CUR_PAGE,l.WDGT_STORY_POS,l.WDGT_FEED_TYPE,l.WDGT_FEED_ID,l.ARTICLE_ID,l.AUTHORS,l.WDGT_FEED_NAME,l.WDGT_FEED_POS,l.WDGT_TYPE,l.TITLE,l.WDGT_CLCKD_STORY_TITLE,l.WDGT_CLCKD_STORY_ID,l.WDGT_CLCKD_STORY_URL,l.WDGT_VID_PLYLST_ID,l.WDGT_VID_PLYLST_WDGT_ID,l.WDGT_VID_PLTFRM,l.WDGT_VID_ID],n=((t={})[l.CATEGORY]=me.CATEGORY,t[l.ARTICLE_ID]=me.ARTICLE_ID,t[l.AUTHORS]=me.AUTHORS,t[l.TITLE]=me.TITLE,t[l.CUR_PAGE]=me.CUR_PAGE,t),r=this.attributeFormatter.format(e,an({},this.metaProperties,this.widgetFormatter.format(this.getProperties())),n);sn.logEvent(et.mpEventName.WidgetClicked,et.mpEventType.Navigation,r)},e}(it),un=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(){return(ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},fn=new et,pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return un(e,t),e.prototype.handle=function(){var t,e=H.b.deCamelCaseKeys(this.getProperties()),n=this.metaProperties||{};fn.logDefaultEvent(ln({},e,((t={})[l.DOMAIN]=n[l.DOMAIN],t["Event Name"]=this.type,t)))},e}(it),dn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hn=new et,yn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return dn(e,t),e.commonAttrs=function(){return[l.DOMAIN,l.TITLE,l.TYPE,l.GLOBAL_ID,l.CANONICAL_PATH,l.CATEGORY,l.ARTICLE_ID,l.ORIGINAL_ID,l.VERSION,l.ALL_SUB_SEC,l.SUB_SEC,l.SUB_SEC_2,l.SUB_SEC_3,l.MAIN_CATEGORY,l.DISTRIBUTOR,l.KLNGO_ENTITY,l.KLNGO_CATEGORY,l.NLP_ENTITY,l.NLP_TOPIC,l.DIVISION,l.BRAND,l.WRITERS,l.BYLINE,l.WIRE_AUTHORS,l.IS_WIRE,l.PAYWALL,l.METERED_CONTENT_TYPE,l.META_TAG,l.PAGE_RES_TIME,l.PUB_DATE,l.PUB_TIME,l.WRD_CNT,l.SLUG,l.DEBUG,l.CUR_PAGE,l.IS_ORIGINAL,l.VENDOR,l.USER_LOGGEDIN]},e.prototype.handle=function(){var t=e.commonAttrs(),n=this.attributeFormatter.format(t,this.metaProperties||{});window.addEventListener(_.b.load,function(){var t=window.performance.getEntriesByType("navigation")[0];n[l.PAGE_RES_TIME]=String((t.domComplete/H.a.secToMs).toFixed(H.a.decPrecision)),hn.logEvent(et.mpEventName.PageData,et.mpEventType.Navigation,n,{"Google.NonInteraction":!0})})},e}(it),vn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gn=function(){return(gn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},mn=new et,bn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return vn(e,t),e.prototype.handle=function(){var t,e=[l.ARTICLE_ID,l.BYLINE,l.CANONICAL_PATH,l.CUR_PAGE,l.DEBUG,l.DISTRIBUTOR,l.DOMAIN,l.EXCERPT,l.FORMAT,l.GLOBAL_ID,l.HEADLINE,l.IS_ORIGINAL,l.IS_WIRE,l.KLNGO_CATEGORY,l.KLNGO_ENTITY,l.META_DESC,l.META_ROBOT,l.META_TAG,l.MOD_DATE,l.MOD_TIME,l.MP_ID,l.NEWS_KEYWRD,l.ORIGINAL_ID,l.PAYWALL,l.PUB_DATE,l.PUB_TIME,l.SLUG,l.TITLE,l.TYPE,l.VENDOR,l.VID_IN_PAGE,l.WRD_CNT,l.WIRE_AUTHORS,l.WIRE_ID,l.WRITERS],n=((t={})[l.ARTICLE_ID]=he.ARTICLE_ID,t[l.ORIGINAL_ID]=he.ORIGINAL_ID,t[l.TITLE]=he.TITLE,t),r=this.attributeFormatter.format(e,this.metaProperties||{},n);this.attributeFormatter.mParticleId().then(function(t){var e;mn.logEvent(et.mpEventName.ViewArticle,et.mpEventType.Navigation,gn({},r,((e={})[l.MP_ID]=String(t),e)),{"Google.NonInteraction":!0})},function(){mn.logEvent(et.mpEventName.ViewArticle,et.mpEventType.Navigation,r,{"Google.NonInteraction":!0})})},e}(it),_n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wn=new et,En=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return _n(e,t),e.prototype.handle=function(){var t=[l.CATEGORY,l.DOMAIN,l.SUB_SEC,l.SUB_SEC_2,l.SUB_SEC_3],e=this.attributeFormatter.format(t,this.metaProperties);wn.logEvent(et.mpEventName.ViewCategory,et.mpEventType.Navigation,e)},e}(it),Sn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),In=function(){return(In=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},On=new et,Tn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Sn(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.ERROR_MSG],e=this.attributeFormatter.format(t,In({},this.metaProperties,this.attributeFormatter.errorFormat(this.metaProperties)));On.logEvent(et.mpEventName.Error,et.mpEventType.Other,e)},e}(it),An=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pn=function(){return(Pn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Dn=new et,Cn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return An(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.PAGE_RES_TYPE,l.VID_IN_PAGE,l.AD_LIGHT,l.REF_DETAILS],e=this.attributeFormatter.format(t,this.metaProperties);addEventListener(P.a.MP_READY,function(t){var n,r;t.detail.mpSessionUuid?Dn.logPageView(et.mpEventName.ScreenView,Pn({},e,((n={})[l.SESSION_UUID]=String(t.detail.mpSessionUuid),n),((r={})[l.MP_ID]=String(t.detail.mpId),r)),{}):Dn.logPageView(et.mpEventName.ScreenView,e,{})})},e}(it),Rn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ln=function(){return(Ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Nn=new et,Mn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Rn(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.SRCH_KEY_WORDS,l.SRCH_RSLT_CNT],e=this.attributeFormatter.format(t,Ln({},this.metaProperties,this.attributeFormatter.searchAttrformat(this.getProperties())));Nn.logEvent(et.mpEventName.Search,et.mpEventType.Search,e)},e}(it),kn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jn=function(){return(jn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xn=new et,Vn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return kn(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.VID_ID,l.URL,l.OUTFIT,l.OUTFIT_POS],e=this.attributeFormatter.format(t,jn({},this.metaProperties,this.attributeFormatter.vidCenterAttrformat(this.getProperties())));xn.logEvent(et.mpEventName.VideoCenter,et.mpEventType.Navigation,e)},e}(it),Gn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Un=function(){return(Un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Fn=new et,Bn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.widgetFormatter=new rn,e}return Gn(e,t),e.prototype.handle=function(){var t,e=[l.DOMAIN,l.WDGT_NAME,l.CATEGORY,l.WDGT_POS,l.WDGT_FEED,l.CUR_PAGE,l.WDGT_STORY_POS,l.WDGT_FEED_TYPE,l.WDGT_FEED_ID,l.ARTICLE_ID,l.AUTHORS,l.WDGT_FEED_NAME,l.WDGT_FEED_POS,l.WDGT_TYPE,l.TITLE,l.WDGT_CLCKD_STORY_TITLE,l.WDGT_CLCKD_STORY_ID,l.WDGT_VID_ID,l.WDGT_VID_PLTFRM,l.WDGT_VID_PLYLST_ID,l.WDGT_VID_PLYLST_WDGT_ID],n=((t={})[l.CATEGORY]=me.CATEGORY,t[l.ARTICLE_ID]=me.ARTICLE_ID,t[l.AUTHORS]=me.AUTHORS,t[l.TITLE]=me.TITLE,t[l.CUR_PAGE]=me.CUR_PAGE,t),r=this.attributeFormatter.format(e,Un({},this.metaProperties,this.widgetFormatter.format(this.getProperties())),n);Fn.logEvent(et.mpEventName.WidgetVideoLoad,et.mpEventType.Navigation,r)},e}(it),Wn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yn=new et,Hn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.eventFired=!1,e}return Wn(e,t),e.prototype.handle=function(){if(!this.eventFired){var t=[l.DOMAIN,l.PAGEVIEW_INIT_PRCNT,l.PAGEVIEW_PRCNT],e=this.attributeFormatter.format(t,this.metaProperties);Yn.logEvent(et.mpEventName.PercentPageview,et.mpEventType.Other,e,{"Google.NonInteraction":!0}),this.eventFired=!0}},e}(it),qn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zn=function(){return(zn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Kn=new et,Jn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.widgetFormatter=new rn,e.eventFired=!1,e}return qn(e,t),e.prototype.handle=function(){var t;if(q.a.inView(this.element)&&!this.eventFired){var e=[l.DOMAIN,l.CATEGORY,l.ARTICLE_ID,l.AUTHORS,l.TITLE,l.WDGT_NAME,l.WDGT_POS,l.WDGT_TYPE,l.WDGT_FEED,l.WDGT_FEED_NAME,l.WDGT_FEED_ID,l.WDGT_FEED_TYPE,l.WDGT_FEED_POS,l.WDGT_VID_ID,l.WDGT_VID_PLTFRM,l.WDGT_VID_PLYLST_ID,l.WDGT_VID_PLYLST_WDGT_ID,l.CUR_PAGE,l.WDGT_STORY_POS,l.WDGT_CLCKD_STORY_TITLE,l.WDGT_CLCKD_STORY_ID],n=((t={})[l.CATEGORY]=me.CATEGORY,t[l.ARTICLE_ID]=me.ARTICLE_ID,t[l.AUTHORS]=me.AUTHORS,t[l.TITLE]=me.TITLE,t[l.CUR_PAGE]=me.CUR_PAGE,t),r=this.attributeFormatter.format(e,zn({},this.metaProperties,this.widgetFormatter.format(this.getProperties())),n);Kn.logEvent(et.mpEventName.WidgetInView,et.mpEventType.Navigation,r,{"Google.NonInteraction":!0}),this.eventFired=!0}},e}(it),Xn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=function(){return($n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qn=new et,Zn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e}return Xn(e,t),e.prototype.handle=function(){var t=[l.DOMAIN,l.CMPGN_ID],e=this.attributeFormatter.format(t,$n({},this.metaProperties,this.attributeFormatter.cmpgnAttrformat(this.getProperties()))),n="";n=this.getProperties().type&&"ext"===this.getProperties().type?et.mpEventName.ExternalCampaign:et.mpEventName.InternalCampaign,Qn.logEvent(n,et.mpEventType.Navigation,e)},e}(it),tr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),er=function(){return(er=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nr=new et,rr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.userAttrFormatter=new $,e}return tr(e,t),e.prototype.handle=function(){var t,e=[l.DOMAIN];switch(this.type){case T.pageLoadEventTypes.signin:t=et.mpEventName.Signin,e.push(l.USER_SIGNIN_MTHD);break;case T.clickEventTypes.signout:t=et.mpEventName.Signout,e.push(l.TRUE_FALSE);break;case T.pageLoadEventTypes.newReg:t=et.mpEventName.NewReg,e.push(l.TRUE_FALSE);break;case T.clickEventTypes.consent:t=et.mpEventName.ConsentBanner}var n=this.attributeFormatter.format(e,er({},this.metaProperties,this.userAttrFormatter.format(this.value||{})));this.type===T.clickEventTypes.consent||this.type===T.pageLoadEventTypes.signin?nr.logEvent(String(t),et.mpEventType.UserPreference,n,{"Google.NonInteraction":!0}):nr.logEvent(String(t),et.mpEventType.UserPreference,n)},e}(it),or=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=new(function(t){function e(){return t.call(this)||this}return or(e,t),e.prototype.setUserAttribute=function(t,e){try{if(""===e)return this.logCustomError("Empty attribute value is not acceptable","Set user attribute - "+t),!1;var n=arguments;return window.mParticle.ready(function(){window.mParticle.Identity.getCurrentUser()&&window.mParticle.Identity.getCurrentUser().setUserAttribute.apply(window.mParticle.Identity.getCurrentUser(),n)}),!0}catch(t){return!1}},e.prototype.userLogin=function(t){try{if(H.b.isEmptyObject(t))return this.logCustomError("Empty user identity object is not acceptable","User login"),!1;var e=arguments;return window.mParticle.ready(function(){window.mParticle.Identity.login.apply(this,e)}),!0}catch(t){return!1}},e.prototype.userModify=function(t){try{if(H.b.isEmptyObject(t))return this.logCustomError("Empty user identity object is not acceptable","User modify"),!1;var e=arguments;return window.mParticle.ready(function(){window.mParticle.Identity.modify.apply(this,e)}),!0}catch(t){return!1}},e}(et)),ar=function(t,e,n){(e&&(e.ageOfMajority&&ir.setUserAttribute(l.USER_CLAIMED_19_PLUS,String(e.ageOfMajority)),e.province&&ir.setUserAttribute(l.USER_PROVINCE,String(e.province)),e.postalCode&&ir.setUserAttribute(l.USER_PST_CDE,String(e.postalCode))),n)&&[l.BRAND,l.DIVISION,l.DISTRIBUTOR,l.VENDOR].forEach(function(t){n[t]&&ir.setUserAttribute(t,String(n[t]))});if(t){var r=String(t.body.mpid);r&&(e&&(e.mpId=String(r)),ir.setUserAttribute(l.USER_MPID,r))}ir.setUserAttribute(l.SERVER,location.hostname)},sr=function(){return(sr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},cr=function(){function t(){}return t.prototype.format=function(t){var e={};return t&&(t.likeRcvd&&(e[l.VIA_LIKE_RCVD]=t.likeRcvd),t.likeMade&&(e[l.VIA_LIKE_MADE]=t.likeMade),t.dislkeRcvd&&(e[l.VIA_DISLK_RCVD]=t.dislkeRcvd),t.dislkMade&&(e[l.VIA_DISLK_MADE]=t.dislkMade)),sr({},e,this.formatComment(t),this.formatSocial(t))},t.prototype.formatSocial=function(t){var e={};return t.sclLgnId&&(e[l.VIA_SCL_LGIN_ID]=t.sclLgnId),t.sclLgnPrvdr&&(e[l.VIA_SCL_LGIN_PRDR]=t.sclLgnPrvdr),t.userPrvlg&&(e[l.VIA_USR_PRVLG]=t.userPrvlg),t.rankSubCount&&(e[l.VIA_RNK_SUB_CNT]=t.rankSubCount),e},t.prototype.formatComment=function(t){var e={};return t.totalCmnts&&(e[l.VIA_TOTAL_CMNTS]=t.totalCmnts),t.dateCreated&&(e[l.VIA_DATE_CRETED]=t.dateCreated),t.totalCmntsMade&&(e[l.VIA_TOTAL_CMNTS_MADE]=t.totalCmntsMade),t.totalCmntsRcvd&&(e[l.VIA_TOTAL_CMNTS_RCVD]=t.totalCmntsRcvd),t.rankCmntsMade&&(e[l.VIA_RNK_CMNTS_MADE]=t.rankCmntsMade),t.rankCmntsRcvd&&(e[l.VIA_RNK_CMNTS_RCVD]=t.rankCmntsRcvd),t.cmntsRnkOvral&&(e[l.VIA_RNK_CMNTS_OVRAL]=t.cmntsRnkOvral),t.cmntsRating&&(e[l.VIA_CMNTS_RTNG]=t.cmntsRating),t.cmntLvl&&(e[l.VIA_CMNTS_LVL]=t.cmntLvl),t.cmntType&&(e[l.VIA_CMNTS_TYP]=t.cmntType),e},t}(),ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(){return(lr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},fr=new et,pr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.viafouraAttrFormatter=new cr,e}return ur(e,t),e.prototype.handle=function(){var t="",e=[l.TITLE,l.ARTICLE_ID,l.ORIGINAL_ID,l.DOMAIN];switch(this.type){case"comment-disliked":t=et.mpEventName.ViafouraDislike,e.push(l.VIA_DISLK_RCVD,l.VIA_DISLK_MADE);break;case"comment-liked":t=et.mpEventName.ViafouraLike,e.push(l.VIA_LIKE_MADE,l.VIA_LIKE_RCVD);break;case"user-comment":t=et.mpEventName.ViafouraComment,e.push(l.VIA_TOTAL_CMNTS,l.VIA_DATE_CRETED,l.VIA_TOTAL_CMNTS_MADE,l.VIA_TOTAL_CMNTS_RCVD,l.VIA_RNK_CMNTS_MADE,l.VIA_RNK_CMNTS_RCVD,l.VIA_RNK_CMNTS_OVRAL,l.VIA_RNK_SUB_CNT,l.VIA_CMNTS_RTNG,l.VIA_CMNTS_LVL,l.VIA_CMNTS_TYP);break;case"user-updated":t=et.mpEventName.ViafouraUserUpdate,e.push(l.VIA_SCL_LGIN_ID,l.VIA_SCL_LGIN_PRDR,l.VIA_USR_PRVLG,l.VIA_RNK_CMNTS_RCVD)}var n=this.attributeFormatter.format(e,lr({},this.metaProperties,this.viafouraAttrFormatter.format(this.value||{})));fr.logEvent(t,et.mpEventType.UserPreference,n)},e}(it),dr=function(){function t(){}return t.prototype.format=function(t){if(t){var e={};return t.id&&t.video_id?e[l.VID_ID]=t.video_id:t.id&&(e[l.VID_ID]=t.id),t.author&&(e[l.VID_AUTHOR]=t.author),t.video_quality&&(e[l.VID_QUALITY]=t.video_quality),t.title&&(e[l.VID_NAME]=t.title),t.error&&(e[l.VID_ERROR_MSG]=t.error),e[l.VID_CONT_TYPE]=t.list?"List":"Video",e}},t}(),hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=function(){return(yr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vr=new et,gr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeFormatter=new X,e.videoAttrFormatter=new dr,e}return hr(e,t),e.prototype.handle=function(){var t,e="",n=[l.DOMAIN,l.TITLE,l.GLOBAL_ID,l.CATEGORY,l.VID_ID_FRM_PLYLST,l.VID_NAME,l.VID_PLATFORM,l.VID_AUTHOR,l.VID_ID,l.VID_CENTER,l.VID_QUALITY,l.VID_PUB_DATE,l.VENDOR,l.VID_NAME_PATH,l.VID_PLAYER_NAME,l.VID_FEATURED],r=((t={})[l.TITLE]=ve.TITLE,t[l.GLOBAL_ID]=ve.GLOBAL_ID,t[l.CATEGORY]=ve.CATEGORY,t);switch(this.type){case"video-full-screen":e=et.mpEventName.VideoFullScreen;break;case"video-started":e=et.mpEventName.VideoStarted;break;case"video-paused":e=et.mpEventName.VideoPaused;break;case"video-ended":e=et.mpEventName.VideoEnded;break;case"video-player-error":e=et.mpEventName.VideoPlayerError,n.push(l.VID_ERROR_MSG)}var o=this.attributeFormatter.format(n,yr({},this.metaProperties,this.videoAttrFormatter.format(this.value)),r);vr.logEvent(e,et.mpEventType.Other,o,{"Google.NonInteraction":!0})},e}(it),mr=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},br=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_r=function(){function t(){}return t.mParticleId=function(){return mr(this,void 0,void 0,function(){return br(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){window.mParticle.ready(function(){t(window.mParticle.Identity.getCurrentUser().getMPID())})})];case 1:return[2,t.sent()]}})})},t.deviceId=function(){return mr(this,void 0,void 0,function(){return br(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){window.mParticle.ready(function(){t(window.mParticle.getDeviceId())})})];case 1:return[2,t.sent()]}})})},t.prototype.display=function(){new URL(String(document.location)).searchParams.has("fem_debug")&&(t.mParticleId().then(function(t){var e=document.createElement("div");e.className="mparticle-id",e.innerHTML="mParticle Id: "+t,document.body.appendChild(e)},function(){}),t.deviceId().then(function(t){var e=document.createElement("div");e.className="device-id",e.innerHTML="Device Id: "+t,document.body.appendChild(e)},function(){}))},t}(),wr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Er=function(){return(Er=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sr=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype.initialize=function(t,e,n,r){var o={appVersion:"1.0.0",customFlags:{},identifyRequest:{userIdentities:{customerid:e.uuid?String(e.uuid):"",email:e.email?String(e.email):""}},identityCallback:this.mParticleCallback.bind(this,e,r),isDebug:!0,isDevelopmentMode:t.isDev,isSandbox:!0,sessionTimeout:30,useCookieStorage:!0,useNativeSdk:!1};window.mParticle=window.mParticle||{config:{rq:[]}},window.mParticle.config=Er({},window.mParticle.config,o),window.mParticle.ready=function(t){return window.mParticle.config.rq.push(t)},_.c.loadScript("//jssdkcdns.mparticle.com/js/v2/"+t.account+"/mparticle.js"),this.bindEvents(n,r),this.bindVideoEvents(r),this.bindViafouraEvents(r),this.bindSubscriptionEvents(r)},e.prototype.mParticleCallback=function(t,e,n){var r=n.getUser().getUserIdentities().userIdentities;if(r.other2!==localStorage.getItem("globalmParticleCookieID")||null!==JSON.parse(localStorage.getItem("janrainCaptureProfileData"))){var o={userIdentities:{}};r.other2!==localStorage.getItem("globalmParticleCookieID")&&(o.userIdentities.other2=String(localStorage.getItem("globalmParticleCookieID"))),null!==JSON.parse(localStorage.getItem("janrainCaptureProfileData"))&&(o.userIdentities.customerid=JSON.parse(localStorage.getItem("janrainCaptureProfileData")).uuid,o.userIdentities.email=JSON.parse(localStorage.getItem("janrainCaptureProfileData")).email),window.mParticle.Identity.identify(o,function(){ar(n,t,e)})}(new _r).display(),window.mParticle.Identity.getCurrentUser().getMPID()&&dispatchEvent(new CustomEvent(P.a.PROVIDER_ID_ASSIGNED,{detail:{mpId:window.mParticle.Identity.getCurrentUser().getMPID()}})),window.mParticle&&dispatchEvent(new CustomEvent(P.a.MP_READY,{detail:{mpId:window.mParticle.Identity.getCurrentUser().getMPID(),mpSessionUuid:window.mParticle.sessionManager.getSession()}}))},e.prototype.update=function(t,e){ar(void 0,t,e)},e.prototype.getEventByType=function(t,e,n,r){if(n===_.b.click)switch(t.toLowerCase()){case T.clickEventTypes.button:return new Re(t,e,n,r);case T.clickEventTypes.consent:return new Me(t,e,n,r);case T.clickEventTypes.widget:return new cn(t,e,n,r);case T.clickEventTypes.navigation:return new We(t,e,n,r);case T.clickEventTypes.internalPromotionClick:return new Ve(t,e,n,r);case T.clickEventTypes.subscribeNewsletter:return new en(t,e,n,r);case T.clickEventTypes.socialShare:return new $e(t,e,n,r);case T.clickEventTypes.subscriptionButton:case T.clickEventTypes.signinRegModule:case T.clickEventTypes.signout:case T.clickEventTypes.accountModal:return new ut(t,e,n,r);case T.clickEventTypes.photoGallery:return new ze(t,e,n,r);default:return new pn(t,e,n,r)}else if(n===T.ACTION_PAGE_LOAD)switch(t.toLowerCase()){case T.pageLoadEventTypes.pageData:return new yn(t,e,n,r);case T.pageLoadEventTypes.viewPage:return new Cn(t,e,n,r);case T.pageLoadEventTypes.viewArticle:return new bn(t,e,n,r);case T.pageLoadEventTypes.widgetVideoLoad:return new Bn(t,e,n,r);case T.pageLoadEventTypes.viewCategory:return new En(t,e,n,r);case T.pageLoadEventTypes.search:return new Mn(t,e,n,r);case T.pageLoadEventTypes.errorMessageDisplayed:return new Tn(t,e,n,r);case T.pageLoadEventTypes.campaign:return new Zn(t,e,n,r);case T.pageLoadEventTypes.videoCenter:return new Vn(t,e,n,r);case T.pageLoadEventTypes.newReg:case T.pageLoadEventTypes.regThankScreen:case T.pageLoadEventTypes.verificationScreen:case T.pageLoadEventTypes.creditCardInfo:case T.pageLoadEventTypes.accountConfirmed:return new ut(t,e,n,r);default:return new pn(t,e,n,r)}else if(n===_.b.scroll)switch(t.toLowerCase()){case T.scrollEventTypes.percentPageview:return new Hn(t,e,n,r);case T.scrollEventTypes.widgetInview:return new Jn(t,e,n,r)}return new pn(t,e,n,r)},e.prototype.bindEvents=function(t,e){var n,r;try{for(var o=Sr(t),i=o.next();!i.done;i=o.next()){var a=i.value;a instanceof it&&a.setMetaProperties(e),T.ACTION_PAGE_LOAD===a.action?a.handle():a.action===_.b.click?a.element.addEventListener(_.b.click,a.handle.bind(a)):a.action===_.b.scroll&&document.addEventListener(_.b.scroll,a.handle.bind(a))}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.bindVideoEvents=function(t){["video-full-screen","video-started","video-paused","video-ended","video-player-error"].forEach(function(e){document.addEventListener(e,function(e){var n=new gr(e.type,e.detail,"");n.setMetaProperties(t),n.handle()},!1)})},e.prototype.bindViafouraEvents=function(t){["comment-disliked","comment-liked","user-comment","user-updated"].forEach(function(e){document.addEventListener(e,function(e){var n=new pr(e.type,e.detail,"");n.setMetaProperties(t),n.handle()},!1)})},e.prototype.bindSubscriptionEvents=function(t){["new-registration","signin","signout","consent"].forEach(function(e){document.addEventListener(e,function(e){var n=new rr(e.type,e.detail,"");n.setMetaProperties(t),n.handle()},!1)})},e}(a.a),Or=function(){function t(){}return t.prototype.init=function(t){var e;(e=e||[]).push({c1:"2",c2:t}),_.c.loadScript("//sb.scorecardresearch.com/beacon.js")},t}(),Tr=function(){function t(){}return t.prototype.init=function(t){var e="dataLayer";window[e]=window[e]||[],window[e].push({event:"gtm.js","gtm.start":(new Date).getTime()}),_.c.loadScript("//www.googletagmanager.com/gtm.js?id="+t+"&l="+e)},t}(),Ar=function(){function t(){}return t.prototype.init=function(t){if(t.gtm&&t.gtm.length>0){var e=new Tr;t.gtm.forEach(function(t){e.init(t)})}t.comScore&&(new Or).init(t.comScore)},t}(),Pr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.articleLimitAlert=!1,e}return Pr(e,t),Object.defineProperty(e.prototype,"bannerButton",{get:function(){return document.querySelector("."+e.DOM.className.button)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"banner",{get:function(){return document.querySelector("."+e.DOM.className.banner)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkConsentGiven",{get:function(){return!!(this.consentState&&this.consentState.getGDPRConsentState().ad_targeting&&this.consentState.getGDPRConsentState().personalization&&this.consentState.getCCPAConsentState())},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var t=this;addEventListener(P.a.PROVIDER_ID_ASSIGNED,function(e){e.detail.mpId&&(t.consentState=window.mParticle.Identity.getCurrentUser().getConsentState(),t.checkConsentGiven||(t.showBanner(),t.listenForConsent()))}),addEventListener("articleLimitAlertEvent",function(e){e&&e.detail&&(t.articleLimitAlert=!!e.detail.limit,t.labelBannerDisplayVariant())})},e.prototype.listenForConsent=function(){this.bannerButton&&this.bannerButton.addEventListener("click",this.handleButton.bind(this))},e.prototype.stoplisteningForConsent=function(){this.bannerButton&&this.bannerButton.removeEventListener("click",this.handleButton.bind(this))},e.prototype.handleButton=function(){this.generateConsentState(),this.hideBanner(),this.stoplisteningForConsent()},e.prototype.showBanner=function(){this.banner&&this.banner.removeAttribute("hidden")},e.prototype.hideBanner=function(){this.banner&&this.banner.setAttribute("hidden","")},e.prototype.labelBannerDisplayVariant=function(){this.articleLimitAlert?this.banner.classList.add(e.DOM.className.variant):this.banner.classList.remove(e.DOM.className.variant)},e.prototype.generateConsentState=function(){var t=Date.now(),e=window.location.href,n="FEM_banner_notification",r=window.mParticle.Consent.createConsentState(),o=window.mParticle.Identity.getCurrentUser(),i=window.mParticle.Consent.createGDPRConsent(!0,t,n,e),a=window.mParticle.Consent.createGDPRConsent(!0,t,n,e),s=window.mParticle.Consent.createCCPAConsent(!0,t,n,e);r.addGDPRConsentState("ad_targeting",i),r.addGDPRConsentState("personalization",a),r.setCCPAConsentState(s),o.setConsentState(r)},e.DOM={className:{banner:"consent__banner",button:"consent__button",variant:"consent__banner--with-article-limit"}},e}(w.a),Cr=n(101),Rr=n(52),Lr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nr=function(){return(Nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mr=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},kr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.janrainEventHandlers={onCaptureContentChange:e.onContentChange,onCaptureLoginStart:e.onCaptureLoginStart,onCaptureModalReady:e.onCaptureModalReady,onCaptureScreenShow:e.onCaptureScreenShow,onCaptureValidationComplete:e.handleFormErrors,onCaptureValidationFailed:e.handleInputError,onCaptureValidationSuccess:e.clearInputError,onModalClose:e.modalClose,onModalOpen:e.modalOpen,onProviderLoginCancel:e.handleSocialError,onProviderLoginError:e.handleSocialError},e.janrainBaseEventHandlers={onCaptureEmailVerificationSuccess:e.onEmailVerified,onCaptureLoginSuccess:e.onChange,onCaptureSessionEnded:e.onChange,onCaptureSessionFound:e.onInit,onCaptureSessionNotFound:e.onInit},e.janrainJsUrl="//widgets-cdn.rpxnow.com/manifest/capture:login",e.janrainPreConfigured=!1,e.janrainModals={emailVerificationRequired:"emailVerificationRequired",verifyEmail:"verifyEmail"},e.janrainParams={modal:"screenToRender"},e.janrainFocused=!1,e.modalActive=!1,e.refocusDelay=300,e.shortDelay=50,e.longDelay=600,e.siteName="",e.isModalReady=!1,e.settings={appUrl:"https://login.canada.com",capture:{federate:!0,federateEnableSafari:!0,flowName:"standard",keepProfileCookie:!0,keepProfileCookieAfterLogout:!0,modalCloseHtml:'<span class="visually-hidden">close</span>',noModalBorderInlineCss:!0,noStyling:!0,recaptchaVersion:2,registerFlow:"socialRegistration",responseType:"token",setProfileCookie:!0,setProfileData:!0},packages:["capture","login"],providers:["facebook","googleplus"],tokenAction:"event"},e}return Lr(e,t),Object.defineProperty(e.prototype,"closeButton",{get:function(){return document.querySelector(".janrain_modal_closebutton")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modalContentFields",{get:function(){return document.querySelectorAll('#janrainModal button, #janrainModal input:not([type="hidden"])')},enumerable:!0,configurable:!0}),e.prototype.enable=function(){var t=this;Object.keys(this.janrainBaseEventHandlers).forEach(function(e){return window.janrain.events[e].addHandler(t.janrainBaseEventHandlers[e].bind(t))}),this.janrainPreConfigured||(Object.keys(this.janrainEventHandlers).forEach(function(e){return window.janrain.events[e].addHandler(t.janrainEventHandlers[e].bind(t))}),window.janrain.capture.ui.start())},e.prototype.fetch=function(){var t={email:void 0,name:void 0,uuid:void 0};try{var e=window.janrain.capture.ui.getProfileCookieData;if(window.janrain.capture.ui.hasActiveSession()&&(t.email=e("email"),t.name=e("displayName"),t.uuid=e("uuid"),!t.email))throw new Error("Session active but no user data.")}catch(t){}return t},e.prototype.hasSession=function(){return Mr(this,void 0,void 0,function(){return kr(this,function(t){switch(t.label){case 0:return[4,this.janrainSession];case 1:return t.sent(),[2,window.janrain.capture.ui.hasActiveSession()]}})})},e.prototype.initialize=function(t){var e=this;return this.siteName=t.page&&t.page.siteName||"",this.janrainSession=new Promise(function(t){return e.janrainSessionResolve=t}),this.janrainPreConfigured=!!window.janrain,this.janrainPreConfigured?(this.registerInitHandler(),this):(window.janrain=window.janrain||{settings:{}},window.janrain=Nr({},window.janrain,{settings:Nr({},this.settings,{capture:Nr({},this.settings.capture,{accessTokenLifeHours:720,appId:t.account,captureServer:"https://"+t.application+".janraincapture.com",clientId:t.client,federate:1,federateEnableSafari:!0,federateLogoutUri:"https://"+t.application+"/?sso-logout",federateServer:"https://"+t.application+".janrainsso.com",federateXdReceiver:"https://"+t.application+"/sso-xd.html",recaptchaVersion:2,redirectUri:"https://"+t.application+"/?sso-redirect",setProfileCookie:!0,setProfileData:!0})})}),this.registerInitHandler(),this.loadJanrainUI().then(function(){return window.janrain.ready=!0}).catch(console.error),_.c.loadScript(this.janrainJsUrl),this)},e.prototype.renderScreenByUrlParams=function(){var t=this.getUrlParamVal("screenToRender");if(t&&void 0!==t){var e=t[1];window.janrain.capture.ui.renderScreen(e)}},e.prototype.getUrlParamVal=function(t){var e=t,n=window.location.href;return new RegExp("[?&]"+e+"=([^&#]*)","i").exec(n)},e.prototype.onChange=function(){this.janrainPreConfigured||H.b.params(this.janrainParams.modal)===this.janrainModals.verifyEmail||window.janrain.capture.ui.modal.close(),this.dispatchEvent(H.b.event(P.a.IDENTITY_CHANGE,this.fetch()))},e.prototype.onContentChange=function(){this.removeInlineStyles(),this.addModalA11y(),this.changeSocialLoginText();var t=document.querySelector("#janrainModal .capture_mergeAccounts_createButton");t&&(t.style.display="none"),this.modalActive&&!this.janrainFocused&&this.setModalContentFocus()},e.prototype.onCaptureScreenShow=function(t){t.screen===this.janrainModals.emailVerificationRequired&&(document.querySelector("#janrainModal label").innerHTML="Your Email Address:",document.querySelector('#janrainModal input[type="email"]').setAttribute("readonly","readonly"))},e.prototype.modalOpen=function(){var t=this;this.janrainFocused=!1,this.modalActive=!0,document.querySelector("#janrainModal > section").removeAttribute("hidden"),this.closeButton&&(this.closeButton.addEventListener("keydown",function(e){return t.handleLastTabEvent(e)}),this.closeButton.addEventListener("mouseup",this.handleCloseEvent)),this.modalContentFields.length&&this.modalContentFields[0].addEventListener("keydown",function(e){return t.handleFirstTabEvent(e)}),document.addEventListener("keydown",function(e){return t.handleEscapeEvent(e)})},e.prototype.modalClose=function(){this.janrainFocused=!1,this.modalActive=!1,this.setButtonFocus(),document.body.removeAttribute("style")},e.prototype.setModalContentFocus=function(){this.modalContentFields.length&&(this.janrainFocused=!0,this.modalContentFields[0].focus())},e.prototype.setButtonFocus=function(){setTimeout(function(){var t=document.querySelectorAll('.sso-btns button:not([tabindex^="-"])');t.length&&t[0].focus()},this.longDelay)},e.prototype.handleSocialError=function(){var t=this;setTimeout(function(){t.removeInlineStyles(),t.changeSocialLoginText()},this.shortDelay)},e.prototype.handleEscapeEvent=function(t){"Esc"!==t.key&&"Escape"!==t.key||window.janrain.capture.ui.modal.close()},e.prototype.handleCloseEvent=function(){window.janrain.capture.ui.modal.close()},e.prototype.handleLastTabEvent=function(t){"Tab"!==t.key||t.shiftKey||(t.preventDefault(),this.setModalContentFocus())},e.prototype.handleFirstTabEvent=function(t){"Tab"===t.key&&t.shiftKey&&(t.preventDefault(),this.closeButton.focus())},e.prototype.handleInputError=function(t){var e=document.getElementById(t.field.id);e&&t.message.length&&e.setCustomValidity(t.message)},e.prototype.clearInputError=function(t){var e=document.getElementById(t.field.id);e&&e.setCustomValidity("")},e.prototype.handleFormErrors=function(t){var e=this;t.fieldsWithError.length&&setTimeout(function(){e.janrainFocused=!0,t.fieldsWithError[0].focus()},this.refocusDelay)},e.prototype.removeInlineStyles=function(){_.c.nodes(document.querySelectorAll("#janrainModal [style]")).forEach(function(t){t.removeAttribute("style")})},e.prototype.addModalA11y=function(){_.c.nodes(document.querySelectorAll("#janrainModal .providers a")).forEach(function(t){_.c.removeTabIndex(t)}),_.c.nodes(document.querySelectorAll("#janrainModal .capture_tip_error")).forEach(function(t){t.setAttribute("aria-live","polite")})},e.prototype.changeSocialLoginText=function(){document.querySelector("#janrainModal .providers")&&(document.querySelector("#janrainModal .janrain-provider-text-color-facebook").innerHTML="Continue with Facebook",document.querySelector("#janrainModal .janrain-provider-text-color-googleplus").innerHTML="Continue with Google")},e.prototype.handleBtnA11y=function(){var t=document.querySelector(".sso-signedOut .signout-button button");if(t)_.c.hideTabIndex(t);else{var e=document.querySelector(".signout-button button");_.c.removeTabIndex(e)}var n=document.querySelector(".sso-signedIn .signin-button button");if(n)_.c.hideTabIndex(n);else{var r=document.querySelector(".signin-button button");_.c.removeTabIndex(r)}},e.prototype.stripInlineOverride=function(){_.c.nodes(document.querySelectorAll("#janrainModal [style]")).forEach(function(t){_.c.replaceStyleValues(t,"!important","")})},e.prototype.onEmailVerified=function(){this.dispatchEvent(H.b.event(P.a.EMAIL_VERIFIED,this.fetch()))},e.prototype.onInit=function(){return Mr(this,void 0,void 0,function(){var t,e,n,r;return kr(this,function(o){switch(o.label){case 0:return this.janrainSessionResolve(),t=this.dispatchEvent,n=(e=H.b).event,r=[P.a.SESSION_INIT],[4,this.hasSession()];case 1:return t.apply(this,[n.apply(e,r.concat([o.sent()]))]),[2]}})})},e.prototype.onCaptureLoginStart=function(){this.janrainPreConfigured||this.isModalReady||this.renderScreenByUrlParams()},e.prototype.onCaptureModalReady=function(){this.isModalReady=!0,this.dispatchEvent(H.b.event(P.a.LOGIN_MODAL_READY))},e.prototype.registerInitHandler=function(){var t=this,e=window.janrainCaptureWidgetOnLoad;window.janrainCaptureWidgetOnLoad=function(){t.enable(),e&&e()}},e.prototype.signIn=function(){window.janrain.capture.ui.renderScreen(Rr.a.SIGN_IN)},e.prototype.signOut=function(){window.janrain.capture.ui.endCaptureSession()},e.prototype.closeModal=function(){window.janrain.capture.ui.modal.close()},e.prototype.eventFunction=function(t){},e.prototype.loadJanrainUI=function(){return Mr(this,void 0,void 0,function(){var t=this;return kr(this,function(e){switch(e.label){case 0:return[4,_.c.ready];case 1:return e.sent(),n.e(2).then(n.bind(null,208)).then(function(t){t.JanrainScreens.initDOM()}).catch(function(t){}),n.e(3).then(n.bind(null,209)).then(function(e){e.JanrainButtons.initDOM(t.siteName)}).catch(function(t){}),[2]}})})},e}(w.a),xr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vr=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},Gr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},Br=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Wr=n(41),Yr=n(19);n.d(e,"initPage",function(){return Hr}),n.d(e,"getAdTargetingConfig",function(){return qr}),n.d(e,"GlobalStore",function(){return Wr.a}),n.d(e,"Store",function(){return Yr.a});var Hr=function(t){return new ft(new m(t),new(Object(ae.b)(pt.a))(new(Xt(function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortableEnabled=!1,e.sortableJsPath="//tags-cdn.deployads.com/a/",e}return $t(e,t),e.prototype.initializeBidding=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.prototype.initializeBidding.apply(this,Zt([e],n));var i=e.find(function(t){return t.client===o.SORTABLE});i&&(_.c.loadScript(""+this.sortableJsPath+i.account+".com.js"),window.deployads||(window.deployads=window.deployads||[]),this.sortableEnabled=!0)},e}(t)}(Pt(Lt(mt(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preBiddingExpressDistrictMJsURL="//hb.districtm.io/prod/100549/all.postmedia.js",e}return bt(e,t),e.prototype.initializeBidding=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.prototype.initializeBidding.apply(this,wt([e],n)),_.a.ie11||_.c.loadScript(""+this.preBiddingExpressDistrictMJsURL)},e}(ht(It)))))))),ie,new _e(le)),new Te,new Ae.a,new Dr,new T(new Ir,new qt,new Ar),new Cr.a(new(function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DOM={attrs:{class:"viafoura",jsUrl:"//cdn.viafoura.net/vf-v2.js",vfConversations:"vf-conversations",vfTrayTrigger:"vf-tray-trigger",wrapper:"data-sso-commenting"},user:""},e.firstPromoPosition="1",e.promoInterval="10",e.viafouraClickListeners={"trending-list__title":e.displayConsole,"vf-js-tray-activator":e.displayConsole},e}return Ur(e,t),e.prototype.enable=function(){var t=this;window.vf.context.get("user").then(function(e){t.DOM.user=e.name}),this.addSubscriptions(),this.addListeners()},e.prototype.addSubscriptions=function(){var e=this;window.vfQ.push(function(){window.vf.$subscribe("logout","success",function(){e.signOut()}),window.vf.$prepublish(function(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return"authentication"===n&&"required"===r?(t.prototype.signIn.call(e),!1):{channel:n,event:r,args:o}})})},e.prototype.addListeners=function(){var t=this;document.addEventListener("click",function(e){var n=e.target;for(var r in t.viafouraClickListeners)n.classList.contains(r)&&t.eventFunction(t.viafouraClickListeners[r],r)})},e.prototype.signIn=function(){t.prototype.signIn.call(this)},e.prototype.signOut=function(){t.prototype.signOut.call(this)},e.prototype.displayConsole=function(t){},e.prototype.eventFunction=function(t,e){t(e)},e.prototype.initialize=function(e,n,r,o,i){var a=this;return void 0===r&&(r=!1),void 0===o&&(o=!1),i&&(this.firstPromoPosition=i.firstPromoPosition?i.firstPromoPosition:"1",this.promoInterval=i.promoInterval?i.promoInterval:"10"),window.vfQ?this:(window.vf=window.vf||{events:{}},window.vfQ=window.vfQ||[],this.loadViafouraUI().then(function(){return Fr(a,void 0,void 0,function(){var t=this;return Br(this,function(e){switch(e.label){case 0:return[4,this.scriptLoad()];case 1:return e.sent(),this.addListeners(),window.vfQ.push(function(){t.enable()}),[2]}})})}).catch(console.error),t.prototype.initialize.call(this,e,n,r,o),this)},e.prototype.scriptLoad=function(){return Fr(this,void 0,void 0,function(){return Br(this,function(t){try{return _.c.loadScript(this.DOM.attrs.jsUrl),[2,!0]}catch(t){return[2,!1]}return[2]})})},e.prototype.loadViafouraUI=function(){return Fr(this,void 0,void 0,function(){var t,e,r,o,i;return Br(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,_.c.ready];case 1:return a.sent(),[4,this.hasSession()];case 2:return a.sent(),t=n.e(5).then(n.t.bind(null,210,7)),r=(e=_.c).addStyles,[4,t];case 3:return r.apply(e,[a.sent().default]),o=document.createElement("div"),_.c.addClass(o,this.DOM.attrs.class),(i=document.createElement(this.DOM.attrs.vfConversations)).setAttribute("first-promo-position",this.firstPromoPosition),i.setAttribute("promo-interval",this.promoInterval),o.appendChild(i),o.appendChild(document.createElement(this.DOM.attrs.vfTrayTrigger)),document.querySelectorAll("["+this.DOM.attrs.wrapper+"]").forEach(function(t){t.appendChild(o)}),[3,5];case 4:return a.sent(),[3,5];case 5:return[2]}})})},e}(t)}(function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pianoEnabled=!0,e.pianoHack={callback:"femPianoHack",provider:"janrain",storeToken:"janrainCaptureToken"},e.pianoEndpoints={access:"/access/list",conversions:"/conversion/list",register:"/conversion/registration/create",verify:"/anon/janrain/verifyAccountInfo"},e.pianoExpUrl="//experience.tinypass.com/xbuilder/experience/load?aid=",e}return xr(e,t),e.prototype.initialize=function(e,n,r,o){var i=this;return void 0===r&&(r=!1),void 0===o&&(o=!1),e||(this.pianoEnabled=!1),this.pianoPreconfigured=!!window.tp,t.prototype.initialize.call(this,n),this.pianoEnabled?(this.registrantTermId=e.registrantTermId||"",this.userToken="",this.pianoHack.account=e.account,this.pianoPushTags(r,o),this.pianoPreconfigured?(this.pianoReady=new Promise(function(t){return window.tp.push(["init",function(){return i.pianoOnInit(n,t)}])}),this):(window.tp=window.tp||[],this.pianoReady=new Promise(function(t){return window.tp.push(["init",function(){return i.pianoOnInit(n,t)}])}),window.tp.push(["setAid",e.account]),this.pianoExpUrl=this.pianoExpUrl+e.account,_.c.loadScript(this.pianoExpUrl),this)):this},e.prototype.getAccess=function(){return Vr(this,void 0,void 0,function(){var t=this;return Gr(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,n){return Vr(t,void 0,void 0,function(){var t,r;return Gr(this,function(o){switch(o.label){case 0:return[4,this.pianoCallApi(this.pianoEndpoints.verify,{janrain_capture_token:localStorage.getItem(this.pianoHack.storeToken),url:location.href}).catch(n)];case 1:return 0===(t=o.sent()).code&&t.access&&t.access.user&&t.access.user.valid?(window[this.pianoHack.callback]=function(t){return 0!==t.code?n(t):e(t)},r=H.b.query({_:Date.now(),aid:this.pianoHack.account,callback:this.pianoHack.callback,tac:t.access.access_token.value,user_provider:this.pianoHack.provider,user_token:t.access.user_token}),this.userToken=t.access.user_token,_.c.loadScript(""+window.tp.getApiEndpoint()+this.pianoEndpoints.access+"?"+r),[2]):[2,n(t)]}})})})];case 1:return[2,(e.sent().data||[]).map(function(t){var e={id:t.resource.rid,start:t.start_date*H.a.secToMs};return t.expire_date&&(e.end=t.expire_date*H.a.secToMs),e})]}})})},e.prototype.registerInitHandler=function(){this.pianoEnabled||t.prototype.registerInitHandler.call(this)},e.prototype.getConversions=function(){return Vr(this,void 0,void 0,function(){var t;return Gr(this,function(e){switch(e.label){case 0:return t={user_token:this.userToken},[4,this.pianoCallApi(this.pianoEndpoints.conversions,t)];case 1:return[2,e.sent().conversions.map(function(t){return t.term.term_id})]}})})},e.prototype.registerForOneDigital=function(){return Vr(this,void 0,void 0,function(){var t;return Gr(this,function(e){switch(e.label){case 0:return t={term_id:this.registrantTermId,user_token:this.userToken},[4,this.pianoCallApi(this.pianoEndpoints.register,t)];case 1:return e.sent(),window.tp.user.refreshAccessToken(!0),[2]}})})},e.prototype.pianoPushTags=function(t,e){return Vr(this,void 0,void 0,function(){var n;return Gr(this,function(r){switch(r.label){case 0:return n=[],t&&n.push("premium_locked"),e?n.push("not_metered"):n.push("metered"),[4,this.pianoReady];case 1:return r.sent(),[2,new Promise(function(t,e){try{window.tp.push(["setTags",n]),t()}catch(t){e(t)}})]}})})},e.prototype.pianoCallApi=function(t,e){return Vr(this,void 0,void 0,function(){return Gr(this,function(n){switch(n.label){case 0:return[4,this.pianoReady];case 1:return n.sent(),[2,new Promise(function(n,r){try{window.tp.api.callApi(t,e,function(t){t.code>0?r(new Error("Piano API failure: "+JSON.stringify(t))):n(t)})}catch(t){r(t)}})]}})})},e.prototype.pianoOnInit=function(e,n){var r=this;if(e&&!this.pianoPreconfigured&&window.tp.janrain.init({appId:e.account,appName:e.application,clientId:e.client,loginRequiredScreen:Rr.a.SIGN_IN}),window.janrain.events)t.prototype.enable.call(this);else{var o=window.janrainCaptureWidgetOnLoad;window.janrainCaptureWidgetOnLoad=function(){t.prototype.enable.call(r),o&&o()}}n()},e}(t)}(jr)))))},qr=function(t){var e=new m(t);return new pt.a(new(Xt(Pt(Lt(mt(ht(It))))))(!1),ie,new _e(le)).getTargeting({ancestry:e.page.ancestry,articleId:e.page.articleId,bidding:e.ads.bidding,negative:e.page.klangoo?e.page.klangoo.negativeKeywords:void 0,network:e.ads.network,originId:e.page.originId,page:e.page.type,pageConfig:e.page,property:e.ads.property,provider:e.ads.provider,refresh:e.ads.refresh,sensitive:e.page.klangoo?e.page.klangoo.sensitiveContent:void 0,siteId:e.ads.site,tagManagers:e.ads.tags,verifier:e.ads.verifier,writers:e.page.writers})}}])});
//# sourceMappingURL=fem.js.map