var districtmMethod=1;var districtmVersion='4.8';var districtmRatio=0.9;var districtmHeaderTimeOut=0;var districtmRetryTimeOut=0;var districtmMaxTimeToTry=0;var districtmSsp=[];var districtmCurrency="cad";var districtmAlone=1;var districtmCurrencyRate=1;var districtmAllowedSizes=["300x250","728x90","160x600","300x600","320x50","970x90","970x250"];var districtmAppnexusMemberId=1908;var districtmEasyMap=[];var districtmExtSSP={};var districtmTieBreaker=2;districtmEasyMap.push({zoneId:450,id:"1",dmtagid:"1"});districtmEasyMap.push({zoneId:451,id:"1",dmtagid:"1"});districtmEasyMap.push({zoneId:452,id:"1",dmtagid:"1"});districtmEasyMap.push({zoneId:453,id:"1",dmtagid:"1"});var districtmMethod=1;var districtmMemberId=100549;var districtmCurrencyObject=[{"aud":1.4997,"cad":1.3769,"eur":0.900495,"gbp":0.810143,"mxn":22.1705}];if(districtmCurrency=="cad"){if(typeof districtmCurrencyObject[0].cad!='undefined'){districtmCurrencyRate=districtmCurrencyObject[0].cad;}}
else if(districtmCurrency=="eur"){if(typeof districtmCurrencyObject[0].eur!='undefined'){districtmCurrencyRate=districtmCurrencyObject[0].eur;}}var districtmMapleMega=[{"domain":"airdrieecho.com","id":19335795},{"domain":"bizmagazine.ca","id":19335796},{"domain":"brantfordexpositor.ca","id":19335797},{"domain":"businesslondon.ca","id":19335798},{"domain":"calgaryherald.com","id":11016971},{"domain":"calgaryherald.com","id":19335799},{"domain":"camrosecanadian.com","id":19335800},{"domain":"canada.com","id":19335801},{"domain":"canoe.com","id":19335802},{"domain":"carmanvalleyleader.com","id":19335803},{"domain":"chathamdailynews.ca","id":19335804},{"domain":"chathamthisweek.com","id":19335805},{"domain":"clintonnewsrecord.com","id":19335806},{"domain":"cochranetimespost.ca","id":19335807},{"domain":"coldlakesun.com","id":19335808},{"domain":"communitypress.ca","id":19335809},{"domain":"countymarket.ca","id":19335810},{"domain":"countyweeklynews.ca","id":19335811},{"domain":"dailyheraldtribune.com","id":19335812},{"domain":"delhinewsrecord.com","id":19335813},{"domain":"devondispatch.ca","id":19335814},{"domain":"draytonvalleywesternreview.com","id":19335815},{"domain":"driving.ca","id":19335816},{"domain":"edmontonexaminer.com","id":19335818},{"domain":"edmontonjournal.com","id":19335820},{"domain":"edmontonsun.com","id":19335821},{"domain":"edsonleader.com","id":19335822},{"domain":"elliotlakestandard.ca","id":19335823},{"domain":"fairviewpost.com","id":19335824},{"domain":"financialpost.com","id":19335826},{"domain":"foodandwineexpo.ca","id":19335828},{"domain":"fortmcmurraytoday.com","id":19335829},{"domain":"fortsaskatchewanrecord.com","id":19335830},{"domain":"gananoquereporter.com","id":19335831},{"domain":"goderichsignalstar.com","id":19335832},{"domain":"greybrucethisweek.ca","id":19335833},{"domain":"hamiltonhaltonweddings.com","id":19335834},{"domain":"hamiltonmagazine.com","id":19335835},{"domain":"hannaherald.com","id":19335836},{"domain":"highrivertimes.com","id":19335837},{"domain":"hintonparklander.com","id":19335838},{"domain":"homesanddesign.ca","id":19335839},{"domain":"ingersolltimes.com","id":19335840},{"domain":"intelligencer.ca","id":19335841},{"domain":"interlakespectator.com","id":19335842},{"domain":"interlaketoday.ca","id":19335843},{"domain":"intervin.ca","id":19335844},{"domain":"kapuskasingtimes.com","id":19335845},{"domain":"kenoradailyminerandnews.com","id":19335846},{"domain":"kincardinenews.com","id":19335847},{"domain":"kingstonlife.ca","id":19335848},{"domain":"kingstonthisweek.com","id":19335849},{"domain":"lacombeglobe.com","id":19335850},{"domain":"lakeshoreadvance.com","id":19335851},{"domain":"leaderpost.com","id":19335852},{"domain":"leducrep.com","id":19335853},{"domain":"legacy.com","id":19335854},{"domain":"lfpress.com","id":19335855},{"domain":"lucknowsentinel.com","id":19335856},{"domain":"mayerthorpefreelancer.com","id":19335857},{"domain":"melfortjournal.com","id":19335858},{"domain":"midnorthmonitor.com","id":19335859},{"domain":"mitchelladvocate.com","id":19335860},{"domain":"moderntimes.com","id":19335861},{"domain":"montrealgazette.com","id":11016771},{"domain":"nantonnews.com","id":19335862},{"domain":"napaneeguide.com","id":19335863},{"domain":"nationalpost.com","id":19335864},{"domain":"niagarafoodandwineexpo.ca","id":19335865},{"domain":"nipawinjournal.com","id":19335866},{"domain":"northernnews.ca","id":19335867},{"domain":"norwichgazette.com","id":19335868},{"domain":"nugget.ca","id":19335869},{"domain":"ontariofarmer.com","id":19335871},{"domain":"ottawacitizen.com","id":19335872},{"domain":"ottawasun.com","id":19335873},{"domain":"owensoundsuntimes.com","id":19335874},{"domain":"parisstaronline.com","id":19335875},{"domain":"peacecountrysun.com","id":19335876},{"domain":"pembinatoday.ca","id":19335877},{"domain":"petroliatopic.com","id":19335878},{"domain":"pinchercreekecho.com","id":19335879},{"domain":"portagedailygraphic.com","id":19335880},{"domain":"prrecordgazette.com","id":19335881},{"domain":"recorder.ca","id":19335882},{"domain":"redrivervalleyecho.com","id":19335883},{"domain":"sarniathisweek.com","id":19335884},{"domain":"saultstar.com","id":19335885},{"domain":"saultthisweek.com","id":19335886},{"domain":"seaforthhuronexpositor.com","id":19335887},{"domain":"selkirkjournal.com","id":19335888},{"domain":"sherwoodparknews.com","id":19335889},{"domain":"shorelinebeacon.com","id":19335890},{"domain":"simcoelife.ca","id":19335891},{"domain":"simcoereformer.ca","id":19335892},{"domain":"sprucegroveexaminer.com","id":19335893},{"domain":"standard-freeholder.com","id":19335894},{"domain":"stonewallargusteulontimes.com","id":19335895},{"domain":"stonyplainreporter.com","id":19335896},{"domain":"stratfordbeaconherald.com","id":19335897},{"domain":"strathmorestandard.com","id":19335898},{"domain":"strathroyagedispatch.com","id":19335899},{"domain":"stthomastimesjournal.com","id":19335900},{"domain":"swervecalgary.com","id":19335901},{"domain":"thebeaumontnews.ca","id":19335902},{"domain":"thechronicle-online.com","id":19335903},{"domain":"thecragandcanyon.ca","id":19335904},{"domain":"thedailyobserver.ca","id":19335905},{"domain":"thehomeshow.ca","id":19335906},{"domain":"thelondoner.ca","id":19335907},{"domain":"theobserver.ca","id":19335908},{"domain":"thepost.on.ca","id":19335909},{"domain":"theprovince.com","id":19335910},{"domain":"thestarphoenix.com","id":11016871},{"domain":"thesudburystar.com","id":19335911},{"domain":"thewhig.com","id":19335912},{"domain":"tillsonburgnews.com","id":19335913},{"domain":"timminspress.com","id":19335914},{"domain":"timminstimes.com","id":19335915},{"domain":"todaysfarmer.ca","id":19335916},{"domain":"torontosun.com","id":19335917},{"domain":"trentonian.ca","id":19335918},{"domain":"vancouversun.com","id":19336274},{"domain":"vermilionstandard.com","id":19335919},{"domain":"vinesmag.com","id":19335920},{"domain":"vulcanadvocate.com","id":19335921},{"domain":"wallaceburgcourierpress.com","id":19335927},{"domain":"wetaskiwintimes.com","id":19335933},{"domain":"whitecourtstar.com","id":19335938},{"domain":"wiartonecho.com","id":19335942},{"domain":"windsorstar.com","id":19010514},{"domain":"winklertimes.com","id":19335951},{"domain":"winnipegsun.com","id":19335957},{"domain":"woodstocksentinelreview.com","id":19335965},{"domain":"working.com","id":19335972},{"domain":"yourlifemoments.ca","id":19335979},{"domain":"laineygossip.com","id":19335979}];var dmDomain=districtmMapleMega.filter(function(ddo){if(window.location.host.indexOf(ddo.domain)!==-1){return true;}return false;});if(dmDomain.length>0){districtmExtSSP['appnexus']={defaults:[],specific:[]};districtmExtSSP['appnexus'].defaults.push({"placement":dmDomain[0]&&dmDomain[0].id,"key":"0"})};!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return s(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function d(e,t){return u(e)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(d){r=!0,a=d}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw a}}return i}}function u(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f=n(i(1)),g=n(i(12)),p=(n(i(4)),i(13),n(i(5))),m=i(6),h=(i(9),{});window.districtmStart=0,window.districtmStop=30,window.districtmManualMap=[],h.each=function(e,t,i){for(var n in e)t(e[n],i)},h._rendered=[],h.nFound=function(){},h.ajaxObj=function(e,t){var i=new XMLHttpRequest;i.withCredentials=!0,i.open(e.method,e.url),i.onreadystatechange=function(){if(200===i.status&&4===i.readyState){e.bidderRequest;t(JSON.parse(i.responseText))}},i.send(e.data)},h.createJavascript=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var i=document.getElementsByTagName("head");i=i.length?i:document.getElementsByTagName("body"),i.length&&(i=i[0],i.insertBefore(t,i.firstChild))},h.logger=function(e){try{if(localStorage.dmConsole){var t=console,i=t.log;i("Districtm wrapper:",e)}}catch(n){}},h.observer={events:{},old:[{}],kill:[],on:function(e,t,i){this.events[e]=this.events[e]||[],this.events[e].push(i)},emit:function(e){if(this.events[e])for(var t=0;t<this.events[e].length;t++)this.events[e][t](e)},run:function(){var e=this;e.kill=setInterval(function(){for(var t in e.events)for(var i=0;i<e.events[t].length;i++)e.emit(t)},1),setTimeout(function(){clearInterval(e.kill)},1e4)}},h.defineOutOfPage=function(e){if(this.isInArray("touch",window.districtmSsp)){var t=d(e,2),i=t[0],n=t[1],r=["1x1"],a={placement:i,div:n,sizes:r,ggle:n};g["default"].execute(a)}},h.defineSlot=function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a,o=i[0],s=i[1],d=i[2];if(Array.isArray(window.districtmFilters)){var l=window.districtmFilters.filter(function(e){return o.indexOf(e)!==-1});if(l.length>0)return null}try{if(districtmStart<=districtmStop&&(Array.isArray(s[0])?(a=s.filter(function(t){return e.sizes.indexOf("".concat(t[0],"x").concat(t[1]))!==-1}),h.logger("7, ".concat(JSON.stringify(a))),a=a.map(function(e){return"".concat(e[0],"x").concat(e[1])}),h.logger("8, ".concat(JSON.stringify(a)))):a=this.sizes.filter(function(e){return e==="".concat(s[0],"x").concat(s[1])}),a.length>0)){h.logger("9, ".concat(JSON.stringify(a))),window.districtmManualMap.push({ggle:d,sizes:a,gglePlacement:o});var c;c=window.districtmManualMap.map(function(e){return{id:districtmEasyMap[districtmStart].id,zone:districtmEasyMap[districtmStart].zoneId,ggle:e.ggle,sizes:e.sizes,dmtagid:districtmEasyMap[districtmStart].dmtagid,gglePlacement:e.gglePlacement,auctionid:h.generateId(30),source:"dmw"}});try{var u=r(c),f=localStorage.getItem("dm_storing")||"[]";f=JSON.parse(f),f.push(u),localStorage.setItem("dm_storing",JSON.stringify(f))}catch(g){}delete window.districtmManualMap,window.districtmManualMap=new Array,m.fetchBids(c),districtmStart++,(12===districtmMethod||8===districtmMethod||4===districtmMethod||3===districtmMethod||1===districtmMethod||2===districtmMethod)&&6===districtmStart&&districtmStart<districtmStop&&(districtmStart=1)}}catch(g){this.logger("WARN ".concat(g.message," | some id might not be declare correctly in DFP | or object overload"))}},h.sizes=["970x250","970x90","728x90","300x250","160x600","300x600","320x50"],h.timer=function(){return(new Date).getTime()},h.generateNum=function(e){for(var t="",i="123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},h.generateId=function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},h.idSync=function(){var e="//cdn.districtm.ca/sync.html",t=document.createElement("iframe");t.style.width="0px",t.style.height="0px",t.style.display="none",t.setAttribute("src",e);try{window.addEventListener("load",function(){document.getElementsByTagName("body")[0].appendChild(t)})}catch(i){window.attachEvent("onload",function(){document.getElementsByTagName("body")[0].appendChild(t)})}},h.loadPromise=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},h.loadScript=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,t&&"function"==typeof t&&(i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()}),i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},h.isInArray=function(e,t){return t.indexOf(e)>-1},h.getURLParameter=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},h.debugMode=function(){return null},h.removeLastComma=function(e){var t=e.lastIndexOf(","),i=e.substring(0,t);return i},h.getTopWindowUrl=function(){try{return window.top.location.href}catch(e){return window.location.href}},h.addEventListener=function(e,t,i,n){this.collection.push(arguments),this.register[e]?this.register[e].amount<t&&(this.register[e].amount=t,this.register[e].ssp=i,this.register[e].size=n,this.setTargeting(e,t,i,n,arguments[4]||null)):(this.register[e]={},this.register[e].amount=t,this.register[e].ssp=i,this.register[e].size=n,this.setTargeting(e,t,i,n,arguments[4]||null))},h.setTargeting=function(e){try{var t=googletag.pubads().getSlots(),i=[];for(var n in f["default"].col)i.push(f["default"].col[n]);for(var r=0;r<t.length;r++)if(t[r].getSlotElementId()===e.ggle){var a=console,o=a.log;o(345,e),this.logger(e),this.logger("cpm value is "+t[r].getTargeting("dm_cpm")+" ggle slot:"+e.ggle),parseFloat(t[r].getTargeting("dm_cpm")[0])<parseFloat(e.winBid)&&(this.logger("switch value targeting"),t[r].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size).setTargeting("dmw_ssp",e.ssp),e.deal_id&&t[r].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size).setTargeting("dmw_ssp",e.ssp).setTargeting("dm_dealid",e.deal_id),this.logger("fetching bids "+e.winBid+" "+e.ssp+" in "+e.load+"ms slot name:"+e.ggle)),0===t[r].getTargeting("dm_cpm").length&&(this.logger("inside targeting bigger"),t[r].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size).setTargeting("dmw_ssp",e.ssp),e.deal_id&&t[r].setTargeting("dm_cpm",e.winBid).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size).setTargeting("dmw_ssp",e.ssp).setTargeting("dm_dealid",e.deal_id),this.logger("fetching bids "+e.winBid+" "+e.ssp+" in "+e.load+"ms slot name:"+e.ggle)),i.forEach(function(e){e.deal_id&&t[r].setTargeting("dm_dealid",e.deal_id).setTargeting("dm_adslot",e.auctionId).setTargeting("dm_size",e.size)})}}catch(s){var d=this;setTimeout(function(){d.setTargeting(e)},10)}},h.collection=[],h.register={},h.move=function(e,t,i){for(;t<0;)t+=e.length;for(;i<0;)i+=e.length;if(i>=e.length)for(var n=i-e.length;n--+1;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e},h.makeShift=function(){for(var e=0;e<window.googletag.cmd.length;e++)window.googletag.cmd[e].toString().indexOf("districtmHeader")!==-1&&0!==e&&(this.logger("Shift CMD"),window.googletag.cmd=this.move(window.googletag.cmd,e,0))},h.startShift=function(){var e=this,t=setInterval(function(){try{e.makeShift()}catch(i){throw clearInterval(t),i.message}},1);setTimeout(function(){clearInterval(t)},1500)},h.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.style.display="none",e},h.getDomain=function(){return document.domain},h.loadTime=function(e){f["default"].update(e.auctionId,{load:e.end-e.start})},h.theShowMostGoOn=function(e,t,i){var n=console,r=n.log;if(f["default"].selectById(e)){f["default"].selectById(e).rendered=!0,h._rendered.push(f["default"].selectById(e));var a=Object.create(f["default"].selectById(e));p["default"].sendToGoogle(a,window.districtmGA);var o=this.districtmImpression(f["default"].selectById(e),i);o=function(e){return""!==a.trackingUrl&&"undefined"!=typeof a.trackingUrl&&(e+='<img src="'.concat(a.trackingUrl,'" style="display:none;">')),e}(o);try{t.defaultView&&t.defaultView.frameElement&&!a.deal_id&&(t.defaultView.frameElement.width=a.size.split("x")[0],t.defaultView.frameElement.height=a.size.split("x")[1],r("from frame",a))}catch(s){}r("paste banner in google frame");var d=document.createElement("iframe");d.src=a.adUrl,d.width=a.size.split("x")[0],d.height=a.size.split("x")[1],r("what size is the iframe",d),d.border="0px",d.hspace="0",d.vspace="0",d.setAttribute("marginWidth","0"),d.setAttribute("marginHeight","0"),d.style.border="0",d.setAttribute("scrolling","no"),d.setAttribute("frameBorder","0"),a.html?t.write("".concat(a.html).concat(o)):(r("append  into iframe",d,a),t.body.appendChild(d))}},h.timeLaps=function(e,t){this.listen(t);var i=this;this.timeout=setTimeout(function(){i.process(),i.logger("end by normal process !!")},e)},h.timeEnd=function(){clearTimeout(this.timeout),this.process()},h.process=function(){googletag.pubads().refresh()},h.listen=function(e){},h.dmca_b64={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),toUtf8:function(e){var t,i=-1,n=e.length,r=[];if(/^[\x00-\x7f]*$/.test(e))for(;++i<n;)r.push(e.charCodeAt(i));else for(;++i<n;)t=e.charCodeAt(i),t<128?r.push(t):t<2048?r.push(t>>6|192,63&t|128):r.push(t>>12|224,t>>6&63|128,63&t|128);return r},encode:function(e){var t,i,n,r=this.toUtf8(e),a=-1,o=r.length,s=[,,,];if(this.ie){for(var d=[];++a<o;)t=r[a],i=r[++a],s[0]=t>>2,s[1]=(3&t)<<4|i>>4,isNaN(i)?s[2]=s[3]=64:(n=r[++a],s[2]=(15&i)<<2|n>>6,s[3]=isNaN(n)?64:63&n),d.push(this.alphabet.charAt(s[0]),this.alphabet.charAt(s[1]),this.alphabet.charAt(s[2]),this.alphabet.charAt(s[3]));return d.join("")}for(var d="";++a<o;)t=r[a],i=r[++a],s[0]=t>>2,s[1]=(3&t)<<4|i>>4,isNaN(i)?s[2]=s[3]=64:(n=r[++a],s[2]=(15&i)<<2|n>>6,s[3]=isNaN(n)?64:63&n),d+=this.alphabet[s[0]]+this.alphabet[s[1]]+this.alphabet[s[2]]+this.alphabet[s[3]];return d}},h.districtmImpression=function(e,t){var i=new Object;i.id=e.auctionid,i.domain=t,i.ssp=e.ssp,i.winBid=e.winBid/districtmRatio/districtmCurrencyRate,i.tieBreaker=districtmTieBreaker||0,i.adSize=e.size,i.zone=e.zone,i.slotName=e.callBackId,i.ext=e.ext||!1;try{localStorage.dmio_dmuid&&(i.dmuid=localStorage.dmio_dmuid)}catch(n){}var r=(new Image,{auctionId:e.auctionId,domain:i.domain,ssp:e.ssp,winBid:parseFloat(i.winBid).toFixed(2),adsize:i.adSize,zone:parseInt(i.zone),tiebreaker:i.tieBreaker}),a="",o=Object.assign({dmtagid:e.dmtagid,winbid:r.winBid,source:e.source,auctionid:e.auctionId},r);return delete o.winBid,delete o.auctionId,delete o.zone,delete o.tiebreaker,a+='<img src="//dmx.districtm.ca/i/'.concat(this.dmca_b64.encode(JSON.stringify(o)),'" style="display:none;" />')},h.end=0,h.count=[],h.total=0,h.calculate=function(e){for(var t=e.pubads().getSlots(),i=0;i<t.length;i++)for(var n=t[i].getSizes(),r=0;r<n.length;r++)if(window.districtmAllowedSizes.indexOf(n[r].l+"x"+n[r].j)!==-1){this.end++;break}this.total=window.districtmSsp.length*this.end},h.grCount=function(e){this.count.push(e);var t=this;this.count.length===this.total&&2===this.method&&setTimeout(function(){t.timeEnd(),t.logger("End by ads")},1)},h.removeTargeting=function(e){},h.method=1,h.registerMethod=function(e){this.method=e},h.checkEach=function(e,t,i){if(Array.isArray(t))for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)i(e[n],t[r]);else for(var n=0;n<e.length;n++)i(e[n],t)},h.isMobile=function(){return/Mobi/.test(navigator.userAgent)},h.isTv=function(){return/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)},h.clone=function(e,t){var i;if(Array.isArray(t)){var n=d(t,1);i=n[0]}else i=t;this.logger(190,i);for(var r in i)e[r]=i[r];return e},h.getTargeting=function(e){return{welcome:"steve"}},h.lazy=function(e,t){var i;try{i=googletag.defineSlot(e[0],e[1],e[2]).addService(googletag.pubads())}catch(n){googletag.cmd.push(function(){i=googletag.defineSlot(e[0],e[1],e[2]).addService(googletag.pubads())})}this.defineSlot("",e[1],e[2]),setTimeout(function(){googletag.display(e[2]),t(i)},300)},h.refreshBanner=function(){districtmStart=0;var e=googletag.pubads().getSlots(),t=[];if(0===arguments.length){for(var i=0;i<e.length;i++){for(var n=e[i].getSizes(),r=[],a=0;a<n.length;a++)r.push([n[a].l,n[a].j]);h.logger("just about to define slot"),this.defineSlot(e[i].G,r,e[i].getSlotElementId())}setTimeout(function(){googletag.pubads().refresh()},300)}else if(arguments.length>1){for(var o=arguments[0],i=0;i<o.length;i++)for(var s=0;s<e.length;s++)if(e[s].getSlotElementId()===o[i]){for(var n=e[s].getSizes(),r=[],a=0;a<n.length;a++)r.push([n[a].l,n[a].j]);this.defineSlot("",r,e[s].getSlotElementId()),t.push(e[s])}var d=arguments[1];setTimeout(function(){d(t)},300)}},h.interval=function(e,t,i){function n(e){e.setTargeting("dm_refresh",window.dm_Interval)}window.dm_Interval=window.dm_Interval||0;var r=googletag.pubads().getSlots();if(districtmStart=1,e||t||i){if(e&&t&&!i){var a=this;setTimeout(function(){var e=googletag.pubads().getSlots();districtmStart=1;for(var t=0;t<e.length;t++){for(var i=e[t].getSizes(),r=[],a=0;a<i.length;a++)r.push([i[a].l,i[a].j]);e[t].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh"),n(e[t]),districtmHeader.utils.defineSlot(e[t].G,r,e[t].getSlotId().o)}},t),setTimeout(function(){googletag.pubads().refresh(),a.interval(e,t)},t+400)}else if(e&&t&&i){var a=this;setTimeout(function(){for(var e=googletag.pubads().getSlots(),t=0;t<e.length;t++){n(e[t]),e[t].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh");for(var r=0;r<i.length;r++){for(var a=e[t].getSizes(),o=[],s=0;s<a.length;s++)o.push([a[s].l,a[s].j]);i[r]===e[t].getSlotId().o&&districtmHeader.utils.defineSlot(e[t].G,o,e[t].getSlotId().o)}}},t),setTimeout(function(){a.interval(e,t,i);for(var n=googletag.pubads().getSlots(),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)i[o]===n[r].getSlotId().o&&googletag.pubads().refresh([n[r]])},t+400)}else if(!e&&!t&&i)for(var r=googletag.pubads().getSlots(),o=0;o<r.length;o++){n(r[o]),r[o].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh");for(var s=0;s<i.length;s++){for(var d=r[o].getSizes(),l=[],c=0;c<d.length;c++)l.push([d[c].l,d[c].j]);i[s]===r[o].getSlotId().o&&districtmHeader.utils.defineSlot(r[o].G,l,r[o].getSlotId().o)}}}else for(var o=0;o<r.length;o++){for(var d=r[o].getSizes(),l=[],c=0;c<d.length;c++)l.push([d[c].l,d[c].j]);r[o].clearTargeting("dm_cpm","dm_adslot","dm_size","dm_ssp","dm_refresh"),n(r[o]),districtmHeader.utils.defineSlot(r[o].G,l,r[o].getSlotId().o)}window.dm_Interval+=1},h.ajaxPost=function(e,t,i){if(window.XMLHttpRequest)var n=new XMLHttpRequest;else if(window.ActiveXObject("Microsoft.XMLHTTP"))var n=new ActiveXObject("Microsoft.XMLHTTP");n.withCredentials=!0,n.onreadystatechange=function(){if(200===n.status)try{i(JSON.parse(n.responseText))}catch(e){}},n.open("POST",e,!0),n.send(JSON.stringify(t))},h.promiseAjax=function(e,t,i){return new Promise(function(n,r){if(window.XMLHttpRequest)var a=new XMLHttpRequest;else if(window.ActiveXObject("Microsoft.XMLHTTP"))var a=new ActiveXObject("Microsoft.XMLHTTP");a.withCredentials=!0,a.onreadystatechange=function(){if(200===a.status)try{n(JSON.parse(a.responseText))}catch(e){}},a.open(t,e,!0),a.send(i)})},h.get=function(e,t){return new Promise(function(i,n){if(window.XMLHttpRequest)var r=new XMLHttpRequest;else if(window.ActiveXObject("Microsoft.XMLHTTP"))var r=new ActiveXObject("Microsoft.XMLHTTP");r.withCredentials=!0,r.onreadystatechange=function(){if(200===r.status)try{i(JSON.parse(r.responseText),n)}catch(e){n(e)}},r.open(e,t,!0),r.send()})},h.ajax=function(e,t,i){var n,r=!0;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.withCredentials=!0,n.onreadystatechange=function(){if(200===n.status)try{r&&(i(JSON.parse(n.responseText),t),r=!1)}catch(e){h.logger(e.message)}},n.open("GET",e,!0),n.send(null)};var y=h;t["default"]=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(i(0)),a={col:{},win:{},history:[],register:function(e,t){r["default"].logger(e," it's getting register"),this.col[e]?r["default"].logger(e," already register"):this.col[e]=t},update:function(e,t){if(this.col[e])for(var i in t)this.col[e][i]=t[i];else r["default"].logger(e," can't be updated")},select:function(e){return r["default"].logger(e),this.col[e.auctionId]},selectById:function(e){return this.col[e]},findByGle:function(e){for(var t in this.col)this.col[t].ggle===e&&parseFloat(this.col[t].winBid)>0&&r["default"].setTargeting(this.col[t])},storeHistory:function(){this.history.push(Object.create(this.col)),this.col={}},findWhatEver:function(e,t){for(var i in this.col)if(this.col[i][e]===t)return this.col[i]},selectField:function(e,t){return this.col[e][t]||"error"},selectWin:function(){var e={};for(var t in this.col)return""!==this.col[t].winBid&&(e[t]=this.col[t]),e}},o=a;t["default"]=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.combine=void 0;var r=n(i(14)),a=(n(i(16)),{appnexus:i(3)}),o=[r["default"],i(3)];t.combine=o;var s=a;t["default"]=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return s(e)||o(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(d){r=!0,a=d}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw a}}return i}}function s(e){if(Array.isArray(e))return e}var d=n(i(0)),l=n(i(1)),c=n(i(7));Object.duplicate=function(e){};var u={jptCall:function(e){var t="",i=e.sizes[0];if(e.sizes.length>1){t+="promo_sizes=";for(var n=1;n<e.sizes.length;n++)t+=e.sizes[n]+",";t=d["default"].removeLastComma(t),t+="&"}var r="http"+("https:"===document.location.protocol?"s://secure.adnxs.com/jpt?":"://ib.adnxs.com/jpt?");return r+="callback=districtmHeader.ssp.appnexus.handleAppNexusCallback&",r+="callback_uid="+e.auctionId+"~"+e.zone+"~"+e.ggle+"&",r+="psa=0&",r+="zone="+e.zone+"&",r+="id="+e.id+"&",r+="member_id="+e.memberId+"&",r+="size="+i+"&",r+=t,r+="referrer="+d["default"].getTopWindowUrl()},getAppNexusBid:function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),l["default"].update(t.auctionId,{start:d["default"].timer()}),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))},handleAppNexusCallback:function(e){if(e.result&&e.result.cpm&&0!==e.result.cpm){var t,i=e.callback_uid;if(e.result&&e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4,t=t>20?20:t;var n=(e.result.ad,e.result.creative_id,{});n.winBid=parseFloat(t*districtmRatio*districtmCurrencyRate).toFixed(2),n.adUrl=e.result.ad,n.trackingUrl="",e.result.deal_id&&(n.deal_id=e.result.deal_id),n.callBackId=i.split("~")[0],n.auctionId=i.split("~")[0],n.adSlot=i.split("~")[2],n.ggle=i.split("~")[2],n.zone=i.split("~")[1],n.size=e.result.width+"x"+e.result.height,n.end=d["default"].timer(),l["default"].update(n.callBackId,n),d["default"].loadTime(l["default"].select(n)),n.load=l["default"].selectField(n.auctionId,"load"),window.districtmBids.push(n);try{for(var r=0;r<d["default"].keep4refresh.length;r++)d["default"].keep4refresh[r][0].ggle===n.adSlot}catch(a){}d["default"].logger(n),d["default"].setTargeting(l["default"].selectById(n.auctionId))}}},execute:function(e){var t=this;try{var i=d["default"].clone({},e);d["default"].isInArray("an",districtmSsp)&&(i.auctionId=d["default"].generateId(30),i.memberId=window.districtmAppnexusMemberId,i.ssp="appnexus",i.start=d["default"].timer(),l["default"].register(i.auctionId,i),this.getAppNexusBid(this.jptCall(i),i))}catch(n){d["default"].logger("error line 107-117 | ".concat(n.message))}try{if(window.districtmExtSSP.appnexus||window.districtmExtSSP.appnexusext){var a=d["default"].clone({ext:!0},e),o=window.districtmExtSSP.appnexus||window.districtmExtSSP.appnexusext,s=o.defaults,u=o.specific,f=0!==u.filter(function(e){return a.ggle===e.slotId}).length?u.filter(function(e){return a.ggle===e.slotId}):u.filter(function(e){return e.target.includes(a.ggle)}),g=0!==u.filter(function(e){return a.gglePlacement===e.slotId}).length?u.filter(function(e){return a.gglePlacement===e.slotId}):u.filter(function(e){return e.target.includes(a.gglePlacement)}),p=s[0];a=d["default"].clone(a,function(e,t,i){if(e.length>0){var n=r(e,1),a=n[0];return a}if(t.length>0){var o=r(t,1),s=o[0];return s}return c["default"].appnexusExt++,i}(f,g,p)),s.length===c["default"].appnexusExt&&(c["default"].appnexusExt=0),a.id=a.placementId||a.placement,a.ssp="appnexusext",a.auctionId=d["default"].generateId(30),d["default"].logger(140,a),l["default"].register(a.auctionId,a),this.getAppNexusBid(this.jptCall(a),a)}}catch(n){d["default"].logger("error line 118-127 | ".concat(n.message))}try{!function(e){if(window.districtmExtSSP.defymedia){var i=d["default"].clone({ext:!0},e),n=window.districtmExtSSP.defymedia,a=n.defaults,o=n.specific,s=o.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.ggle===e});return t.length>0}return!1}),c=o.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.gglePlacement.indexOf(e)!==-1});return t.length>0}return!1}),u=a[0];i=d["default"].clone(i,function(e,t,i){if(e.length>0){var n=r(e,1),a=n[0];return a}if(t.length>0){var o=r(t,1),s=o[0];return s}return i}(s,c,u)),i.placement&&(i.id=i.placement,i.ssp="defymedia",i.auctionId=d["default"].generateId(30),d["default"].logger(141,i),l["default"].register(i.auctionId,i),t.getAppNexusBid(t.jptCall(i),i))}}(e)}catch(n){d["default"].logger("error defymedia adapter ".concat(n.message))}try{!function(e){if(window.districtmExtSSP.brealtime){var i=d["default"].clone({ext:!0},e),n=window.districtmExtSSP.brealtime,a=n.defaults,o=n.specific,s=o.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.ggle===e});return t.length>0}return!1}),c=o.filter(function(e){if(e.target.length>0){var t=e.target.filter(function(e){return i.gglePlacement.indexOf(e)!==-1});return t.length>0}return!1}),u=a[0];i=d["default"].clone(i,function(e,t,i){if(e.length>0){var n=r(e,1),a=n[0];return a}if(t.length>0){var o=r(t,1),s=o[0];return s}return i}(s,c,u)),i.placement&&(i.id=i.placement,i.ssp="brealtime",i.auctionId=d["default"].generateId(30),d["default"].logger(141,i),l["default"].register(i.auctionId,i),t.getAppNexusBid(t.jptCall(i),i))}}(e)}catch(n){d["default"].logger("error brealtime adapter ".concat(n.message))}window.inc_adnxs++}};e.exports=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s=n(i(0)),d=function(){function e(){r(this,e),this.mappingId={},this.mappingSize=[],this.windowSize=this.findWindowSize(),this.screenSize={desktop:{resolution:[3e3,980],mp:{}},tablet:{resolution:[979,768],mp:{}},phablet:{resolution:[767,481],mp:{}},phone:{resolution:[480,0],mp:{}}}}return o(e,[{key:"addSize",value:function(e,t,i){i&&"string"==typeof i&&(this.mappingId[i]?this.mappingId[i].push([e,this.formatForDm(t)]):(this.mappingId[i]=[],this.mappingId[i].push([e,this.formatForDm(t)]))),s["default"].logger("none of the value can be mapped: Error argument #3 ".concat(JSON.stringify(i)," needs to be an array if you are targeting an id ")),s["default"].logger("none of the value can be mapped: Error argument #1 ".concat(JSON.stringify(e)," needs to be one of this value ").concat(Object.keys(this.screenSize)," if you are targeting an id "))}},{key:"formatId",value:function(e){var t=this,i=e.map(function(e){if(e[0][0]>t.windowSize&&e[0][1]<t.windowSize)return e[1]});return i}},{key:"formatForDm",value:function(e){return Array.isArray(e[0])?e.map(function(e){return"".concat(e[0],"x").concat(e[1])}):"".concat(e[0],"x").concat(e[1])}},{key:"setProperSize",value:function(e){}},{key:"findWindowSize",value:function(){var e=window,t=document,i=t.documentElement,n=e.innerWidth||i.clientWidth;return n}}]),e}(),l=new d;t["default"]=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s=(n(i(0)),function(){function e(){r(this,e)}return o(e,[{key:"sendToGoogle",value:function(e,t){for(var i=0;i<t.length;i++){var n={divId:e.ggle,winBid:e.winBid,size:e.size,gglePlacement:e.gglePlacement,rRev:(e.winBid/1e3).toFixed(5)};t[i](n)}}}]),e}()),d=new s;t["default"]=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=n(i(0)),a=n(i(2));i(8);e.exports={list:[],fetchBids:function(e){Object.forEach(a["default"],function(t){t.execute(e)})},listAddSsp:function(){},"do":function(e,t){t(e)},mapping:function(e){var t=this,i=0,n={};for(var a in e){if("undefined"!=typeof window.districtmEasyMap[i]){var o=r["default"].intersect(e[a].sizes,districtmAllowedSizes);n[i]={id:districtmEasyMap[i].id,zone:districtmEasyMap[i].zoneId,ggle:e[a].id,sizes:o}}else r["default"].logger("districtm warning: no district m placement for "+e[a].id);i++}t.fetchBids(n)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.size=void 0;var n={appnexus:0,appnexusExt:0,indexx:{inc:0,size:[]},indexInc:0,sovrn:0,return2Zero:function(e){this[e]=0}},r=[];t.size=r;var a=n;t["default"]=a},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=n(i(0)),a=function(){this.extManual={},this.settings=function(e){this.extManual[e.ssp]?this.extManual[e.ssp].push(e):(this.extManual[e.ssp]=[],this.extManual[e.ssp].push(e))},this["import"]=function(e){for(var t=0;t<e.lenght;t++)this.extManual[e[t].ssp]?this.extManual[e[t].ssp]=e[t].info:this.extManual[e[t].ssp]=e[t].info;r["default"].logger(this.extManual)}};e.exports=new a},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=n(i(1)),a=i(0),o=function(){this.realCall={},this.run=function(){var e=this;window.dmList={};var t=a.defineSlot;window.dmList.enableSyncRendering=window.googletag.enableSyncRendering,window.dmList.enableSyncRenderingF=window.googletag.pubads().enableSyncRendering,window.dmList.display=window.googletag.display,window.dmList.displayF=window.googletag.pubads().display,window.dmList.refresh=window.googletag.refresh,window.dmList.refreshF=window.googletag.pubads().refresh,window.dmList.enableSingleRequest=window.googletag.pubads().enableSingleRequest,window.dmList.disableInitialLoad=window.googletag.disableInitialLoad,window.dmList.disableInitialLoadF=window.googletag.pubads().disableInitialLoad,window.dmList.defineSlot=window.googletag.defineSlot,window.googletag.enableSyncRendering=function(){},window.googletag.pubads().enableSyncRendering=function(){},window.googletag.display=function(){1===arguments.length&&(e.realCall[arguments[0]]||(e.realCall[arguments[0]]=arguments[0])),window.dmList.display.apply(this,arguments)},window.googletag.pubads().display=function(){window.dmList.displayF.apply(this,arguments)},window.googletag.pubads().refresh=function(){window.dmList.refreshF.apply(this,arguments)},window.googletag.refresh=function(){for(var e in r["default"].col);window.dmList.refresh.apply(this,arguments)},window.googletag.pubads().enableSingleRequest=function(){window.dmList.enableSingleRequest.apply(this,arguments)},window.googletag.disableInitialLoad=function(){window.dmList.disableInitialLoad.apply(this,arguments)},window.googletag.pubads().disableInitialLoad=function(){},window.googletag.defineSlot=function(){return a.defineSlot.apply(this,arguments),window.dmList.defineSlot.apply(this,arguments)},a.defineSlot=function(){t.apply(this,arguments)}}};e.exports=new o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){d["default"].logger("in callback 1"),d["default"].logger("in callback 2");try{o["default"].set("dmxRegion",e.gdprApplies)}catch(t){}return"false"!==o["default"].get("dmxRegion")?(d["default"].logger("done"),null):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],void googletag.cmd.push(function(){if(1===window.districtmMethod&&0===window.districtmExec){window.districtmExec++;var e=googletag;e.def=e.defineSlot,e.oop=e.defineOutOfPageSlot,e.dis=e.display,e.dmr=e.pubads().refresh,e.defineSlot=function(){return d["default"].logger("call function 1"),districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.def.apply(this,arguments)},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")})}if(2===window.districtmMethod&&0===window.districtmExec){window.districtmExec++,districtmHeader.utils.logger("inforce listener");var e=googletag;e.def=e.defineSlot,e.dsp=e.display,e.oop=e.defineOutOfPageSlot,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.setTargeting("dm_cpm","0").setTargeting("dm_adslot","null").setTargeting("dmw_ssp","null").setTargeting("dm_size","null"),e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size","dmw_ssp"),districtmHeader.utils.logger("Remove DM targeting")}),e.display=function(){var t=this;d["default"].logger("display shoud timeout");var i=arguments;setTimeout(function(){try{window.districtmExtSSP.facebook&&h["default"].exec(i[0])}catch(n){}e.dsp.apply(t,i)},window.districtmHeaderTimeOut)},e.defineSlot=function(){var t=e.def.apply(this,arguments);try{t.sMap=t.defineSizeMapping,t.defineSizeMapping=function(){return t.sMap.apply(this,arguments)}}catch(i){}return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),t},window.districtmHeader.utils.isInArray("touch",window.districtmSsp)}if(12===window.districtmMethod){districtmHeader.utils.logger("inforce listener");var e=googletag;e.def=e.defineSlot,e.dsp=e.display,e.display=function(){var t=this,i=arguments;m["default"].display(arguments[0],window.districtmHeaderTimeOut,function(){h["default"].exec(i[0]),e.dsp.apply(t,i)})},e.defineSlot=function(){m["default"].defineSlot.apply(m["default"],arguments);var t=e.def.apply(this,arguments);return t.sMap=t.defineSizeMapping,t.defineSizeMapping=function(){return t.sMap.apply(this,arguments)},t}}if(3===window.districtmMethod){var e=googletag;e.dmdef=googletag.defineSlot,e.dmpubads=e.pubads(),e.dmpubadsrf=e.dmpubads.refresh,e.dmd=googletag.display,e.oop=e.defineOutOfPageSlot,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.display=function(){var t=this,i=arguments;setTimeout(function(){e.dmd.apply(t,i)},window.districtmHeaderTimeOut)},googletag.pubads().refresh=function(){var t=this,i=arguments;arguments.length>0&&Array.from(arguments).forEach(function(e){e&&districtmHeader.list.forEach(function(t){e[0].getSlotElementId()===t[2]&&districtmHeader.utils.defineSlot(t[0],t[1],t[2])})}),setTimeout(function(){e.dmpubadsrf.apply(t,i)},350)},googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),districtmHeader.list=districtmHeader.list||[],districtmHeader.list.push(arguments),e.dmdef.apply(this,arguments)}}if(5===window.districtmMethod){var t=function(){googletag.pubads().refresh=function(){var t=this,i=arguments;setTimeout(function(){e.dmpubads.apply(t,i)},window.districtmHeaderTimeOut)},googletag.pubads().refresh()},e=googletag,i=!1;e.dmdef=googletag.defineSlot,e.dmpubads=e.pubads().refresh,e.diLoad=e.pubads().disableInitialLoad,e.ldisplay=e.display,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.pubads().disableInitialLoad=function(){i=!0,t(),e.diLoad.apply(this,arguments)},googletag.display=function(){var t=arguments,n=this;i?e.ldisplay.apply(this,arguments):setTimeout(function(){e.ldisplay.apply(n,t)},window.districtmHeaderTimeOut)},googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.dmdef.apply(this,arguments)}}if(40===window.districtmMethod){var e=googletag;e.dmdef=googletag.defineSlot,e.dmpubads=e.pubads().refresh,e.dmd=googletag.display,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),googletag.display=function(){var t=this,i=arguments;setTimeout(function(){e.dmd.apply(t,i)},0)},googletag.pubads().refresh=function(){var t=arguments[0];window.steve=t,h["default"].exec(t[0].getSlotElementId());var i=this,n=arguments;setTimeout(function(){e.dmpubads.apply(i,n)},window.districtmHeaderTimeOut)},googletag.defineSlot=function(){return districtmHeader.utils.defineSlot(arguments[0],arguments[1],arguments[2]),e.dmdef.apply(this,arguments)}}if(7===window.districtmMethod){var e=googletag;e.dis=e.display,e.display=function(){var t=arguments,i=this;setTimeout(function(){e.dis.apply(i,t),d["default"].logger("in display")},200)},e.def=e.defineSlot,e.defineSlot=function(){var t=e.def.apply(this,arguments);return t.sMap=t.defineSizeMapping,t.defineSizeMapping=function(){var e;try{var i=arguments[0];e=i.filter(function(e){return e[0][0]<g["default"].windowSize})}catch(n){}try{d["default"].defineSlot("123",e[0][1],this.getSlotElementId())}catch(n){}return t.sMap.apply(this,arguments)},t},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")})}if(8===window.districtmMethod){d["default"].logger(googletag);var e=googletag;e.dis=e.display,e.display=function(){var t=arguments,i=this;setTimeout(function(){e.dis.apply(i,t),d["default"].logger("in display => ".concat(JSON.stringify(t)))},window.districtmHeaderTimeOut)},e.def=e.defineSlot,e.defineSlot=function(){var t=Array.prototype.slice.call(arguments),i=t[0],n=t[1],r=t[2];window.districtmHeader.ls=window.districtmHeader.ls||{},window.districtmHeader.ls[r]=new p.EventLogger(i,n,r),window.districtmHeader.ls[r].timeOut();var a=e.def.apply(this,arguments);return a.sMap=a.defineSizeMapping,a.defineSizeMapping=function(){var e;try{var t=arguments[0];e=t.filter(function(e){return e[0][0]<g["default"].windowSize})}catch(n){}try{window.districtmHeader.ls[this.getSlotElementId()].kill(),d["default"].defineSlot(i,e[0][1],this.getSlotElementId())}catch(n){}return a.sMap.apply(this,arguments)},a},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")})}if(9===window.districtmMethod){var e=googletag;e.dis=e.display,e.brefresh=e.pubads().refresh,e.def=e.defineSlot,e.defineSlot=function(){var t=Array.prototype.slice.call(arguments),i=t[0],n=t[1],r=t[2];window.districtmHeader.ls=window.districtmHeader.ls||{},window.districtmHeader.ls[r]=new p.EventLogger(i,n,r),window.districtmHeader.ls[r].timeOut();var a=e.def.apply(this,arguments);return a.sMap=a.defineSizeMapping,a.defineSizeMapping=function(){var e=arguments[0],t=e.filter(function(e){return e[0][0]<g["default"].windowSize});try{window.districtmHeader.ls[this.getSlotElementId()].kill(),d["default"].defineSlot(i,t[0][1],this.getSlotElementId())}catch(n){}return a.sMap.apply(this,arguments)},a},googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),e.pubads().refresh=function(){var t=arguments,i=this;setTimeout(function(){e.brefresh.apply(i,t)},window.districtmHeaderTimeOut)}}if(11===window.districtmMethod){var e=googletag;e.dis=e.display,e.brefresh=e.pubads().refresh,e.def=e.defineSlot,googletag.pubads().addEventListener("slotRenderEnded",function(e){e.slot.clearTargeting("dm_cpm","dm_adslot","dm_size"),districtmHeader.utils.logger("Remove DM targeting")}),e.display=function(){var t=arguments,i=this,n=window.googletag.pubads().getSlots();n.forEach(function(e){if(t[0]===e.getSlotElementId()){var i=e.getSizes().map(function(e){return[e.l,e.j]});d["default"].defineSlot("",i,e.getSlotElementId())}}),setTimeout(function(){e.dis.apply(i,t)},window.districtmHeaderTimeOut)}}}))}var a=i(11),o=n(i(17)),s=n(i(18)),d=n(i(0)),l=n(i(5)),c=(n(i(19)),n(i(2))),u=n(i(1)),f=n(i(7)),g=n(i(4)),p=i(20),m=n(i(21)),h=n(i(22));if(i(23),d["default"].logger("in file "),o["default"].set("dmxRegion","false"),o["default"].get().hasOwnProperty("dmxRegion"))d["default"].logger("check cookie"),"true"!==o["default"].get("dmxRegion")&&r();else{d["default"].logger("ust called cookie");var y=new a.SetRegion(r);y.run()}try{d["default"].logger("v4.5")}catch(w){}Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(){try{var e=window.location.search.replace("?","").split("&");e=e.reduce(function(e,t){return e[t.split("=")[0]]=t.split("=")[1],e},{}),"true"===e.dmConsole&&window.localStorage.setItem("dmConsole",!0)}catch(t){}}(),window.addEventListener("message",function(e){if(districtmHeader.collections.col[e.data.districtmHeader])for(var t=document.getElementsByTagName("iframe"),i=0;i<t.length;i++)t[i].contentWindow.postMessage({districtmHeader:districtmHeader.collections.col[e.data.districtmHeader]},"*")});try{window.districtmCurrencyObject={aud:1.3894,bgn:1.6811,brl:4.1188,cad:1.3184,chf:.96914,cny:6.8292,czk:22.103,dkk:6.4094,gbp:.77208,hkd:7.8498,hrk:6.39,huf:280.63,idr:14891,ils:3.5848,inr:71.96,isk:109.85,jpy:111.35,krw:1121.5,mxn:19.224,myr:4.1362,nok:8.403,nzd:1.5156,php:53.801,pln:3.7118,ron:3.987,rub:68.399,sek:9.1035,sgd:1.3753,thb:32.775,"try":6.5568,zar:15.32,eur:.85955},districtmCurrencyObject[districtmCurrency]&&(districtmCurrencyRate=districtmCurrencyObject[districtmCurrency])}catch(w){}(0,s["default"])();window.dm1x1=!1,window.dmNeverCall=!1,window.districtmExec=window.districtmExec||0,window.districtmBids=window.districtmBids||[],window.districtmHeader=window.districtmHeader||{};var v=new Date;v.getTime();window.districtmManualMap=window.districtmManualMap||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],districtmHeader.widget=i(24),districtmHeader.utils=d["default"],districtmHeader.bidding=i(6),window.districtmGA=window.districtmGA||[],districtmHeader.google=l["default"],districtmHeader.ssp=c["default"],districtmHeader.collections=u["default"],districtmHeader.fty=i(8),districtmHeader.listener=i(9),districtmHeader.version=i(25),districtmHeader.inc=f["default"],districtmHeader.mapping=g["default"],districtmHeader.register=m["default"],districtmHeader.list=districtmHeader.list||[],districtmHeader.utils.startShift(),googletag.cmd.push(function(){})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t.SetRegion=void 0;var s=(n(i(0)),function(){function e(t){r(this,e),this.url="https://services.districtm.net/gdpr/v1",this.callback=t}return o(e,[{key:"run",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(i){t.readyState===XMLHttpRequest.DONE&&(200===t.status?e.callback(JSON.parse(t.responseText)):e.callback({}))},t.open("GET",this.url,!0),t.send(null)}}]),e}());t.SetRegion=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s=n(i(0)),d=n(i(1)),l=function(){function e(){r(this,e),this.url=window.location.href.indexOf("https")!=-1?"//secure.adnxs.com/jpt?":"//ib.adnxs.com/jpt?",this.memberId=1908,this.name="pixl"}return o(e,[{key:"jptCall",value:function(e){var t=(e.sizes[0],"".concat(this.url,"callback=window.districtmHeader.ssp.pixl.cb&callback_uid=").concat(e.auctionId,"&psa=0&zone=").concat(e.zone,"&id=").concat(e.id,"&size=320x50&referrer=").concat(s["default"].getTopWindowUrl()));return t}},{key:"cb",value:function(e){if(e.result&&e.result.cpm&&0!==e.result.cpm){var t,i=e.callback_uid;if(e.result&&e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4;var n=s["default"].clone({},d["default"].selectById(i));n.winBid=parseFloat(t*districtmRatio*districtmCurrencyRate).toFixed(4),n.adUrl=e.result.ad,n.size="320x50",n.width=320,n.height=50,n.end=s["default"].timer(),s["default"].loadTime(d["default"].select(n)),n.load=d["default"].selectField(n.auctionId,"load"),window.districtmBids.push(n),d["default"].update(n.auctionId,n),s["default"].logger(n),s["default"].setTargeting(d["default"].selectById(n.auctionId))}}}},{key:"getAppNexusBid",value:function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e;var n=document.getElementsByTagName("head");n=n.length?n:document.getElementsByTagName("body"),d["default"].update(t.auctionId,{start:s["default"].timer()}),n.length&&(n=n[0],n.insertBefore(i,n.firstChild))}},{key:"helperFile",value:function(){var e=document.createElement("script");e.async=!0,e.src="https://cdn.districtm.ca/receiver/ad-receiver.js",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"execute",value:function(e){var t=s["default"].clone({},e);s["default"].isInArray("touch",window.districtmSsp)&&s["default"].isInArray("320x50",t.sizes)&&s["default"].isMobile()&&(this.helperFile(),t.auctionId=s["default"].generateId(30),t.zone=window.districtmEasyMap[0].zoneId,t.memberId=this.memberId,t.id=window.districtmEasyMap[0].id,t.dmtagid=window.districtmEasyMap[0].dmtagid,t.ssp="touch",t.adSlot=t.ggle,d["default"].register(t.auctionId,t),this.getAppNexusBid(this.jptCall(t),t),this.execute=function(e){})}}]),e}(),c=new l;t["default"]=c},function(e,t,i){"use strict";function n(e){try{var t=e;return o[t]?o[t]:3}catch(i){return 3}}function r(e){return e}function a(){return 1===arguments.length?!!arguments[0].districtmDomain:"undefined"!=typeof window&&"undefined"!=typeof window.districtmDomain}Object.defineProperty(t,"__esModule",{value:!0}),t.clean=n,t.removeExtention=r,t.replaceDomain=a,t["default"]=void 0;var o={},s=o;t["default"]=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return s(e)||o(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(d){r=!0,a=d}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw a}}return i}}function s(e){if(Array.isArray(e))return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=n(i(0)),f=n(i(1)),g=(n(i(15)),function(){function e(){d(this,e),this.syncURL="https://cdn.districtm.io/ids/index.html",this.sync()}return c(e,[{key:"qryStringCall",value:function(e){var t=e.sizes,i=(t[0],"https://dmx.districtm.io/b/v1");return i}},{key:"getBid",value:function(e,t){var i=this,n=districtmHeaderTimeOut,r={id:u["default"].generateId(16),cur:["USD"],tmax:0===n?500:n-100,site:{publisher:{id:String(t.memberid)}}},a={};a.id=t.auctionId,a.tagid=t.dmxid,a.secure="https:"===window.location.protocol?1:0;var o=t.sizes.map(function(e){return e.split("x").map(function(e){return parseInt(e)})});a.banner={topframe:1,w:o[0][0]||0,h:o[0][1]||0,format:o.map(function(e){return{w:e[0],h:e[1]}})},r.imp=[a];var s;window.XMLHttpRequest?s=new XMLHttpRequest:window.ActiveXObject("Microsoft.XMLHTTP")&&(s=new ActiveXObject("Microsoft.XMLHTTP")),s.onreadystatechange=function(){if((200===s.status||204===s.status)&&4===s.readyState)try{i.handleDistrictmCallback(JSON.parse(s.responseText),t)}catch(e){u["default"].logger("Adaptor districtm Error: ".concat(e))}},s.withCredentials=!0,s.open("post",e,!0),s.setRequestHeader("Content-type","text/plain"),s.send(JSON.stringify(r))}},{key:"sync",value:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("iframe");t.src=this.syncURL,t.marginHeight="0",t.marginWidth="0",t.scrolling="no",t.setAttribute("style","display: none; border: 0px;"),t.width="0px",t.height="0px",e.appendChild(t)}},{key:"handleDistrictmCallback",value:function(e,t){u["default"].logger(e);if(e.seatbid&&Array.isArray(e.seatbid)){var i=e.seatbid[0].bid[0],n={};n.winBid=i.price>20?20:i.price,n.auctionId=i.impid,n.html=i.adm,n.callBackId=i.impid,n.adSlot=i.impid,n.adSize=i.w&&i.h?"".concat(i.w,"x").concat(i.h):t.sizes[0],n.size=i.w&&i.h?"".concat(i.w,"x").concat(i.h):t.sizes[0],n.ssp="dmx2",n.end=u["default"].timer(),u["default"].logger(544),u["default"].logger(n),u["default"].logger(t),f["default"].update(n.auctionId,n),u["default"].loadTime(f["default"].select(n)),n.load=f["default"].selectField(n.auctionId,"load"),u["default"].setTargeting(f["default"].selectById(n.auctionId))}}},{key:"execute",value:function(e){var t=this,i=districtmEasyMap.length,n=0;if(1===e.length){var a=r(e,1);a[0]}e.length>1,e.forEach(function(e){if(Array.isArray(e)){var a=r(e,3),o=a[0],s=a[1],d=a[2],l=u["default"].clone({},{gglePlacement:o,sizes:s,ggle:d});l.start=u["default"].timer(),l.auctionId=u["default"].generateId(12),l.impid=u["default"].generateId(12),l.ssp="dmx2",l.zone=districtmEasyMap[n].zoneId,l.dmxid=districtmEasyMap[n].dmtagid,l.memberid=window.districtmMemberId,f["default"].register(l.auctionId,l),t.getBid(t.qryStringCall(l),l),n++,n===i&&(n=0)}else{var l=u["default"].clone({},e);l.start=u["default"].timer(),l.auctionId=u["default"].generateId(12),l.impid=u["default"].generateId(12),l.memberid=window.districtmMemberId,l.ssp="dmx2",l.dmxid=districtmEasyMap[n].dmtagid,f["default"].register(l.auctionId,l),t.getBid(t.qryStringCall(l),l)}})}}]),e}()),p=new g;t["default"]=p},function(e,t,i){"use strict";function n(e,t){return o(e)||a(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(d){r=!0,a=d}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw a}}return i}}function o(e){if(Array.isArray(e))return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,i){return t&&d(e.prototype,t),i&&d(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=function(){function e(){s(this,e)}return l(e,[{key:"remove",value:function(e,t){this.register(e,"",this.extend(t,{expires:-1}))}},{key:"set",value:function(e,t,i){var n;if(i=this.extend({path:"/"},{},i),"number"==typeof i.expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*i.expires),i.expires=r}try{n=JSON.stringify(t),/^[\{\[]/.test(n)&&(t=n)}catch(a){}return t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",t,i.expires&&"; expires="+i.expires,i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}},{key:"isSet",value:function(e){if(!e)return!1;var t=document.cookie?document.cookie.split("; "):[],i=t.filter(function(t){var i=t.split("="),r=n(i,2),a=r[0],o=r[1];if(a===e)return o});return i.length>0}},{key:"get",value:function(e){if(!e)return!1;var t=document.cookie?document.cookie.split("; "):[],i=t.filter(function(t){var i=t.split("="),r=n(i,2),a=r[0],o=r[1];if(a===e)return o});if(i.length>0){var r=n(i,1),a=r[0];return a.indexOf("true")!==-1}return!1}},{key:"Boolean",value:function(e){if(!e)return!1;var t=document.cookie?document.cookie.split("; "):[],i=t.filter(function(t){var i=t.split("="),r=n(i,2),a=r[0],o=r[1];if(a===e)return o});if(i.length>0){var r=n(i,1),a=r[0];return a.indexOf("true")!==-1}return!1}},{key:"update",value:function(e){var t=e.split(";"),i=n(t,2),r=i[0],a=i[1],o={expires:new Date(a.split("=")[1]).toUTCString()};this.set("_"+r.split("=")[0],r.split("=")[1],o)}},{key:"extend",value:function(){for(var e={},t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){for(var i in t)e[i]=t[i]}),e}}]),e}(),u=new c;t["default"]=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return s(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=n(i(0)),f=n(i(1)),g=(n(i(3)),function(){function e(){d(this,e),this.url="//ib.adnxs.com/ut/v2/prebid",this.memberId=1908}return c(e,[{key:"execute",value:function(e){var t=districtmEasyMap.length,i=0,n=e.map(function(e){var n={};return n.gglePlacement=e[0],n.ggle=e[2],n.adSlot=n.ggle,n.auctionId=u["default"].generateId(12,"text"),n.sizes=[],e[1].forEach(function(e){n.sizes.push(e.split("x"))}),n.ssp="appnexus",n.params=n,n.placementId=districtmEasyMap[i].id,n.id=districtmEasyMap[i].dmtagid,i<t?i++:i=0,f["default"].register(n.auctionId,n),n});u["default"].ajaxObj(this.buildRequests(n,u["default"].generateId(12,"text")),this.cb)}},{key:"bidToTag",value:function(e){var t={};return t.sizes=this.transformSizes(e.sizes),t.primary_size=t.sizes[0],t.uuid=e.auctionId,t.id=parseInt(e.params.placementId),t.allow_smaller_sizes=!0,t.prebid=!0,t.disable_psa=!0,t}},{key:"transformSizes",value:function(e){var t=[],i={};if(1===e.length)i.width=parseInt(e[0][0],10),i.height=parseInt(e[0][1],10),t.push(i);else if(e.length>1)for(var n=0;n<e.length;n++){var r=e[n];i={},i.width=parseInt(r[0],10),i.height=parseInt(r[1],10),t.push(i)}return t}},{key:"cb",value:function(e){var t=e.tags;e.member_id;t&&t.length>0&&Array.isArray(t)&&t.forEach(function(e){try{}catch(t){}var i=u["default"].clone({},f["default"].selectById(e.uuid));try{i.ssp="appnexus",i.winBid=parseFloat(e.ads[0].cpm*districtmCurrencyRate).toFixed(2),i.html=e.ads[0].rtb.banner.content,i.width=e.ads[0].rtb.banner.width,i.height=e.ads[0].rtb.banner.height,i.size="".concat(i.width,"x").concat(i.height)}catch(t){i.winBid=0}try{var n=e.ads[0].rtb.trackers[0].impression_urls[0],r='<img src="'.concat(n,'" style="display:none;">');i.html+=r}catch(a){}f["default"].update(i.auctionId,i),u["default"].setTargeting(i)})}},{key:"buildRequests",value:function(e,t){var i,n=this,a=e.map(function(e){return n.bidToTag(e)}),o=!1;o&&(i={},Object.keys(o.params.user).filter(function(e){return USER_PARAMS.includes(e)}).forEach(function(e){return i[e]=o.params.user[e]}));var s=(this.memberId,this.memberId),d={tags:r(a),user:i,sdk:{source:"pbjs",version:"22"}};s>0&&(d.member_id=s);var l=JSON.stringify(d);return{method:"POST",url:this.url,data:l,bidderRequest:t}}}]),e}()),p=new g;t["default"]=p},function(e,t,i){var n,r;!function(a){var o=!1;if(n=a,r="function"==typeof n?n.call(t,i,t,e):n,!(void 0!==r&&(e.exports=r)),o=!0,e.exports=a(),o=!0,!o){var s=window.Cookies,d=window.Cookies=a();d.noConflict=function(){return window.Cookies=s,d}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,r,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if(a=e({path:"/"},n.defaults,a),"number"==typeof a.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}a.expires=a.expires?a.expires.toUTCString():"";try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(d){}r=i.write?i.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var l="";for(var c in a)a[c]&&(l+="; "+c,a[c]!==!0&&(l+="="+a[c]));return document.cookie=t+"="+r+l}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,g=0;g<u.length;g++){var p=u[g].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=p[0].replace(f,decodeURIComponent);if(m=i.read?i.read(m,h):i(m,h)||m.replace(f,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(d){}if(t===h){o=m;break}t||(o[h]=m)}catch(d){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t(function(){})})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(i(0)),a=function(){Object.forEach=function(e,t){for(var i in e)try{t(e[i]),r["default"].logger("ssp: ".concat(i,", message: was called for execution"))}catch(n){r["default"].logger("ssp: ".concat(i,", error: ").concat(n.message))}}},o=a;t["default"]=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s=n(i(0)),d=function(){function e(t){r(this,e),this.objPredefined=t}return o(e,[{key:"run",value:function(){for(var e in this.objPredefined)s["default"].defineSlot(e,this.objPredefined[e],e)}}]),e}(),l=d;t["default"]=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;var s=n(i(0)),d=function(){function e(t,i,n){r(this,e),this.ads={placement:t,size:i,target:n},this.run}return o(e,[{key:"timeOut",value:function(){var e=this;this.run=setTimeout(function(){var t=e.ads,i=t.placement,n=t.size,r=t.target;s["default"].logger("".concat(i," = ").concat(JSON.stringify(n)," = ").concat(r)),s["default"].logger("from timeout"),s["default"].defineSlot(i,n,r)},50)}},{key:"kill",value:function(){clearTimeout(this.run)}},{key:"what",value:function(){}}]),e}();t.EventLogger=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return s(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&l(e.prototype,t),i&&l(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=(n(i(0)),i(2)),f=!0,g=function(){function e(){d(this,e),this.keep=[],this.show=[]}return c(e,[{key:"run",value:function(){}},{key:"defineSlot",value:function(e,t,i){var n=[];Array.isArray(t[0])?(n=t.map(function(e){return"".concat(e[0],"x").concat(e[1])}),n=n.filter(function(e){return districtmAllowedSizes.indexOf(e)!=-1})):districtmAllowedSizes.indexOf("".concat(t[0],"x").concat(t[1]))!=-1&&(n=["".concat(t[0],"x").concat(t[1])]),n.length>0&&this.keep.push([e,n,i])}},{key:"display",value:function(e,t,i){var n,a=this,o=this.keep.filter(function(t){return t[2]===e});(n=this.show).push.apply(n,r(o)),f&&(setTimeout(function(){u.combine.forEach(function(e){return e.execute(a.show)})},100),f=!1),setTimeout(function(){i()},t)}}]),e}(),p=new g;t["default"]=p},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s=n(i(1)),d=n(i(0)),l={},c=function(){function e(){r(this,e)}return o(e,[{key:"each",value:function(e,t){var i;for(var n in e)if(e[n].ggle===t){l[t]||(l[t]=[]);var r=e[n],a=r.ssp,o=r.winBid,s=r.auctionid;a&&o&&(i=s,l[e[n].ggle].push({ssp:a,cpm:o}))}return!(!l[t]&&!Array.isArray(l[t]))&&{auctionid:i,bids:l[t]}}},{key:"exec",value:function(e){var t=this.each(s["default"].col,e);if(t){var i=new Image;i.src="//dmx.districtm.ca/csbl/".concat(d["default"].dmca_b64.encode(JSON.stringify(t)))}}}]),e}(),u=new c;t["default"]=u},function(e,t,i){"use strict";function n(e){return e&&DataView.prototype.isPrototypeOf(e)}function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return S.iterable&&(t[Symbol.iterator]=function(){return t}),t}function s(e){this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function l(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function c(e){var t=new FileReader,i=l(t);return t.readAsArrayBuffer(e),i}function u(e){var t=new FileReader,i=l(t);return t.readAsText(e),i}function f(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:S.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:S.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:S.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():S.arrayBuffer&&S.blob&&n(e)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):S.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||_(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):S.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));},S.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var i=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function w(e){var t=new s,i=e.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach(function(e){var i=e.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();t.append(n,r)}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}function b(e,t){return new Promise(function(i,n){function r(){o.abort()}var a=new h(e,t);if(a.signal&&a.signal.aborted)return n(new E("Aborted","AbortError"));var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:w(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;i(new v(t,e))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.onabort=function(){n(new E("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&S.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",r),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",r)}),o.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})}Object.defineProperty(t,"__esModule",{value:!0}),t.Headers=s,t.Request=h,t.Response=v,i.d(t,"DOMException",function(){return E}),t.fetch=b;var S={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(S.arrayBuffer)var x=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(e){return e&&x.indexOf(Object.prototype.toString.call(e))>-1};s.prototype.append=function(e,t){e=r(e),t=a(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},s.prototype["delete"]=function(e){delete this.map[r(e)]},s.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},s.prototype.set=function(e,t){this.map[r(e)]=a(t)},s.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},s.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),o(e)},s.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},s.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),o(e)},S.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},p.call(h.prototype),p.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];v.redirect=function(e,t){if(I.indexOf(t)===-1)throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})};var E=self.DOMException;try{new E}catch(M){E=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},E.prototype=Object.create(Error.prototype),E.prototype.constructor=E}b.polyfill=!0,self.fetch||(self.fetch=b,self.Headers=s,self.Request=h,self.Response=v)},function(e,t,i){"use strict";i(0);window.dmWidget={},e.exports={create:function(){var e=document.createElement("div"),t=document.createElement("div");return e.id="layer",e.style.position="fixed",e.style.width="100%",e.style.height="50px",e.style.zIndex="10000",e.style.left="0px",e.style.bottom="0px",t.id="dm_close",t.style.width="50px",t.style.height="50px",t.style.position="absolute",t.style.right="0px",t.style.backgroundColor="green",e.appendChild(t),this.append(e)},append:function(e){window.addEventListener("load",function(){document.getElementsByTagName("body")[0].appendChild(e)})},execute:function(){try{localStorage&&localStorage.dmComsole===!0&&this.create()}catch(e){}}}},function(e,t,i){"use strict";var n=(i(0),function(){this.info=function(){try{}catch(e){}}});e.exports=new n}]);